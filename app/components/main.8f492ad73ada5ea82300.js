(self.webpackChunkminoru_web=self.webpackChunkminoru_web||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},360:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function _(...t){return v(t)}function v(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:v(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class k extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new k(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}function T(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new R(t,this.project,this.thisArg))}}class R extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const D=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=O(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const L=t=>{if(t&&"function"==typeof t[g])return n=t,t=>{const e=n[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return D(t);if(M(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function F(t,e){return new b(n=>{const i=new h;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(M(t))return function(t,e){return new b(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(N(t))return F(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[P](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(L(t))}class B extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(e.closed)return;if(t instanceof b)return t.subscribe(e);let n;try{n=L(t)(e)}catch(i){e.error(i)}return n}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(z((n,i)=>V(t(n,i)).pipe(T((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new B(this),n=this.destination;n.add(e);const i=U(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return z(y,t)}function G(t,e){return e?F(t,e):new b(D(t))}function K(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return I(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:H(e)(G(t,n))}function W(){return function(t){return t.lift(new Q(t))}}class Q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new Y(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Y extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Z extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const X=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new x}function et(){return t=>{return W()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,X);return i.source=t,i.subjectFactory=n,i})(t));var e}}function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function it(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function st(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ot=nt({__forward_ref__:nt});function at(t){return t.__forward_ref__=at,t.toString=function(){return rt(this())},t}function lt(t){return ct(t)?t():t}function ct(t){return"function"==typeof t&&t.hasOwnProperty(ot)&&t.__forward_ref__===at}class ut extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ht(t){return"string"==typeof t?t:null==t?"":String(t)}function dt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ht(t)}function pt(t,e){const n=e?` in ${e}`:"";throw new ut("201",`No provider for ${dt(t)} found${n}`)}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gt(t){return yt(t,vt)||yt(t,wt)}function yt(t,e){return t.hasOwnProperty(e)?t[e]:null}function _t(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(Ct))?t[bt]:null}const vt=nt({"\u0275prov":nt}),bt=nt({"\u0275inj":nt}),wt=nt({ngInjectableDef:nt}),Ct=nt({ngInjectorDef:nt});var kt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let St;function xt(t){const e=St;return St=t,e}function Et(t,e,n){const i=gt(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&kt.Optional?null:void 0!==e?e:void pt(rt(t),"Injector")}function It(t){return{toString:t}.toString()}var Tt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Rt="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pt="undefined"!=typeof global&&global,Nt=Rt||Pt||Dt||Ot,Mt={},Lt=[],Ft=nt({"\u0275cmp":nt}),Vt=nt({"\u0275dir":nt}),Bt=nt({"\u0275pipe":nt}),jt=nt({"\u0275mod":nt}),Ut=nt({"\u0275loc":nt}),zt=nt({"\u0275fac":nt}),qt=nt({__NG_ELEMENT_ID__:nt});let $t=0;function Ht(t){return It(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||Lt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=$t++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Gt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Kt):null,n})}function Gt(t){return Jt(t)||function(t){return t[Vt]||null}(t)}function Kt(t){return function(t){return t[Bt]||null}(t)}const Wt={};function Qt(t){return It(()=>{const e={type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Wt[t.id]=t.type),e})}function Yt(t,e){if(null==t)return Mt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Zt=Ht;function Xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jt(t){return t[Ft]||null}function te(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}const ee=20,ne=10;function ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function re(t){return Array.isArray(t)&&!0===t[1]}function se(t){return 0!=(8&t.flags)}function oe(t){return 2==(2&t.flags)}function ae(t){return 1==(1&t.flags)}function le(t){return null!==t.template}function ce(t,e){return t.hasOwnProperty(zt)?t[zt]:null}class ue{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function he(){return de}function de(t){return t.type.prototype.ngOnChanges&&(t.setInput=fe),pe}function pe(){const t=me(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Mt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function fe(t,e,n,i){const r=me(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Mt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ue(l&&l.currentValue,e,o===Mt),t[i]=e}function me(t){return t.__ngSimpleChanges__||null}he.ngInherit=!0;const ge="http://www.w3.org/2000/svg";let ye;function _e(){return void 0!==ye?ye:"undefined"!=typeof document?document:void 0}function ve(t){return!!t.listen}const be={createRenderer:(t,e)=>_e()};function we(t){for(;Array.isArray(t);)t=t[0];return t}function Ce(t,e){return we(e[t])}function ke(t,e){return we(e[t.index])}function Se(t,e){return t.data[e]}function xe(t,e){return t[e]}function Ee(t,e){const n=e[t];return ie(n)?n:n[0]}function Ie(t){return 4==(4&t[2])}function Te(t){return 128==(128&t[2])}function Ae(t,e){return null==e?null:t[e]}function Re(t){t[18]=0}function De(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Oe={lFrame:nn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pe(){return Oe.bindingsEnabled}function Ne(){return Oe.lFrame.lView}function Me(){return Oe.lFrame.tView}function Le(t){return Oe.lFrame.contextLView=t,t[8]}function Fe(){let t=Ve();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ve(){return Oe.lFrame.currentTNode}function Be(t,e){const n=Oe.lFrame;n.currentTNode=t,n.isParent=e}function je(){return Oe.lFrame.isParent}function Ue(){Oe.lFrame.isParent=!1}function ze(){return Oe.isInCheckNoChangesMode}function qe(t){Oe.isInCheckNoChangesMode=t}function $e(){const t=Oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function He(){return Oe.lFrame.bindingIndex++}function Ge(t){const e=Oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ke(t,e){const n=Oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,We(e)}function We(t){Oe.lFrame.currentDirectiveIndex=t}function Qe(t){const e=Oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ye(){return Oe.lFrame.currentQueryIndex}function Ze(t){Oe.lFrame.currentQueryIndex=t}function Xe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Je(t,e,n){if(n&kt.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&kt.Host||(i=Xe(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Oe.lFrame=en();return i.currentTNode=e,i.lView=t,!0}function tn(t){const e=en(),n=t[1];Oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function en(){const t=Oe.lFrame,e=null===t?null:t.child;return null===e?nn(t):e}function nn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rn(){const t=Oe.lFrame;return Oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sn=rn;function on(){const t=rn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return Oe.lFrame.selectedIndex}function ln(t){Oe.lFrame.selectedIndex=t}function cn(){const t=Oe.lFrame;return Se(t.tView,t.selectedIndex)}function un(){Oe.lFrame.currentNamespace=ge}function hn(){Oe.lFrame.currentNamespace=null}function dn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pn(t,e,n){gn(t,e,3,n)}function fn(t,e,n,i){(3&t[2])===n&&gn(t,e,n,i)}function mn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function gn(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(yn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function yn(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const _n=-1;class vn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function bn(t,e,n){const i=ve(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Cn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function wn(t){return 3===t||4===t||6===t}function Cn(t){return 64===t.charCodeAt(0)}function kn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Sn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Sn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function xn(t){return t!==_n}function En(t){return 32767&t}function In(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Tn=!0;function An(t){const e=Tn;return Tn=t,e}let Rn=0;function Dn(t,e){const n=Pn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,On(i.data,t),On(e,null),On(i.blueprint,null));const r=Nn(t,e),s=t.injectorIndex;if(xn(r)){const t=En(r),n=In(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function On(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return _n;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return _n}function Mn(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(qt)&&(i=n[qt]),null==i&&(i=n[qt]=Rn++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Ln(t,e,n){if(n&kt.Optional)return t;pt(e,"NodeInjector")}function Fn(t,e,n,i){if(n&kt.Optional&&void 0===i&&(i=null),0==(n&(kt.Self|kt.Host))){const r=t[9],s=xt(void 0);try{return r?r.get(e,i,n&kt.Optional):Et(e,i,n&kt.Optional)}finally{xt(s)}}return Ln(i,e,n)}function Vn(t,e,n,i=kt.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qt)?t[qt]:void 0;return"number"==typeof e?e>=0?255&e:jn:e}(n);if("function"==typeof s){if(!Je(e,t,i))return i&kt.Host?Ln(r,n,i):Fn(e,n,i,r);try{const t=s(i);if(null!=t||i&kt.Optional)return t;pt(n)}finally{sn()}}else if("number"==typeof s){let r=null,o=Pn(t,e),a=_n,l=i&kt.Host?e[16][6]:null;for((-1===o||i&kt.SkipSelf)&&(a=-1===o?Nn(t,e):e[o+8],a!==_n&&Hn(i,!1)?(r=e[1],o=En(a),e=In(a,e)):o=-1);-1!==o;){const t=e[1];if($n(s,o,t.data)){const t=Un(o,e,n,r,i,l);if(t!==Bn)return t}a=e[o+8],a!==_n&&Hn(i,e[1].data[o+8]===l)&&$n(s,o,e)?(r=t,o=En(a),e=In(a,e)):o=-1}}}return Fn(e,n,i,r)}const Bn={};function jn(){return new Gn(Fe(),Ne())}function Un(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=zn(a,o,n,null==i?oe(a)&&Tn:i!=o&&0!=(3&a.type),r&kt.Host&&s===a);return null!==l?qn(e,o,l,a):Bn}function zn(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&le(t)&&t.type===n)return l}return null}function qn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof vn){const o=r;o.resolving&&function(t,e){throw new ut("200",`Circular dependency in DI detected for ${t}`)}(dt(s[n]));const a=An(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?xt(o.injectImpl):null;Je(t,i,kt.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=de(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&xt(l),An(a),o.resolving=!1,sn()}}return r}function $n(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Hn(t,e){return!(t&kt.Self||t&kt.Host&&e)}class Gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Vn(this._tNode,this._lView,t,void 0,e)}}function Kn(t){return It(()=>{const e=t.prototype.constructor,n=e[zt]||Wn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[zt]||Wn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function Wn(t){return ct(t)?()=>{const e=Wn(lt(t));return e&&e()}:ce(t)}function Qn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(wn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Fe(),t)}const Yn="__parameters__";function Zn(t,e,n){return It(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(Yn)?t[Yn]:Object.defineProperty(t,Yn,{value:[]})[Yn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Xn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Jn=new Xn("AnalyzeForEntryComponents"),ti=Function;function ei(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),ei(i,e)):e!==t&&e.push(i)}return e}function ni(t,e){t.forEach(t=>Array.isArray(t)?ni(t,e):e(t))}function ii(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ri(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function si(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function oi(t,e,n){let i=li(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ai(t,e){const n=li(t,e);if(n>=0)return t[1|n]}function li(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const ci={},ui=/\n/gm,hi="__source",di=nt({provide:String,useValue:nt});let pi;function fi(t){const e=pi;return pi=t,e}function mi(t,e=kt.Default){if(void 0===pi)throw new Error("inject() must be called from an injection context");return null===pi?Et(t,void 0,e):pi.get(t,e&kt.Optional?null:void 0,e)}function gi(t,e=kt.Default){return(St||mi)(lt(t),e)}const yi=gi;function _i(t){const e=[];for(let n=0;n<t.length;n++){const i=lt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=kt.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(gi(t,n))}else e.push(gi(i))}return e}function vi(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const bi=vi(Zn("Inject",t=>({token:t})),-1),wi=vi(Zn("Optional"),8),Ci=vi(Zn("SkipSelf"),4);let ki,Si;function xi(t){var e;return(null===(e=function(){if(void 0===ki&&(ki=null,Nt.trustedTypes))try{ki=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return ki}())||void 0===e?void 0:e.createHTML(t))||t}function Ei(t){var e;return(null===(e=function(){if(void 0===Si&&(Si=null,Nt.trustedTypes))try{Si=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Si}())||void 0===e?void 0:e.createHTML(t))||t}class Ii{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ti extends Ii{getTypeName(){return"HTML"}}class Ai extends Ii{getTypeName(){return"Style"}}class Ri extends Ii{getTypeName(){return"Script"}}class Di extends Ii{getTypeName(){return"URL"}}class Oi extends Ii{getTypeName(){return"ResourceURL"}}function Pi(t){return t instanceof Ii?t.changingThisBreaksApplicationSecurity:t}function Ni(t,e){const n=Mi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mi(t){return t instanceof Ii&&t.getTypeName()||null}class Li{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(S0){return null}}}class Fi{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xi(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ji(t){return(t=String(t)).match(Vi)||t.match(Bi)?t:"unsafe:"+t}function Ui(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const qi=Ui("area,br,col,hr,img,wbr"),$i=Ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hi=Ui("rp,rt"),Gi=zi(Hi,$i),Ki=zi(qi,zi($i,Ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zi(Hi,Ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gi),Wi=Ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qi=Ui("srcset"),Yi=zi(Wi,Qi,Ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zi=Ui("script,style,template");class Xi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ki.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!Yi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Wi[s]&&(o=ji(o)),Qi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>ji(t.trim())).join(", ")),this.buf.push(" ",e,'="',er(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ki.hasOwnProperty(e)&&!qi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(er(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ji=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tr=/([^\#-~ |!])/g;function er(t){return t.replace(/&/g,"&amp;").replace(Ji,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(tr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nr;function ir(t,e){let n=null;try{nr=nr||function(t){const e=new Fi(t);return function(){try{return!!(new window.DOMParser).parseFromString(xi(""),"text/html")}catch(S0){return!1}}()?new Li(e):e}(t);let i=e?String(e):"";n=nr.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=nr.getInertBodyElement(i)}while(i!==s);return xi((new Xi).sanitizeChildren(rr(n)||n))}finally{if(n){const t=rr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function rr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function or(t){const e=lr();return e?Ei(e.sanitize(sr.HTML,t)||""):Ni(t,"HTML")?Ei(Pi(t)):ir(_e(),ht(t))}function ar(t){const e=lr();return e?e.sanitize(sr.URL,t)||"":Ni(t,"URL")?Pi(t):ji(ht(t))}function lr(){const t=Ne();return t&&t[12]}function cr(t,e){t.__ngContext__=e}function ur(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function hr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class fr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||pr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}const mr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function gr(t){return t instanceof Function?t():t}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _r(t,e){return(void 0)(t,e)}function vr(t){const e=t[3];return re(e)?e[3]:e}function br(t){return Cr(t[13])}function wr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!re(t);)t=t[4];return t}function kr(t,e,n,i,r){if(null!=i){let s,o=!1;re(i)?s=i:ie(i)&&(o=!0,i=i[0]);const a=we(i);0===t&&null!==n?null==r?Dr(e,n,a):Rr(e,n,a,r||null,!0):1===t&&null!==n?Rr(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Pr(t,e);i&&function(t,e,n,i){ve(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==we(n)&&kr(e,t,i,s,r);for(let o=ne;o<n.length;o++){const r=n[o];Ur(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Sr(t,e,n){return ve(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,De(r,-1)),n.splice(i,1)}function Er(t,e){if(t.length<=ne)return;const n=ne+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&xr(s,i),e>0&&(t[n-1][4]=i[4]);const o=ri(t,ne+e);Ur(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ir(t,e){if(!(256&e[2])){const n=e[11];ve(n)&&n.destroyNode&&Ur(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Tr(t[1],t);for(;e;){let n=null;if(ie(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ie(e)&&Tr(e[1],e),e=e[3];null===e&&(e=t),ie(e)&&Tr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Tr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof vn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):we(e[t]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&ve(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&re(e[3])){n!==e[3]&&xr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ar(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===At.None||e===At.Emulated)return null}return ke(i,n)}(t,e.parent,n)}function Rr(t,e,n,i,r){ve(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Dr(t,e,n){ve(t)?t.appendChild(e,n):e.appendChild(n)}function Or(t,e,n,i,r){null!==i?Rr(t,e,n,i,r):Dr(t,e,n)}function Pr(t,e){return ve(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n){return Mr(t,e,n)}let Mr=function(t,e,n){return 40&t.type?ke(t,n):null};function Lr(t,e,n,i){const r=Ar(t,i,e),s=e[11],o=Nr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Or(s,r,n[a],o,!1);else Or(s,r,n,o,!1)}function Fr(t,e){if(null!==e){const n=e.type;if(3&n)return ke(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Fr(t,n);{const n=t[e.index];return re(n)?Br(-1,n):we(n)}}if(32&n)return _r(e,t)()||we(t[e.index]);{const n=Vr(t,e);return null!==n?Array.isArray(n)?n[0]:Fr(vr(t[16]),n):Fr(t,e.next)}}return null}function Vr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Br(t,e){const n=ne+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Fr(t,i)}return e[7]}function jr(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&cr(we(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)jr(t,e,n.child,i,r,s,!1),kr(e,t,r,a,s);else if(32&l){const o=_r(n,i);let l;for(;l=o();)kr(e,t,r,l,s);kr(e,t,r,a,s)}else 16&l?zr(t,e,i,n,r,s):kr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Ur(t,e,n,i,r,s){jr(n,i,t.firstChild,e,r,s,!1)}function zr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)kr(e,t,r,a[l],s);else jr(t,e,a,o[3],r,s,!0)}function qr(t,e,n){ve(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){ve(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Gr="ng-template";function Kr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Hr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Wr(t){return 4===t.type&&t.value!==Gr}function Qr(t,e,n){return e===(4!==t.type||n?t.value:Gr)}function Yr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(wn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Qr(t,l,n)||""===l&&1===e.length){if(Zr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Kr(t.attrs,c,n)){if(Zr(i))return!1;o=!0}continue}const u=Xr(8&i?"class":l,r,Wr(t),n);if(-1===u){if(Zr(i))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Hr(e,c,0)||2&i&&c!==t){if(Zr(i))return!1;o=!0}}}}else{if(!o&&!Zr(i)&&!Zr(l))return!1;if(o&&Zr(l))continue;o=!1,i=l|1&i}}return Zr(i)||o}function Zr(t){return 0==(1&t)}function Xr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let i=0;i<e.length;i++)if(Yr(t,e[i],n))return!0;return!1}function ts(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function es(t,e){return t?":not("+e.trim()+")":e}function ns(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Zr(o)||(e+=es(s,r),r=""),i=o,s=s||!Zr(i);n++}return""!==r&&(e+=es(s,r)),e}const is={};function rs(t){ss(Me(),Ne(),an()+t,ze())}function ss(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&pn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&fn(e,i,0,n)}ln(n)}function os(t,e){return t<<17|e<<2}function as(t){return t>>17&32767}function ls(t){return 2|t}function cs(t){return(131068&t)>>2}function us(t,e){return-131069&t|e<<2}function hs(t){return 1|t}function ds(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];Ze(r),n.contentQueries(2,e[s],s)}}}function ps(t,e,n,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Re(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function fs(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Ve(),o=je(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),Oe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=Oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Be(s,!0),s}function ms(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function gs(t,e,n){tn(e);try{const i=t.viewQuery;null!==i&&Gs(1,i,n);const r=t.template;null!==r&&vs(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ds(t,e),t.staticViewQueries&&Gs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Us(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,on()}}function ys(t,e,n,i){const r=e[2];if(256==(256&r))return;tn(e);const s=ze();try{Re(e),Oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&vs(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&pn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&fn(e,n,0,null),mn(e,0)}if(function(t){for(let e=br(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&De(i,1),n[2]|=1024}}}(e),function(t){for(let e=br(t);null!==e;e=wr(e))for(let t=ne;t<e.length;t++){const n=e[t],i=n[1];Te(n)&&ys(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&ds(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&pn(e,n)}else{const n=t.contentHooks;null!==n&&fn(e,n,1),mn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)ln(~i);else{const r=i,s=n[++t],o=n[++t];Ke(s,r),o(2,e[r])}}}finally{ln(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bs(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Gs(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&pn(e,n)}else{const n=t.viewHooks;null!==n&&fn(e,n,2),mn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,De(e[3],-1))}finally{on()}}function _s(t,e,n,i){const r=e[10],s=!ze(),o=Ie(e);try{s&&!o&&r.begin&&r.begin(),o&&gs(t,e,i),ys(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function vs(t,e,n,i,r){const s=an(),o=2&i;try{ln(-1),o&&e.length>ee&&ss(t,e,ee,ze()),n(i,r)}finally{ln(s)}}function bs(t,e,n){if(se(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function ws(t,e,n){Pe()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Dn(n,e),cr(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=le(i);s&&Ms(e,n,i);const l=qn(e,t,a,n);cr(l,e),null!==o&&Ls(0,a-r,l,i,0,o),s&&(Ee(n.index,e)[8]=l)}}(t,e,n,ke(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Oe.lFrame.currentDirectiveIndex;try{ln(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];We(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Rs(i,r)}}finally{ln(-1),We(o)}}(t,e,n))}function Cs(t,e,n=ke){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function ks(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ss(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ss(t,e,n,i,r,s,o,a,l,c){const u=ee+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:is);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function xs(t,e,n,i){const r=Ws(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Qs(t).push(i,r.length-1))}function Es(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Is(t,e,n,i,r,s,o,a){const l=ke(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(Xs(t,n,c,i,r),oe(e)&&function(t,e){const n=Ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,ve(s)?s.setProperty(l,i,r):Cn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ts(t,e,n,i){let r=!1;if(Pe()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Jr(n,o.selectors,!1)&&(r||(r=[]),Mn(Dn(n,e),t,o.type),le(o)?(Ds(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Ps(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=ms(t,e,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=kn(n.mergedAttrs,c.hostAttrs),Ns(t,n,e,l,c),Os(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||Wr(e)?null:Fs(n,r);s.push(c),o=Es(n,l,o),a=Es(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ut("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=kn(n.mergedAttrs,n.attrs),r}function As(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Rs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ds(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Os(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;le(e)&&(n[""]=t)}}function Ps(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ns(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=ce(r.type)),o=new vn(s,le(r),null);t.blueprint[i]=o,n[i]=o,As(t,e,0,i,ms(t,n,r.hostVars,is),r)}function Ms(t,e,n){const i=ke(e,t),r=ks(n),s=t[10],o=zs(t,ps(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Ls(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function Fs(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Vs(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Bs(t,e){const n=Ee(e,t);if(Te(n)){const t=n[1];80&n[2]?ys(t,n,t.template,n[8]):n[5]>0&&js(n)}}function js(t){for(let n=br(t);null!==n;n=wr(n))for(let t=ne;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ys(t,e,t.template,e[8])}else e[5]>0&&js(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Ee(e[n],t);Te(i)&&i[5]>0&&js(i)}}function Us(t,e){const n=Ee(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),gs(i,n,n[8])}function zs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qs(t){for(;t;){t[2]|=64;const e=vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $s(t,e,n){const i=e[10];i.begin&&i.begin();try{ys(t,e,t.template,n)}catch(r){throw Zs(e,r),r}finally{i.end&&i.end()}}function Hs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=ur(n),r=i[1];_s(r,i,r.template,n)}}(t[8])}function Gs(t,e,n){Ze(0),e(t,n)}const Ks=(()=>Promise.resolve(null))();function Ws(t){return t[7]||(t[7]=[])}function Qs(t){return t.cleanup||(t.cleanup=[])}function Ys(t,e,n){return(null===t||le(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Zs(t,e){const n=t[9],i=n?n.get(fr,null):null;i&&i.handleError(e)}function Xs(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Js(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=st(r,t):2==s&&(i=st(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const to=new Xn("INJECTOR",-1);class eo{get(t,e=ci){if(e===ci){const e=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new Xn("Set Injector scope."),io={},ro={};let so;function oo(){return void 0===so&&(so=new eo),so}function ao(t,e=null,n=null,i){return new lo(t,n,e||oo(),i)}class lo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ni(e,n=>this.processProvider(n,t,e)),ni([t],t=>this.processInjectorType(t,[],r)),this.records.set(to,ho(void 0,this));const s=this.records.get(no);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ci,n=kt.Default){this.assertNotDestroyed();const i=fi(this);try{if(!(n&kt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Xn)&&gt(t);e=n&&this.injectableDefInScope(n)?ho(co(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&kt.Self?oo():this.parent).get(t,e=n&kt.Optional&&e===ci?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(rt(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[hi]&&r.unshift(e[hi]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=rt(e);if(Array.isArray(e))r=e.map(rt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):rt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(ui,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{fi(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(rt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=lt(t)))return!1;let i=_t(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=_t(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{ni(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ni(i,t=>this.processProvider(t,n,i||Lt))}}this.injectorDefTypes.add(s);const a=ce(s)||(()=>new s);this.records.set(s,ho(a,io));const l=i.providers;if(null!=l&&!o){const e=t;ni(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=fo(t=lt(t))?t:lt(t&&t.provide);const r=function(t,e,n){return po(t)?ho(void 0,t.useValue):ho(uo(t),io)}(t);if(fo(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=ho(void 0,io,!0),e.factory=()=>_i(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===io&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=lt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function co(t){const e=gt(t),n=null!==e?e.factory:ce(t);if(null!==n)return n;if(t instanceof Xn)throw new Error(`Token ${rt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=si(e,"?");throw new Error(`Can't resolve all parameters for ${rt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[vt]||t[wt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function uo(t,e,n){let i;if(fo(t)){const e=lt(t);return ce(e)||co(e)}if(po(t))i=()=>lt(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(..._i(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>gi(lt(t.useExisting));else{const e=lt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ce(e)||co(e);i=()=>new e(..._i(t.deps))}var r;return i}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&di in t}function fo(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,i){const r=ao(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let go=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ci,t.NULL=new eo,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>gi(to)}),t.__NG_ELEMENT_ID__=-1,t})();function yo(t,e){dn(ur(t)[1],Fe())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(le(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=vo(t.inputs),e.declaredInputs=vo(t.declaredInputs),e.outputs=vo(t.outputs);const n=r.hostBindings;n&&Co(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&bo(t,s),o&&wo(t,o),it(t.inputs,r.inputs),it(t.declaredInputs,r.declaredInputs),it(t.outputs,r.outputs),le(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=kn(r.hostAttrs,n=kn(n,r.hostAttrs))}}(i)}function vo(t){return t===Mt?{}:t===Lt?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let ko=null;function So(){if(!ko){const t=Nt.Symbol;if(t&&t.iterator)ko=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ko=n)}}}return ko}class xo{constructor(t){this.wrapped=t}static wrap(t){return new xo(t)}static unwrap(t){return xo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof xo}}function Eo(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ro(t,e,n,i){const r=Ne();return Ao(r,He(),e)&&(Me(),function(t,e,n,i,r,s){const o=ke(t,e);!function(t,e,n,i,r,s,o){if(null==s)ve(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?ht(s):o(s,i||"",r);ve(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(cn(),r,t,e,n,i)),Ro}function Do(t,e,n,i){return Ao(t,He(),n)?e+ht(n)+i:is}function Oo(t,e,n,i,r,s,o,a){const l=Ne(),c=Me(),u=t+ee,h=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,u=fs(e,t,4,o||null,Ae(c,a));Ts(e,n,u,Ae(c,l)),dn(e,u);const h=u.tViews=Ss(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,r,s,o):c.data[u];Be(h,!1);const d=l[11].createComment("");Lr(c,l,d,h),cr(d,l),zs(l,l[u]=Vs(d,l,d,h)),ae(h)&&ws(c,l,h),null!=o&&Cs(l,h,a)}function Po(t){return xe(Oe.lFrame.contextLView,ee+t)}function No(t,e=kt.Default){const n=Ne();return null===n?gi(t,e):Vn(Fe(),n,lt(t),e)}function Mo(t,e,n){const i=Ne();return Ao(i,He(),e)&&Is(Me(),cn(),i,t,e,i[11],n,!1),Mo}function Lo(t,e,n,i,r){const s=r?"class":"style";Xs(t,n,e.inputs[s],s,i)}function Fo(t,e,n,i){const r=Ne(),s=Me(),o=ee+t,a=r[11],l=r[o]=Sr(a,e,Oe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=fs(e,t,2,r,Ae(a,s));return Ts(e,n,l,Ae(a,o)),null!==l.attrs&&Js(l,l.attrs,!1),null!==l.mergedAttrs&&Js(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,0,e,n,i):s.data[o];Be(c,!0);const u=c.mergedAttrs;null!==u&&bn(a,l,u);const h=c.classes;null!==h&&$r(a,l,h);const d=c.styles;null!==d&&qr(a,l,d),64!=(64&c.flags)&&Lr(s,r,l,c),0===Oe.lFrame.elementDepthCount&&cr(l,r),Oe.lFrame.elementDepthCount++,ae(c)&&(ws(s,r,c),bs(s,c,r)),null!==i&&Cs(r,c)}function Vo(){let t=Fe();je()?Ue():(t=t.parent,Be(t,!1));const e=t;Oe.lFrame.elementDepthCount--;const n=Me();n.firstCreatePass&&(dn(n,t),se(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,Ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,Ne(),e.stylesWithoutHost,!1)}function Bo(t,e,n,i){Fo(t,e,n,i),Vo()}function jo(t,e,n){const i=Ne(),r=Me(),s=t+ee,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ae(s,i),a=fs(e,t,8,"ng-container",o);return null!==o&&Js(a,o,!0),Ts(e,n,a,Ae(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Be(o,!0);const a=i[s]=i[11].createComment("");Lr(r,i,a,o),cr(a,i),ae(o)&&(ws(r,i,o),bs(r,o,i)),null!=n&&Cs(i,o)}function Uo(){let t=Fe();const e=Me();je()?Ue():(t=t.parent,Be(t,!1)),e.firstCreatePass&&(dn(e,t),se(t)&&e.queries.elementEnd(t))}function zo(t,e,n){jo(t,e,n),Uo()}function qo(){return Ne()}function $o(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}const Go=Ho;function Ko(t,e,n,i){const r=Ne(),s=Me(),o=Fe();return Qo(s,r,r[11],o,t,e,!!n,i),Ko}function Wo(t,e){const n=Fe(),i=Ne(),r=Me();return Qo(r,i,Ys(Qe(r.data),n,i),n,t,e,!1),Wo}function Qo(t,e,n,i,r,s,o,a){const l=ae(i),c=t.firstCreatePass&&Qs(t),u=Ws(e);let h=!0;if(3&i.type||a){const d=ke(i,e),p=a?a(d):d,f=u.length,m=a?t=>a(we(t[i.index])):i.index;if(ve(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Zo(i,e,0,s,!1);const t=n.listen(p,r,s);u.push(s,t),c&&c.push(r,m,f,f+1)}}else s=Zo(i,e,0,s,!0),p.addEventListener(r,s,o),u.push(s),c&&c.push(r,m,f,o)}else s=Zo(i,e,0,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function Yo(t,e,n,i){try{return!1!==n(i)}catch(r){return Zs(t,r),!1}}function Zo(t,e,n,i,r){return function n(s){if(s===Function)return i;const o=2&t.flags?Ee(t.index,e):e;0==(32&e[2])&&qs(o);let a=Yo(e,0,i,s),l=n.__ngNextListenerFn__;for(;l;)a=Yo(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Xo(t=1){return function(t){return(Oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Oe.lFrame.contextLView))[8]}(t)}function Jo(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Jr(t,s,!0):ts(i,s))return r}else n=r}return n}function ta(t){const e=Ne()[16][6];if(!e.projection){const n=e.projection=si(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Jo(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function ea(t,e=0,n){const i=Ne(),r=Me(),s=fs(r,ee+t,16,null,n||null);null===s.projection&&(s.projection=e),Ue(),64!=(64&s.flags)&&function(t,e,n){zr(e[11],0,e,n,Ar(t,n,e),Nr(n.parent||e[6],n,e))}(r,i,s)}function na(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?as(s):cs(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];ia(t[a],e)&&(l=!0,t[a+1]=i?hs(n):ls(n)),a=i?as(n):cs(n)}l&&(t[n+1]=i?ls(s):hs(s))}function ia(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&li(t,e)>=0}const ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sa(t){return t.substring(ra.key,ra.keyEnd)}function oa(t,e){const n=ra.textEnd;return n===e?-1:(e=ra.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ra.key=e,n),aa(t,e,n))}function aa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function la(t,e,n){return da(t,e,n,!1),la}function ca(t,e){return da(t,e,null,!0),ca}function ua(t){pa(oi,ha,t,!0)}function ha(t,e){for(let n=function(t){return function(t){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=t.length}(t),oa(t,aa(t,0,ra.textEnd))}(e);n>=0;n=oa(e,n))oi(t,sa(e),!0)}function da(t,e,n,i){const r=Ne(),s=Me(),o=Ge(2);s.firstUpdatePass&&ma(s,t,o,i),e!==is&&Ao(r,o,e)&&_a(s,s.data[an()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=rt(Pi(t)))),t}(e,n),i,o)}function pa(t,e,n,i){const r=Me(),s=Ge(2);r.firstUpdatePass&&ma(r,null,s,i);const o=Ne();if(n!==is&&Ao(o,s,n)){const a=r.data[an()];if(wa(a,i)&&!fa(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=st(t,n||"")),Lo(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===is&&(r=Lt);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,m=null;u===h?(l+=2,c+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,f=p),null!==m&&_a(t,e,n,i,m,f,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Lt;const i=[],r=Pi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function fa(t,e){return e>=t.expandoStartIndex}function ma(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[an()],o=fa(t,n);wa(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=Qe(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ya(n=ga(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=ga(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==cs(i))return t[as(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ga(null,t,e,n[1],i),n=ya(n,e.attrs,i),function(t,e,n,i){t[as(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ya(i,t[s].hostAttrs,n);return ya(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=as(o),l=cs(o);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||li(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=as(t[a+1]);t[i+1]=os(e,a),0!==e&&(t[e+1]=us(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=os(a,0),0!==a&&(t[a+1]=us(t[a+1],i)),a=i;else t[i+1]=os(l,0),0===a?a=i:t[l+1]=us(t[l+1],i),l=i;u&&(t[i+1]=ls(t[i+1])),na(t,c,i,!0),na(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&li(s,e)>=0&&(n[i+1]=hs(n[i+1]))}(e,c,t,i,s),o=os(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function ga(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=ya(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ya(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oi(t,o,!!n||e[++s]))}return void 0===t?null:t}function _a(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];ba(1==(1&c)?va(l,e,n,r,cs(c),o):void 0)||(ba(s)||2==(2&c)&&(s=va(l,null,n,r,a,o)),function(t,e,n,i,r){const s=ve(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:yr.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=yr.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Ce(an(),n),r,s))}function va(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[r+1];u===is&&(u=c?Lt:void 0);let h=c?ai(u,i):l===i?u:void 0;if(s&&!ba(h)&&(h=ai(e,i)),ba(h)&&(a=h,o))return a;const d=t[r+1];r=o?as(d):cs(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ai(t,i))}return a}function ba(t){return void 0!==t}function wa(t,e){return 0!=(t.flags&(e?16:32))}function Ca(t,e=""){const n=Ne(),i=Me(),r=t+ee,s=i.firstCreatePass?fs(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return ve(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Lr(i,n,o,s),Be(s,!1)}function ka(t){return Sa("",t,""),ka}function Sa(t,e,n){const i=Ne(),r=Do(i,t,e,n);return r!==is&&function(t,e,n){const i=Ce(e,t);!function(t,e,n){ve(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,an(),r),Sa}function xa(t,e,n){const i=Ne();return Ao(i,He(),e)&&Is(Me(),cn(),i,t,e,i[11],n,!0),xa}function Ea(t,e,n){const i=Ne();if(Ao(i,He(),e)){const r=Me(),s=cn();Is(r,s,i,t,e,Ys(Qe(r.data),s,i),n,!0)}return Ea}const Ia=void 0;var Ta=["en",[["a","p"],["AM","PM"],Ia],[["AM","PM"],Ia,Ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ia,"{1} 'at' {0}",Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Aa={};function Ra(t){return t in Aa||(Aa[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),Aa[t]}var Da=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oa="en-US";let Pa=Oa;function Na(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Pa=t.toLowerCase().replace(/_/g,"-"))}function Ma(t,e,n,i,r){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ma(t[s],e,n,i,r);else{const s=Me(),o=Ne();let a=fo(t)?t:lt(t.provide),l=uo(t);const c=Fe(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(fo(t)||!t.multi){const i=new vn(l,r,No),p=Va(a,e,r?u:u+d,h);-1===p?(Mn(Dn(c,o),s,a),La(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Va(a,e,u+d,h),f=Va(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Mn(Dn(c,o),s,a);const u=function(t,e,n,i,r){const s=new vn(t,n,No);return s.multi=[],s.index=e,s.componentProviders=0,Fa(s,r,i&&!n),s}(r?ja:Ba,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),La(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else La(s,t,p>-1?p:f,Fa(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function La(t,e,n,i){const r=fo(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Fa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Va(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ba(t,e,n,i){return Ua(this.multi,[])}function ja(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=qn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Ua(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ua(r,s);return s}function Ua(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function za(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Me();if(i.firstCreatePass){const r=le(t);Ma(n,i.data,i.blueprint,r,!0),Ma(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class qa{}class $a{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${rt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ha=(()=>{class t{}return t.NULL=new $a,t})();function Ga(...t){}function Ka(t,e){return new Qa(ke(t,e))}const Wa=function(){return Ka(Fe(),Ne())};let Qa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Wa,t})();function Ya(t){return t instanceof Qa?t.nativeElement:t}class Za{}let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ja(),t})();const Ja=function(){const t=Ne(),e=Ee(Fe().index,t);return function(t){return t[11]}(ie(e)?e:t)};let tl=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class el{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nl=new el("12.0.5");class il{constructor(){}supports(t){return Eo(t)}create(t){return new sl(t)}}const rl=(t,e)=>e;class sl{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<cl(n,i,r)?e:n,o=cl(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Eo(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new ol(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ll),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ol{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class al{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ll{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new al,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cl(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class ul{constructor(){}supports(t){return t instanceof Map||Io(t)}create(){return new hl}}class hl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new dl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class dl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pl(){return new fl([new il])}let fl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||pl()),deps:[[t,new Ci,new wi]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:pl}),t})();function ml(){return new gl([new ul])}let gl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ml()),deps:[[t,new Ci,new wi]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:ml}),t})();function yl(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(we(s)),re(s))for(let t=ne;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&yl(e[1],e,n,i)}const o=n.type;if(8&o)yl(t,e,n.child,i);else if(32&o){const t=_r(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=Vr(e,n);if(Array.isArray(t))i.push(...t);else{const n=vr(e[16]);yl(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class _l{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return yl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(re(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Er(t,n),ri(e,n))}this._attachedToViewContainer=!1}Ir(this._lView[1],this._lView)}onDestroy(t){xs(this._lView[1],this._lView,null,t)}markForCheck(){qs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$s(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){qe(!0);try{$s(t,e,n)}finally{qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ur(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class vl extends _l{constructor(t){super(t),this._view=t}detectChanges(){Hs(this._view)}checkNoChanges(){!function(t){qe(!0);try{Hs(t)}finally{qe(!1)}}(this._view)}get context(){return null}}const bl=function(t){return function(t,e,n){if(oe(t)&&!n){const n=Ee(t.index,e);return new _l(n,n)}return 47&t.type?new _l(e[16],e):null}(Fe(),Ne(),16==(16&t))};let wl=(()=>{class t{}return t.__NG_ELEMENT_ID__=bl,t})();const Cl=[new ul],kl=new fl([new il]),Sl=new gl(Cl),xl=function(){return Al(Fe(),Ne())};let El=(()=>{class t{}return t.__NG_ELEMENT_ID__=xl,t})();const Il=El,Tl=class extends Il{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ps(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),gs(e,n,t),new _l(n)}};function Al(t,e){return 4&t.type?new Tl(e,t,Ka(t,e)):null}class Rl{}class Dl{}const Ol=function(){return Vl(Fe(),Ne())};let Pl=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ol,t})();const Nl=Pl,Ml=class extends Nl{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ka(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nn(this._hostTNode,this._hostLView);if(xn(t)){const e=In(t,this._hostLView),n=En(t);return new Gn(e[1].data[n+8],e)}return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ll(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ne}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(Rl,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(re(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Ml(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=ne+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-ne?(e[4]=n[r],ii(n,ne+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Br(r,s),a=n[11],l=Pr(a,s[7]);return null!==l&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Ur(t,i,n,1,r,s)}(i,s[6],a,n,l,o),t.attachToViewContainerRef(),ii(Fl(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ll(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Er(this._lContainer,e);n&&(ri(Fl(this._lContainer),e),Ir(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Er(this._lContainer,e);return n&&null!=ri(Fl(this._lContainer),e)?new _l(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ll(t){return t[8]}function Fl(t){return t[8]||(t[8]=[])}function Vl(t,e){let n;const i=e[t.index];if(re(i))n=i;else{let r;if(8&t.type)r=we(i);else{const n=e[11];r=n.createComment("");const i=ke(t,e);Rr(n,Pr(n,i),r,function(t,e){return ve(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Vs(i,e,r,t),zs(e,n)}return new Ml(n,t,e)}const Bl={};class jl extends Ha{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new ql(e,this.ngModule)}}function Ul(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const zl=new Xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mr});class ql extends qa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ns).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ul(this.componentDef.inputs)}get outputs(){return Ul(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Bl,r);return s!==Bl||i===Bl?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Za,be),o=r.get(tl,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ve(t))return t.selectRootElement(e,n===At.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Sr(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?ge:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:mr,clean:Ks,playerHandler:null,flags:0},d=Ss(0,null,null,1,0,null,null,null,null,null),p=ps(null,d,h,u,null,null,s,a,o,r);let f,m;tn(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=fs(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Js(a,l,!0),null!==t&&(bn(r,t,l),null!==a.classes&&$r(r,t,a.classes),null!==a.styles&&qr(r,t,a.styles)));const c=i.createRenderer(t,e),u=ps(n,ks(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return o.firstCreatePass&&(Mn(Dn(a,n),o,e.type),Ds(o,a),Ps(a,n.length,1)),zs(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)bn(a,c,["ng-version",nl.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Zr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&bn(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(m=Se(d,ee),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ns(t,i,e,ms(t,e,1,null),n));const r=qn(e,t,i.directiveStart,i);cr(r,e);const s=ke(i,e);return s&&cr(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Fe();e.contentQueries(1,o,t.directiveStart)}const a=Fe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ln(a.index),As(n[1],a,0,a.directiveStart,a.directiveEnd,e),Rs(e,o)),o}(t,this.componentDef,p,h,[yo]),gs(d,p,null)}finally{on()}return new $l(this.componentType,f,Ka(m,p),p,m)}}class $l extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new vl(i),this.componentType=t}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Hl=new Map;class Gl extends Rl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jl(this);const n=te(t),i=t[Ut]||null;i&&Na(i),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=ao(t,e,[{provide:Rl,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=go.THROW_IF_NOT_FOUND,n=kt.Default){return t===go||t===Rl||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kl extends Dl{constructor(t){super(),this.moduleType=t,null!==te(t)&&function(t){const e=new Set;!function t(n){const i=te(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${rt(e)} vs ${rt(e.name)}`)}(r,Hl.get(r),n),Hl.set(r,n));const s=gr(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Gl(this.moduleType,t)}}function Wl(t,e,n,i){return Ql(Ne(),$e(),t,e,n,i)}function Ql(t,e,n,i,r,s){const o=e+n;return Ao(t,o,r)?To(t,o+1,s?i.call(s,r):i(r)):function(t,e){const n=t[e];return n===is?void 0:n}(t,o+1)}function Yl(t){return e=>{setTimeout(t,void 0,e)}}const Zl=class extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,r,s;let o=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;o=null===(i=e.next)||void 0===i?void 0:i.bind(e),a=null===(r=e.error)||void 0===r?void 0:r.bind(e),l=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(a=Yl(a),o&&(o=Yl(o)),l&&(l=Yl(l)));const c=super.subscribe({next:o,error:a,complete:l});return t instanceof h&&t.add(c),c}};function Xl(){return this._results[So()]()}class Jl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=So(),n=Jl.prototype;n[e]||(n[e]=Xl)}get changes(){return this._changes||(this._changes=new Zl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=ei(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class tc{constructor(t){this.queryList=t,this.matches=null}clone(){return new tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ec{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new ec(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==mc(t,e).matches&&this.queries[e].setDirty()}}class nc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ic{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new ic(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class rc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new rc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,sc(e,r)),this.matchTNodeWithReadOption(t,e,zn(e,t,r,!1,!1))}else n===El?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,zn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Qa||i===Pl||i===El&&4&e.type)this.addMatch(e.index,-2);else{const n=zn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function sc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function oc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Ka(t,e):4&t.type?Al(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qa?Ka(e,t):n===El?Al(e,t):n===Pl?Vl(e,t):void 0}(t,e,i):qn(t,t[1],n,e)}function ac(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:oc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function lc(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=ac(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=ne;t<o.length;t++){const e=o[t];e[17]===e[3]&&lc(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];lc(n[1],n,r,i)}}}}}return i}function cc(t){const e=Ne(),n=Me(),i=Ye();Ze(i+1);const r=mc(n,i);if(t.dirty&&Ie(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?lc(n,e,i,[]):ac(n,e,r,i);t.reset(s,Ya),t.notifyOnChanges()}return!0}return!1}function uc(t,e,n){const i=Me();i.firstCreatePass&&(fc(i,new nc(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),pc(i,Ne(),e)}function hc(t,e,n,i){const r=Me();if(r.firstCreatePass){const s=Fe();fc(r,new nc(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}pc(r,Ne(),n)}function dc(){return t=Ne(),e=Ye(),t[19].queries[e].queryList;var t,e}function pc(t,e,n){const i=new Jl(4==(4&n));xs(t,e,i,i.destroy),null===e[19]&&(e[19]=new ec),e[19].queries.push(new tc(i))}function fc(t,e,n){null===t.queries&&(t.queries=new ic),t.queries.track(new rc(e,n))}function mc(t,e){return t.queries.getByIndex(e)}const gc=new Xn("Application Initializer");let yc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ga,this.reject=Ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if($o(e))t.push(e);else if(Go(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(gi(gc,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const _c=new Xn("AppId"),vc={provide:_c,useFactory:function(){return`${bc()}${bc()}${bc()}`},deps:[]};function bc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wc=new Xn("Platform Initializer"),Cc=new Xn("Platform ID"),kc=new Xn("appBootstrapListener");let Sc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const xc=new Xn("LocaleId"),Ec=new Xn("DefaultCurrencyCode");class Ic{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Tc=function(t){return new Kl(t)},Ac=Tc,Rc=function(t){return Promise.resolve(Tc(t))},Dc=function(t){const e=Tc(t),n=gr(te(t).declarations).reduce((t,e)=>{const n=Jt(e);return n&&t.push(new ql(n)),t},[]);return new Ic(e,n)},Oc=Dc,Pc=function(t){return Promise.resolve(Dc(t))};let Nc=(()=>{class t{constructor(){this.compileModuleSync=Ac,this.compileModuleAsync=Rc,this.compileModuleAndAllComponentsSync=Oc,this.compileModuleAndAllComponentsAsync=Pc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Mc=(()=>Promise.resolve(0))();function Lc(t){"undefined"==typeof Zone?Mc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zl(!1),this.onMicrotaskEmpty=new Zl(!1),this.onStable=new Zl(!1),this.onError=new Zl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jc(t),t.isCheckStableRunning=!0,Bc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return Uc(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),zc(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return Uc(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),zc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,jc(t),Bc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Vc,Ga,Ga);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Vc={};function Bc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Uc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zc(t){t._nesting--,Bc(t)}class qc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zl,this.onMicrotaskEmpty=new Zl,this.onStable=new Zl,this.onError=new Zl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let $c=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fc.assertNotInAngularZone(),Lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Hc=(()=>{class t{constructor(){this._applications=new Map,Wc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Gc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Kc,Wc=new Gc,Qc=!0,Yc=!1;function Zc(){return Yc=!0,Qc}const Xc=new Xn("AllowMultipleToken");class Jc{constructor(t,e){this.name=t,this.token=e}}function tu(t,e,n=[]){const i=`Platform: ${e}`,r=new Xn(i);return(e=[])=>{let s=eu();if(!s||s.injector.get(Xc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(Kc&&!Kc.destroyed&&!Kc.injector.get(Xc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kc=t.get(nu);const e=t.get(wc,null);e&&e.forEach(t=>t())}(go.create({providers:t,name:i}))}return function(t){const e=eu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function eu(){return Kc&&!Kc.destroyed?Kc:null}let nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qc:("zone.js"===t?void 0:t)||new Fc({enableLongStackTrace:Zc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Fc,useValue:n}];return n.run(()=>{const e=go.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(fr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{su(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return $o(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(yc);return t.runInitializers(),t.donePromise.then(()=>(Na(r.injector.get(xc,Oa)||Oa),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=iu({},e);return function(t,e,n){const i=new Kl(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ru);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${rt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(gi(go))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function iu(t,e){return Array.isArray(e)?e.reduce(iu,t):Object.assign(Object.assign({},t),e)}let ru=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fc.assertNotInAngularZone(),Lc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=K(s,o.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(Rl),r=n.create(go.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get($c,null),a=o&&r.injector.get(Hc);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),su(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;su(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(kc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc),gi(go),gi(fr),gi(Ha),gi(yc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function su(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ou{}class au{}const lu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(255)(e).then(t=>t[i]).then(t=>uu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>uu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(gi(Nc),gi(au,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const hu=tu(null,"core",[{provide:Cc,useValue:"unknown"},{provide:nu,deps:[go]},{provide:Hc,deps:[]},{provide:Sc,deps:[]}]),du=[{provide:ru,useClass:ru,deps:[Fc,go,fr,Ha,yc]},{provide:zl,deps:[Fc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yc,useClass:yc,deps:[[new wi,gc]]},{provide:Nc,useClass:Nc,deps:[]},vc,{provide:fl,useFactory:function(){return kl},deps:[]},{provide:gl,useFactory:function(){return Sl},deps:[]},{provide:xc,useFactory:function(t){return Na(t=t||"undefined"!=typeof $localize&&$localize.locale||Oa),t},deps:[[new bi(xc),new wi,new Ci]]},{provide:Ec,useValue:"USD"}];let pu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(gi(ru))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:du}),t})(),fu=null;function mu(){return fu}const gu=new Xn("DocumentToken");let yu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:_u,token:t,providedIn:"platform"}),t})();function _u(){return gi(bu)}const vu=new Xn("Location Initialized");let bu=(()=>{class t extends yu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mu().getBaseHref(this._doc)}onPopState(t){const e=mu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=mu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){wu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){wu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({factory:Cu,token:t,providedIn:"platform"}),t})();function wu(){return!!window.history.pushState}function Cu(){return new bu(gi(gu))}function ku(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Su(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xu(t){return t&&"?"!==t[0]?"?"+t:t}let Eu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:Iu,token:t,providedIn:"root"}),t})();function Iu(t){const e=gi(gu).location;return new Au(gi(yu),e&&e.origin||"")}const Tu=new Xn("appBaseHref");let Au=(()=>{class t extends Eu{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ku(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+xu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+xu(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+xu(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(gi(yu),gi(Tu,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t extends Eu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ku(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+xu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+xu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(gi(yu),gi(Tu,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Du=(()=>{class t{constructor(t,e){this._subject=new Zl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Su(Pu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+xu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Pu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(gi(Eu),gi(yu))},t.normalizeQueryParams=xu,t.joinWithSlash=ku,t.stripTrailingSlash=Su,t.\u0275prov=ft({factory:Ou,token:t,providedIn:"root"}),t})();function Ou(){return new Du(gi(Eu),gi(yu))}function Pu(t){return t.replace(/\/index.html$/,"")}var Nu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Mu{}let Lu=(()=>{class t extends Mu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ra(e);if(n)return n;const i=e.split("-")[0];if(n=Ra(i),n)return n;if("en"===i)return Ta;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Da.PluralCase]}(e||this.locale)(t)){case Nu.Zero:return"zero";case Nu.One:return"one";case Nu.Two:return"two";case Nu.Few:return"few";case Nu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(gi(xc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let Vu=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Eo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${rt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(No(fl),No(gl),No(Qa),No(Xa))},t.\u0275dir=Zt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Bu{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ju=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(S0){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Bu(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Uu(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Uu(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(El),No(fl))},t.\u0275dir=Zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Uu{constructor(t,e){this.record=t,this.view=e}}let zu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new qu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$u("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$u("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(El))},t.\u0275dir=Zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class qu{constructor(){this.$implicit=null,this.ngIf=null}}function $u(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rt(e)}'.`)}class Hu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Gu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Ku=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Hu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(El),No(Gu,9))},t.\u0275dir=Zt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Wu=(()=>{class t{constructor(t,e,n){n._addDefault(new Hu(t,e))}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(El),No(Gu,9))},t.\u0275dir=Zt({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class Qu{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Yu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Zu=new Yu,Xu=new Qu;let Ju=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if($o(e))return Zu;if(Ho(e))return Xu;throw Error(`InvalidPipeArgument: '${e}' for pipe '${rt(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(No(wl,16))},t.\u0275pipe=Xt({name:"async",type:t,pure:!1}),t})(),th=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[{provide:Mu,useClass:Lu}]}),t})(),eh=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new nh(gi(gu),window)}),t})();class nh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ih(this.window.history)||ih(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(S0){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(S0){return!1}}}function ih(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class rh{}class sh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new sh,fu||(fu=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ah=ah||document.querySelector("base"),ah?ah.getAttribute("href"):null);return null==e?null:function(t){oh=oh||document.createElement("a"),oh.setAttribute("href",t);const e=oh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){ah=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fu(document.cookie,t)}}let oh,ah=null;const lh=new Xn("TRANSITION_ID"),ch=[{provide:gc,useFactory:function(t,e,n){return()=>{n.get(yc).donePromise.then(()=>{const n=mu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[lh,gu,go],multi:!0}];class uh{static init(){var t;t=new uh,Wc=t}addToWindow(t){Nt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nt.getAllAngularRootElements=()=>t.getAllRootElements(),Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(t=>{const e=Nt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?mu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let hh=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const dh=new Xn("EventManagerPlugins");let ph=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(gi(dh),gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class fh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=mu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let mh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),gh=(()=>{class t extends mh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(yh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yh))}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function yh(t){mu().remove(t)}const _h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vh=/%COMP%/g;function bh(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?bh(t,r,n):(r=r.replace(vh,t),n.push(r))}return n}function wh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ch=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new kh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case At.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Sh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case At.ShadowDom:return new xh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=bh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(gi(ph),gi(gh),gi(_c))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class kh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(_h[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=_h[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=_h[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(yr.DashCase|yr.Important)?t.style.setProperty(e,n,i&yr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&yr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wh(n)):this.eventManager.addEventListener(t,e,wh(n))}}class Sh extends kh{constructor(t,e,n,i){super(t),this.component=n;const r=bh(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(vh,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(vh,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class xh extends kh{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=bh(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Eh=(()=>{class t extends fh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Ih=["alt","control","meta","shift"],Th={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ah={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Dh=(()=>{class t extends fh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mu().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(Ih.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ah.hasOwnProperty(e)&&(e=Ah[e]))}return Th[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ih.forEach(i=>{i!=n&&(0,Rh[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Oh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return gi(Nh)},token:t,providedIn:"root"}),t})();function Ph(t){return new Nh(t.get(gu))}let Nh=(()=>{class t extends Oh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case sr.NONE:return e;case sr.HTML:return Ni(e,"HTML")?Pi(e):ir(this._doc,String(e)).toString();case sr.STYLE:return Ni(e,"Style")?Pi(e):e;case sr.SCRIPT:if(Ni(e,"Script"))return Pi(e);throw new Error("unsafe value used in a script context");case sr.URL:return Mi(e),Ni(e,"URL")?Pi(e):ji(String(e));case sr.RESOURCE_URL:if(Ni(e,"ResourceURL"))return Pi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new Ti(t)}bypassSecurityTrustStyle(t){return new Ai(t)}bypassSecurityTrustScript(t){return new Ri(t)}bypassSecurityTrustUrl(t){return new Di(t)}bypassSecurityTrustResourceUrl(t){return new Oi(t)}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({factory:function(){return Ph(gi(to))},token:t,providedIn:"root"}),t})();const Mh=tu(hu,"browser",[{provide:Cc,useValue:"browser"},{provide:wc,useValue:function(){sh.makeCurrent(),uh.init()},multi:!0},{provide:gu,useFactory:function(){return function(t){ye=t}(document),document},deps:[]}]),Lh=[[],{provide:no,useValue:"root"},{provide:fr,useFactory:function(){return new fr},deps:[]},{provide:dh,useClass:Eh,multi:!0,deps:[gu,Fc,Cc]},{provide:dh,useClass:Dh,multi:!0,deps:[gu]},[],{provide:Ch,useClass:Ch,deps:[ph,gh,_c]},{provide:Za,useExisting:Ch},{provide:mh,useExisting:gh},{provide:gh,useClass:gh,deps:[gu]},{provide:$c,useClass:$c,deps:[Fc]},{provide:ph,useClass:ph,deps:[dh,Fc]},{provide:rh,useClass:hh,deps:[]},[]];let Fh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:_c,useValue:e.appId},{provide:lh,useExisting:_c},ch]}}}return t.\u0275fac=function(e){return new(e||t)(gi(t,12))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:Lh,imports:[th,pu]}),t})();function Vh(...t){let e=t[t.length-1];return I(e)?(t.pop(),F(t,e)):G(t)}"undefined"!=typeof window&&window;class Bh extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}class jh extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Uh extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function zh(t,e,n,i,r=new Uh(t,n,i)){if(!r.closed)return e instanceof b?e.subscribe(r):L(e)(r)}const qh={};function $h(...t){let e,n;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),G(t,n).lift(new Hh(e))}class Hh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gh(t,this.resultSelector))}}class Gh extends jh{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(qh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(zh(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===qh?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Kh=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Wh(...t){return H(1)(Vh(...t))}const Qh=new b(t=>t.complete());function Yh(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Qh}function Zh(t){return new b(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?V(n):Yh()).subscribe(e)})}function Xh(t,e){return"function"==typeof e?n=>n.pipe(Xh((n,i)=>V(t(n,i)).pipe(T((t,r)=>e(n,t,i,r))))):e=>e.lift(new Jh(t))}class Jh{constructor(t){this.project=t}call(t,e){return e.subscribe(new td(t,this.project))}}class td extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new B(this),i=this.destination;i.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ed=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function nd(t){return e=>0===t?Yh():e.lift(new id(t))}class id{constructor(t){if(this.total=t,this.total<0)throw new ed}call(t,e){return e.subscribe(new rd(t,this.total))}}class rd extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function sd(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>Wh(t,n,e)):e=>Wh(t,e)}function od(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ad(t,e,n))}}class ad{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ld(t,this.accumulator,this.seed,this.hasSeed))}}class ld extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function cd(t,e){return function(n){return n.lift(new ud(t,e))}}class ud{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new hd(t,this.predicate,this.thisArg))}}class hd extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function dd(t){return function(e){const n=new pd(t),i=e.lift(n);return n.caught=i}}class pd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new fd(t,this.selector,this.caught))}}class fd extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new B(this);this.add(i);const r=U(n,i);r!==i&&this.add(r)}}}function md(t,e){return z(t,e,1)}function gd(t){return function(e){return 0===t?Yh():e.lift(new yd(t))}}class yd{constructor(t){if(this.total=t,this.total<0)throw new ed}call(t,e){return e.subscribe(new _d(t,this.total))}}class _d extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function vd(t=Cd){return e=>e.lift(new bd(t))}class bd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new wd(t,this.errorFactory))}}class wd extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Cd(){return new Kh}function kd(t=null){return e=>e.lift(new Sd(t))}class Sd{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new xd(t,this.defaultValue))}}class xd extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ed(t,e){const n=arguments.length>=2;return i=>i.pipe(t?cd((e,n)=>t(e,n,i)):y,nd(1),n?kd(e):vd(()=>new Kh))}function Id(){}function Td(t,e,n){return function(i){return i.lift(new Ad(t,e,n))}}class Ad{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Rd(t,this.nextOrObserver,this.error,this.complete))}}class Rd extends f{constructor(t,e,n,r){super(t),this._tapNext=Id,this._tapError=Id,this._tapComplete=Id,this._tapError=n||Id,this._tapComplete=r||Id,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Id,this._tapError=e.error||Id,this._tapComplete=e.complete||Id)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Dd(t){return e=>e.lift(new Od(t))}class Od{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Pd(t,this.callback))}}class Pd extends f{constructor(t,e){super(t),this.add(new h(e))}}class Nd{constructor(t,e){this.id=t,this.url=e}}class Md extends Nd{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ld extends Nd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fd extends Nd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vd extends Nd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bd extends Nd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jd extends Nd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ud extends Nd{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zd extends Nd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qd extends Nd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $d{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zd="primary";class Xd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jd(t){return new Xd(t)}function tp(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ep(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function np(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!ip(t[r],e[r]))return!1;return!0}function ip(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function rp(t){return Array.prototype.concat.apply([],t)}function sp(t){return t.length>0?t[t.length-1]:null}function op(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ap(t){return Go(t)?t:$o(t)?V(Promise.resolve(t)):Vh(t)}const lp={exact:function t(e,n,i){if(!yp(e.segments,n.segments))return!1;if(!pp(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r],i))return!1}return!0},subset:hp},cp={exact:function(t,e){return np(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ip(t[n],e[n]))},ignored:()=>!0};function up(t,e,n){return lp[n.paths](t.root,e.root,n.matrixParams)&&cp[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function hp(t,e,n){return dp(t,e,e.segments,n)}function dp(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!!yp(r,n)&&!e.hasChildren()&&!!pp(r,n,i)}if(t.segments.length===n.length){if(!yp(t.segments,n))return!1;if(!pp(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!hp(t.children[n],e.children[n],i))return!1}return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!yp(t.segments,r)&&!!pp(t.segments,r,i)&&!!t.children.primary&&dp(t.children.primary,e,s,i)}}function pp(t,e,n){return e.every((e,i)=>cp[n](t[i].parameters,e.parameters))}class fp{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jd(this.queryParams)),this._queryParamMap}toString(){return bp.serialize(this)}}class mp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,op(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wp(this)}}class gp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jd(this.parameters)),this._parameterMap}toString(){return Tp(this)}}function yp(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class _p{}class vp{parse(t){const e=new Pp(t);return new fp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Cp(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Sp(e)}=${Sp(t)}`).join("&"):`${Sp(e)}=${Sp(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const bp=new vp;function wp(t){return t.segments.map(t=>Tp(t)).join("/")}function Cp(t,e){if(!t.hasChildren())return wp(t);if(e){const e=t.children.primary?Cp(t.children.primary,!1):"",n=[];return op(t.children,(t,e)=>{e!==Zd&&n.push(`${e}:${Cp(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return op(t.children,(t,i)=>{i===Zd&&(n=n.concat(e(t,i)))}),op(t.children,(t,i)=>{i!==Zd&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===Zd?[Cp(t.children.primary,!1)]:[`${n}:${Cp(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${wp(t)}/${e[0]}`:`${wp(t)}/(${e.join("//")})`}}function kp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(t){return kp(t).replace(/%3B/gi,";")}function xp(t){return kp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ep(t){return decodeURIComponent(t)}function Ip(t){return Ep(t.replace(/\+/g,"%20"))}function Tp(t){return`${xp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xp(t)}=${xp(e[t])}`).join("")}`;var e}const Ap=/^[^\/()?;=#]+/;function Rp(t){const e=t.match(Ap);return e?e[0]:""}const Dp=/^[^=?&#]+/,Op=/^[^?&#]+/;class Pp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mp([],{}):new mp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mp(t,e)),n}parseSegment(){const t=Rp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gp(Ep(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rp(this.remaining);t&&(n=t,this.capture(n))}t[Ep(e)]=Ep(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Op);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Ip(e),r=Ip(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rp(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Zd);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new mp([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Np{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Lp(t,this._root).map(t=>t.value)}}function Mp(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mp(t,n);if(e)return e}return null}function Lp(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Lp(t,n);if(i.length)return i.unshift(e),i}return[]}class Fp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Vp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Bp extends Np{constructor(t,e){super(t),this.snapshot=e,Hp(this,t)}toString(){return this.snapshot.toString()}}function jp(t,e){const n=function(t,e){const n=new qp([],{},{},"",{},Zd,e,null,t.root,-1,{});return new $p("",new Fp(n,[]))}(t,e),i=new Bh([new gp("",{})]),r=new Bh({}),s=new Bh({}),o=new Bh({}),a=new Bh(""),l=new Up(i,r,o,a,s,Zd,e,n.root);return l.snapshot=n.root,new Bp(new Fp(l,[]),n)}class Up{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(t=>Jd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(t=>Jd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zp(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class qp{constructor(t,e,n,i,r,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $p extends Np{constructor(t,e){super(e),this.url=t,Hp(this,e)}toString(){return Gp(this._root)}}function Hp(t,e){e.value._routerState=t,e.children.forEach(e=>Hp(t,e))}function Gp(t){const e=t.children.length>0?` { ${t.children.map(Gp).join(", ")} } `:"";return`${t.value}${e}`}function Kp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,np(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),np(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!np(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),np(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Wp(t,e){return np(t.params,e.params)&&function(t,e){return yp(t,e)&&t.every((t,n)=>np(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Wp(t.parent,e.parent))}function Qp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Qp(t,e,i);return Qp(t,e)})}(t,e,n);return new Fp(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Yp(e,t),t}}const n=new Up(new Bh((i=e.value).url),new Bh(i.params),new Bh(i.queryParams),new Bh(i.fragment),new Bh(i.data),i.outlet,i.component,i),r=e.children.map(e=>Qp(t,e));return new Fp(n,r)}var i}function Yp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yp(t.children[n],e.children[n])}function Zp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xp(t){return"object"==typeof t&&null!=t&&t.outlets}function Jp(t,e,n,i,r){let s={};return i&&op(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new fp(n.root===t?e:tf(n.root,t,e),s,r)}function tf(t,e,n){const i={};return op(t.children,(t,r)=>{i[r]=t===e?n:tf(t,e,n)}),new mp(t.segments,i)}class ef{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Zp(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Xp);if(i&&i!==sp(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rf(t,e,n){if(t||(t=new mp([],{})),0===t.segments.length&&t.hasChildren())return sf(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(Xp(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!cf(a,l,e))return s;i+=2}else{if(!cf(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new mp(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new mp(t.segments.slice(i.pathIndex),t.children),sf(e,0,r)}return i.match&&0===r.length?new mp(t.segments,{}):i.match&&!t.hasChildren()?of(t,e,n):i.match?sf(t,0,r):of(t,e,n)}function sf(t,e,n){if(0===n.length)return new mp(t.segments,{});{const i=function(t){return Xp(t[0])?t[0].outlets:{[Zd]:t}}(n),r={};return op(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=rf(t.children[i],e,n))}),op(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new mp(t.segments,r)}}function of(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(Xp(s)){const t=af(s.outlets);return new mp(i,t)}if(0===r&&Zp(n[0])){i.push(new gp(t.segments[e].path,lf(n[0]))),r++;continue}const o=Xp(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Zp(a)?(i.push(new gp(o,lf(a))),r+=2):(i.push(new gp(o,{})),r++)}return new mp(i,{})}function af(t){const e={};return op(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=of(new mp([],{}),0,t))}),e}function lf(t){const e={};return op(t,(t,n)=>e[n]=`${t}`),e}function cf(t,e,n){return t==n.path&&np(e,n.parameters)}class uf{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Vp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),op(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Vp(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=Vp(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Qd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Kd(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Kp(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hf(t){Kp(t.value),t.children.forEach(hf)}class df{constructor(t,e){this.routes=t,this.module=e}}function pf(t){return"function"==typeof t}function ff(t){return t instanceof fp}const mf=Symbol("INITIAL_VALUE");function gf(){return Xh(t=>$h(t.map(t=>t.pipe(nd(1),sd(mf)))).pipe(od((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==mf)return t;if(i===mf&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||ff(i))return i}return t},t)},mf),cd(t=>t!==mf),T(t=>ff(t)?t:!0===t),nd(1)))}let yf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Bo(0,"router-outlet")},directives:function(){return[pm]},encapsulation:2}),t})();function _f(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];vf(i,bf(e,i))}}function vf(t,e){t.children&&_f(t.children,e)}function bf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function wf(t){const e=t.children&&t.children.map(wf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Zd&&(n.component=yf),n}function Cf(t){return t.outlet||Zd}function kf(t,e){const n=t.filter(t=>Cf(t)===e);return n.push(...t.filter(t=>Cf(t)!==e)),n}const Sf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xf(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Sf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ep)(n,t,e);if(!r)return Object.assign({},Sf);const s={};op(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Ef(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>If(t,e,n)&&Cf(n)!==Zd)}(t,n,i)){const r=new mp(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Cf(s)!==Zd){const n=new mp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Cf(s)]=n}return r}(t,e,i,new mp(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>If(t,e,n))}(t,n,i)){const s=new mp(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(If(t,n,a)&&!r[Cf(a)]){const n=new mp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Cf(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new mp(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function If(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Tf(t,e,n,i){return!!(Cf(t)===i||i!==Zd&&If(e,n,t))&&("**"===t.path||xf(e,t,n).matched)}function Af(t,e,n){return 0===e.length&&!t.children[n]}class Rf{constructor(t){this.segmentGroup=t||null}}class Df{constructor(t){this.urlTree=t}}function Of(t){return new b(e=>e.error(new Rf(t)))}function Pf(t){return new b(e=>e.error(new Df(t)))}function Nf(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Mf{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Rl)}apply(){const t=Ef(this.urlTree.root,[],[],this.config).segmentGroup,e=new mp(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Zd).pipe(T(t=>this.createUrlTree(Lf(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dd(t=>{if(t instanceof Df)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Rf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Zd).pipe(T(e=>this.createUrlTree(Lf(e),t.queryParams,t.fragment))).pipe(dd(t=>{if(t instanceof Rf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new mp([],{[Zd]:t}):t;return new fp(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(T(t=>new mp([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return V(i).pipe(md(i=>{const r=n.children[i],s=kf(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(T(t=>({segment:t,outlet:i})))}),od((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?cd((e,n)=>t(e,n,i)):y,gd(1),n?kd(e):vd(()=>new Kh))}())}expandSegment(t,e,n,i,r,s){return V(n).pipe(md(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(dd(t=>{if(t instanceof Rf)return Vh(null);throw t}))),Ed(t=>!!t),dd((t,n)=>{if(t instanceof Kh||"EmptyError"===t.name){if(Af(e,i,r))return Vh(new mp([],{}));throw new Rf(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Tf(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Of(e):Of(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Pf(r):this.lineralizeSegments(n,r).pipe(z(n=>{const r=new mp(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=xf(e,i,r);if(!o)return Of(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Pf(u):this.lineralizeSegments(i,u).pipe(z(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Vh(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(T(t=>(n._loadedConfig=t,new mp(i,{})))):Vh(new mp(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=xf(e,n,i);if(!s)return Of(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe(z(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Ef(e,o,l,s),u=new mp(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe(T(t=>new mp(o,t)));if(0===s.length&&0===c.length)return Vh(new mp(o,{}));const h=Cf(n)===r;return this.expandSegment(i,u,s,c,h?Zd:r,!0).pipe(T(t=>new mp(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Vh(new df(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Vh(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(T(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(tp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Vh(new df([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?Vh(i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&pf(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!pf(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return ap(s)})).pipe(gf(),Td(t=>{if(!ff(t))return;const e=tp(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),T(t=>!0===t)):Vh(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Vh(n);if(i.numberOfChildren>1||!i.children.primary)return Nf(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new fp(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return op(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return op(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new mp(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Lf(t){const e={};for(const n of Object.keys(t.children)){const i=Lf(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new mp(t.segments.concat(e.segments),e.children)}return t}(new mp(t.segments,e))}class Ff{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vf{constructor(t,e){this.component=t,this.route=e}}function Bf(t,e,n){const i=t._root;return Uf(i,e?e._root:null,n,[i.value])}function jf(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Uf(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vp(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!yp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yp(t.url,e.url)||!np(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wp(t,e)||!np(t.queryParams,e.queryParams);case"paramsChange":default:return!Wp(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ff(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Uf(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Vf(a.outlet.component,o))}else o&&zf(e,a,r),r.canActivateChecks.push(new Ff(i)),Uf(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),op(s,(t,e)=>zf(t,n.getContext(e),r)),r}function zf(t,e,n){const i=Vp(t),r=t.value;op(i,(t,i)=>{zf(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Vf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class qf{}function $f(t){return new b(e=>e.error(t))}class Hf{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=Ef(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Zd);if(null===e)return null;const n=new qp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zd,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fp(n,e),r=new $p(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=zp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=kf(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=Kf(n);return i.sort((t,e)=>t.value.outlet===Zd?-1:e.value.outlet===Zd?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Af(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Tf(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?sp(n).parameters:{};r=new qp(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yf(t),Cf(t),t.component,t,Wf(e),Qf(e)+n.length,Zf(t))}else{const i=xf(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new qp(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yf(t),Cf(t),t.component,t,Wf(e),Qf(e)+s.length,Zf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Ef(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Fp(r,t)]}if(0===a.length&&0===c.length)return[new Fp(r,[])];const u=Cf(t)===i,h=this.processSegment(a,l,c,u?Zd:i);return null===h?null:[new Fp(r,h)]}}function Gf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Kf(t){const e=[],n=new Set;for(const i of t){if(!Gf(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=Kf(i.children);e.push(new Fp(i.value,t))}return e.filter(t=>!n.has(t))}function Wf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yf(t){return t.data||{}}function Zf(t){return t.resolve||{}}function Xf(t){return Xh(e=>{const n=t(e);return n?V(n).pipe(T(()=>e)):Vh(e)})}class Jf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const tm=new Xn("ROUTES");class em{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(T(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new df(rp(i.injector.get(tm,void 0,kt.Self|kt.Optional)).map(wf),i)}),dd(t=>{throw e._loader$=void 0,t}));return e._loader$=new Z(n,()=>new x).pipe(W()),e._loader$}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):ap(t()).pipe(z(t=>t instanceof Dl?Vh(t):V(this.compiler.compileModuleAsync(t))))}}class nm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new im,this.attachRef=null}}class im{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new nm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class rm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function sm(t){throw t}function om(t,e,n){return e.parse("/")}function am(t,e){return Vh(null)}const lm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let um=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=sm,this.malformedUriErrorHandler=om,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:am,afterPreactivation:am},this.urlHandlingStrategy=new rm,this.routeReuseStrategy=new Jf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(Rl),this.console=r.get(Sc);const l=r.get(Fc);this.isNgZoneEnabled=l instanceof Fc&&Fc.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new fp(new mp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new em(s,o,t=>this.triggerEvent(new $d(t)),t=>this.triggerEvent(new Hd(t))),this.routerState=jp(this.currentUrlTree,this.rootComponentType),this.transitions=new Bh({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(cd(t=>0!==t.id),T(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Xh(t=>{let n=!1,i=!1;return Vh(t).pipe(Td(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xh(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Vh(t).pipe(Xh(t=>{const n=this.transitions.getValue();return e.next(new Md(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Qh:Promise.resolve(t)}),function(t,e,n,i){return Xh(r=>function(t,e,n,i,r){return new Mf(t,e,n,i,r).apply()}(t,e,n,r.extractedUrl,i).pipe(T(t=>Object.assign(Object.assign({},r),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Td(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return z(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new Hf(t,e,n,i,r,s).recognize();return null===o?$f(new qf):Vh(o)}catch(o){return $f(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(T(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Td(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Bd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Md(n,this.serializeUrl(i),r,s);e.next(a);const l=jp(i,this.rootComponentType).snapshot;return Vh(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Qh}),Xf(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Td(t=>{const e=new jd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),T(t=>Object.assign(Object.assign({},t),{guards:Bf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return z(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Vh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return V(t).pipe(z(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Vh(s.map(s=>{const o=jf(s,e,r);let a;if(function(t){return t&&pf(t.canDeactivate)}(o))a=ap(o.canDeactivate(t,e,n,i));else{if(!pf(o))throw new Error("Invalid CanDeactivate guard");a=ap(o(t,e,n,i))}return a.pipe(Ed())})).pipe(gf()):Vh(!0)}(t.component,t.route,n,e,i)),Ed(t=>!0!==t,!0))}(o,i,r,t).pipe(z(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return V(e).pipe(md(e=>Wh(function(t,e){return null!==t&&e&&e(new Gd(t)),Vh(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Wd(t)),Vh(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Zh(()=>Vh(e.guards.map(r=>{const s=jf(r,e.node,n);let o;if(function(t){return t&&pf(t.canActivateChild)}(s))o=ap(s.canActivateChild(i,t));else{if(!pf(s))throw new Error("Invalid CanActivateChild guard");o=ap(s(i,t))}return o.pipe(Ed())})).pipe(gf())));return Vh(r).pipe(gf())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Vh(i.map(i=>Zh(()=>{const r=jf(i,e,n);let s;if(function(t){return t&&pf(t.canActivate)}(r))s=ap(r.canActivate(e,t));else{if(!pf(r))throw new Error("Invalid CanActivate guard");s=ap(r(e,t))}return s.pipe(Ed())}))).pipe(gf()):Vh(!0)}(t,e.route,n))),Ed(t=>!0!==t,!0))}(i,s,t,e):Vh(n)),T(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Td(t=>{if(ff(t.guardsResult)){const e=tp(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),cd(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),Xf(t=>{if(t.guards.canActivateChecks.length)return Vh(t).pipe(Td(t=>{const e=new zd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Xh(t=>{let e=!1;return Vh(t).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,z(t=>{const{targetSnapshot:e,guards:{canActivateChecks:r}}=t;if(!r.length)return Vh(t);let s=0;return V(r).pipe(md(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Vh({});const s={};return V(r).pipe(z(r=>function(t,e,n,i){const r=jf(t,e,i);return ap(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Td(t=>{s[r]=t}))),gd(1),z(()=>Object.keys(s).length===r.length?Vh(s):Qh))}(t._resolve,t,e,i).pipe(T(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zp(t,n).resolve),null)))}(t.route,e,n,i)),Td(()=>s++),gd(1),z(e=>s===r.length?Vh(t):Qh))})),Td({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,i}),Td(t=>{const e=new qd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xf(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),T(t=>{const e=function(t,e,n){const i=Qp(t,e._root,n?n._root:void 0);return new Bp(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Td(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),T(t=>(new uf(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Td({next(){n=!0},complete(){n=!0}}),Dd(()=>{n||i||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),dd(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=ff(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Fd(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Vd(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(HH){t.reject(HH)}}var r;return Qh}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_f(t),this.config=t.map(wf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return Jp(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ef(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return op(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ef(n,e,i)}(n);if(s.toRoot())return Jp(e.root,new mp([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new nf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new nf(t,t===e.root,0)}const i=Zp(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new nf(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?sf(o.segmentGroup,o.index,s.commands):rf(o.segmentGroup,o.index,s.commands);return Jp(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ff(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let r=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(r=this.location.getState()),this.scheduleNavigation(i,"imperative",r,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},lm):!1===e?Object.assign({},cm):e,ff(t))return up(this.currentUrlTree,t,n);const i=this.parseUrl(t);return up(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ld(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;r?(l=r.resolve,c=r.reject,u=r.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Fd(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(gi(ti),gi(_p),gi(im),gi(Du),gi(go),gi(ou),gi(Nc),gi(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),hm=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new x,this.subscription=t.events.subscribe(t=>{t instanceof Ld&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:dm(this.skipLocationChange),replaceUrl:dm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:dm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(No(um),No(Up),No(Eu))},t.\u0275dir=Zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ko("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(xa("href",e.href,ar),Ro("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[he]}),t})();function dm(t){return""===t||!!t}let pm=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Zl,this.deactivateEvents=new Zl,this.name=i||Zd,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new fm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(No(im),No(Pl),No(Ha),Qn("name"),No(wl))},t.\u0275dir=Zt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Up?this.route:t===im?this.childContexts:this.parent.get(t,e)}}class mm{}class gm{preload(t,e){return Vh(null)}}let ym=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new em(e,n,e=>t.triggerEvent(new $d(e)),e=>t.triggerEvent(new Hd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(cd(t=>t instanceof Ld),md(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Rl);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return V(n).pipe(H(),T(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Vh(e._loadedConfig):this.loader.load(t.injector,e)).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(gi(um),gi(ou),gi(Nc),gi(go),gi(mm))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),_m=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Md?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ld&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Yd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(gi(um),gi(eh),gi(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const vm=new Xn("ROUTER_CONFIGURATION"),bm=new Xn("ROUTER_FORROOT_GUARD"),wm=[Du,{provide:_p,useClass:vp},{provide:um,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const u=new um(null,t,e,n,i,r,s,rp(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[_p,im,Du,go,ou,Nc,tm,vm,[class{},new wi],[class{},new wi]]},im,{provide:Up,useFactory:function(t){return t.routerState.root},deps:[um]},{provide:ou,useClass:cu},ym,gm,class{preload(t,e){return e().pipe(dd(()=>Vh(null)))}},{provide:vm,useValue:{enableTracing:!1}}];function Cm(){return new Jc("Router",um)}let km=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[wm,Im(e),{provide:bm,useFactory:Em,deps:[[um,new wi,new Ci]]},{provide:vm,useValue:n||{}},{provide:Eu,useFactory:xm,deps:[yu,[new bi(Tu),new wi],vm]},{provide:_m,useFactory:Sm,deps:[um,eh,vm]},{provide:mm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gm},{provide:Jc,multi:!0,useFactory:Cm},[Tm,{provide:gc,multi:!0,useFactory:Am,deps:[Tm]},{provide:Dm,useFactory:Rm,deps:[Tm]},{provide:kc,multi:!0,useExisting:Dm}]]}}static forChild(e){return{ngModule:t,providers:[Im(e)]}}}return t.\u0275fac=function(e){return new(e||t)(gi(bm,8),gi(um,8))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();function Sm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _m(t,e,n)}function xm(t,e,n={}){return n.useHash?new Ru(t,e):new Au(t,e)}function Em(t){return"guarded"}function Im(t){return[{provide:Jn,multi:!0,useValue:t},{provide:tm,multi:!0,useValue:t}]}let Tm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(vu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(um),i=this.injector.get(vm);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Vh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(vm),n=this.injector.get(ym),i=this.injector.get(_m),r=this.injector.get(um),s=this.injector.get(ru);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(gi(go))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Am(t){return t.appInitializer.bind(t)}function Rm(t){return t.bootstrapListener.bind(t)}const Dm=new Xn("Router Initializer");function Om(...t){if(1===t.length){const e=t[0];if(l(e))return Pm(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Pm(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Pm(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(T(t=>e(...t)))}return Pm(t,null)}function Pm(t,e){return new b(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=V(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&c||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}let Nm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(Xa),No(Qa))},t.\u0275dir=Zt({type:t}),t})(),Mm=(()=>{class t extends Nm{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,features:[_o]}),t})();const Lm=new Xn("NgValueAccessor"),Fm={provide:Lm,useExisting:at(()=>Bm),multi:!0},Vm=new Xn("CompositionEventMode");let Bm=(()=>{class t extends Nm{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=mu()?mu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Xa),No(Qa),No(Vm,8))},t.\u0275dir=Zt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ko("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[za([Fm]),_o]}),t})();function jm(t){return null==t||0===t.length}function Um(t){return null!=t&&"number"==typeof t.length}const zm=new Xn("NgValidators"),qm=new Xn("NgAsyncValidators"),$m=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hm{static min(t){return function(t){return e=>{if(jm(e.value)||jm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(jm(e.value)||jm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return Gm(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return jm(t.value)||$m.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>jm(e.value)||!Um(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Um(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Km;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(jm(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Jm(t)}static composeAsync(t){return eg(t)}}function Gm(t){return jm(t.value)?{required:!0}:null}function Km(t){return null}function Wm(t){return null!=t}function Qm(t){const e=$o(t)?V(t):t;return Go(e),e}function Ym(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Zm(t,e){return e.map(e=>e(t))}function Xm(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Jm(t){if(!t)return null;const e=t.filter(Wm);return 0==e.length?null:function(t){return Ym(Zm(t,e))}}function tg(t){return null!=t?Jm(Xm(t)):null}function eg(t){if(!t)return null;const e=t.filter(Wm);return 0==e.length?null:function(t){return Om(Zm(t,e).map(Qm)).pipe(T(Ym))}}function ng(t){return null!=t?eg(Xm(t)):null}function ig(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rg(t){return t._rawValidators}function sg(t){return t._rawAsyncValidators}let og=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ng(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t}),t})(),ag=(()=>{class t extends og{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,features:[_o]}),t})();class lg extends og{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cg{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ug=(()=>{class t extends cg{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(lg,2))},t.\u0275dir=Zt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ca("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[_o]}),t})(),hg=(()=>{class t extends cg{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(ag,10))},t.\u0275dir=Zt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&ca("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[_o]}),t})();function dg(t,e){mg(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&yg(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&yg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function pg(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),gg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fg(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mg(t,e){const n=rg(t);null!==e.validator?t.setValidators(ig(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=sg(t);null!==e.asyncValidator?t.setAsyncValidators(ig(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();fg(e._rawValidators,r),fg(e._rawAsyncValidators,r)}function gg(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=rg(t);if(Array.isArray(i)&&i.length>0){const r=i.filter(t=>t!==e.validator);r.length!==i.length&&(n=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const i=sg(t);if(Array.isArray(i)&&i.length>0){const r=i.filter(t=>t!==e.asyncValidator);r.length!==i.length&&(n=!0,t.setAsyncValidators(r))}}}const i=()=>{};return fg(e._rawValidators,i),fg(e._rawAsyncValidators,i),n}function yg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _g(t,e){mg(t,e)}function vg(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wg="VALID",Cg="INVALID",kg="PENDING",Sg="DISABLED";function xg(t){return(Ag(t)?t.validators:t)||null}function Eg(t){return Array.isArray(t)?tg(t):t||null}function Ig(t,e){return(Ag(e)?e.asyncValidators:t)||null}function Tg(t){return Array.isArray(t)?ng(t):t||null}function Ag(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Rg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Eg(this._rawValidators),this._composedAsyncValidatorFn=Tg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wg}get invalid(){return this.status===Cg}get pending(){return this.status==kg}get disabled(){return this.status===Sg}get enabled(){return this.status!==Sg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Eg(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Tg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=kg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wg,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wg&&this.status!==kg||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sg:wg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=kg,this._hasOwnPendingAsyncValidator=!0;const e=Qm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Og?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Pg&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Zl,this.statusChanges=new Zl}_calculateStatus(){return this._allControlsDisabled()?Sg:this.errors?Cg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kg)?kg:this._anyControlsHaveStatus(Cg)?Cg:wg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ag(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Dg extends Rg{constructor(t=null,e,n){super(xg(e),Ig(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Og extends Rg{constructor(t,e,n){super(xg(e),Ig(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Dg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Pg extends Rg{constructor(t,e,n){super(xg(e),Ig(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Dg?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ng={provide:ag,useExisting:at(()=>Lg)},Mg=(()=>Promise.resolve(null))();let Lg=(()=>{class t extends ag{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Zl,this.form=new Og({},tg(t),ng(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Mg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),dg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Mg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),bg(this._directives,t)})}addFormGroup(t){Mg.then(()=>{const e=this._findContainer(t.path),n=new Og({});_g(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Mg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Mg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vg(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(No(zm,10),No(qm,10))},t.\u0275dir=Zt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ko("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[za([Ng]),_o]}),t})(),Fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Vg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const Bg=new Xn("NgModelWithFormControlWarning"),jg={provide:lg,useExisting:at(()=>Ug)};let Ug=(()=>{class t extends lg{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new Zl,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===Bm?n=t:Object.getPrototypeOf(t.constructor)===Mm?i=t:r=t}),r||i||n||null}(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&pg(e,this,!1),dg(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(No(zm,10),No(qm,10),No(Lm,10),No(Bg,8))},t.\u0275dir=Zt({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[za([jg]),_o,he]}),t._ngModelWarningSentOnce=!1,t})();const zg={provide:ag,useExisting:at(()=>qg)};let qg=(()=>{class t extends ag{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Zl,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return dg(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){pg(t.control||null,t,!1),bg(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vg(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(pg(e||null,t),n instanceof Dg&&(dg(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);_g(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return gg(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mg(this.form,this),this._oldForm&&gg(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(No(zm,10),No(qm,10))},t.\u0275dir=Zt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ko("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[za([zg]),_o,he]}),t})();const $g={provide:zm,useExisting:at(()=>Hg),multi:!0};let Hg=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Gm(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Ro("required",e.required?"":null)},inputs:{required:"required"},features:[za([$g])]}),t})(),Gg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Vg]]}),t})(),Kg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[Gg]}),t})(),Wg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Bg,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[Gg]}),t})();function Qg(t,e,n,i,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function Yg(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var s=t.apply(e,n);function o(t){Qg(s,i,r,o,a,"next",t)}function a(t){Qg(s,i,r,o,a,"throw",t)}o(void 0)})}}const Zg=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Xg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),i.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[u])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new Jg;i.push(e<<2|s>>4),64!==o&&(i.push(s<<4&240|o>>2),64!==a&&i.push(o<<6&192|a))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ty=function(t){return function(t){const e=Zg(t);return Xg.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ey=function(t){try{return Xg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ny(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}const iy=()=>{try{return ny().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&ey(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},ry=t=>{var e,n;return null===(n=null===(e=iy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},sy=t=>{var e;return null===(e=iy())||void 0===e?void 0:e[`_${t}`]};class oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function ay(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ly(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function cy(){try{return"object"==typeof indexedDB}catch(t){return!1}}function uy(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function hy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class dy extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dy.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,py.prototype.create)}}class py{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(fy,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error";return new dy(i,`${this.serviceName}: ${s} (${i}).`,n)}}const fy=/\{\$([^}]+)}/g;function my(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(gy(n)&&gy(s)){if(!my(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function gy(t){return null!==t&&"object"==typeof t}function yy(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _y(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}}),e}function vy(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class by{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=wy),void 0===i.error&&(i.error=wy),void 0===i.complete&&(i.complete=wy);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wy(){}const Cy=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})};function ky(t,e=1e3,n=2){const i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function Sy(t){return t&&t._delegate?t._delegate:t}class xy{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ey="[DEFAULT]";class Iy{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new oy;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Ey})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return Yg(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(r)&&s.resolve(i);return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(S0){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ey?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(S0){}var i;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:Ey:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ty{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Iy(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Ay=[];var Ry,Dy;(Dy=Ry||(Ry={}))[Dy.DEBUG=0]="DEBUG",Dy[Dy.VERBOSE=1]="VERBOSE",Dy[Dy.INFO=2]="INFO",Dy[Dy.WARN=3]="WARN",Dy[Dy.ERROR=4]="ERROR",Dy[Dy.SILENT=5]="SILENT";const Oy={debug:Ry.DEBUG,verbose:Ry.VERBOSE,info:Ry.INFO,warn:Ry.WARN,error:Ry.ERROR,silent:Ry.SILENT},Py=Ry.INFO,Ny={[Ry.DEBUG]:"log",[Ry.VERBOSE]:"log",[Ry.INFO]:"info",[Ry.WARN]:"warn",[Ry.ERROR]:"error"},My=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=Ny[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class Ly{constructor(t){this.name=t,this._logLevel=Py,this._logHandler=My,this._userLogHandler=null,Ay.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ry))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Oy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ry.DEBUG,...t),this._logHandler(this,Ry.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ry.VERBOSE,...t),this._logHandler(this,Ry.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ry.INFO,...t),this._logHandler(this,Ry.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ry.WARN,...t),this._logHandler(this,Ry.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ry.ERROR,...t),this._logHandler(this,Ry.ERROR,...t)}}let Fy,Vy;const By=new WeakMap,jy=new WeakMap,Uy=new WeakMap,zy=new WeakMap,qy=new WeakMap;let $y={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Uy.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hy(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Hy(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(Hy(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&By.set(e,t)}).catch(()=>{}),qy.set(e,t),e}(t);if(zy.has(t))return zy.get(t);const e=function(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Gy(this),t),Hy(By.get(this))}:function(...t){return Hy(e.apply(Gy(this),t))}:function(t,...n){const i=e.call(Gy(this),t,...n);return Uy.set(i,t.sort?t.sort():[t]),Hy(i)}:(t instanceof IDBTransaction&&function(t){if(jy.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});jy.set(t,e)}(t),n=t,(Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>n instanceof t)?new Proxy(t,$y):t);var e,n}(t);return e!==t&&(zy.set(t,e),qy.set(e,t)),e}const Gy=t=>qy.get(t);function Ky(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Hy(o);return i&&o.addEventListener("upgradeneeded",t=>{i(Hy(o.result),t.oldVersion,t.newVersion,Hy(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function Wy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Hy(n).then(()=>{})}const Qy=["get","getKey","getAll","getAllKeys","count"],Yy=["put","add","delete","clear"],Zy=new Map;function Xy(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zy.get(e))return Zy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Yy.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Qy.includes(n))return;const s=function(){var t=Yg(function*(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(yield Promise.all([o[n](...e),r&&s.done]))[0]});return function(e){return t.apply(this,arguments)}}();return Zy.set(e,s),s}var Jy;Jy=$y,$y={...Jy,get:(t,e,n)=>Xy(t,e)||Jy.get(t,e,n),has:(t,e)=>!!Xy(t,e)||Jy.has(t,e)};class t_{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const e_="@firebase/app",n_="0.9.7",i_=new Ly("@firebase/app"),r_="[DEFAULT]",s_={[e_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},o_=new Map,a_=new Map;function l_(t,e){try{t.container.addComponent(e)}catch(n){i_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function c_(t){const e=t.name;if(a_.has(e))return i_.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of o_.values())l_(n,t);return!0}function u_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const h_=new py("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class d_{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xy("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw h_.create("app-deleted",{appName:this._name})}}const p_="9.19.1";function f_(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:r_,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw h_.create("bad-app-name",{appName:String(r)});if(n||(n=(()=>{var t;return null===(t=iy())||void 0===t?void 0:t.config})()),!n)throw h_.create("no-options");const s=o_.get(r);if(s){if(my(n,s.options)&&my(i,s.config))return s;throw h_.create("duplicate-app",{appName:r})}const o=new Ty(r);for(const l of a_.values())o.addComponent(l);const a=new d_(n,i,o);return o_.set(r,a),a}function m_(t="[DEFAULT]"){const e=o_.get(t);if(!e&&t===r_)return f_();if(!e)throw h_.create("no-app",{appName:t});return e}function g_(){return Array.from(o_.values())}function y_(){return(y_=Yg(function*(t){const e=t.name;o_.has(e)&&(o_.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function __(t,e,n){var i;let r=null!==(i=s_[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void i_.warn(t.join(" "))}c_(new xy(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const v_="firebase-heartbeat-store";let b_=null;function w_(){return b_||(b_=Ky("firebase-heartbeat-database",1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(v_)}}}).catch(t=>{throw h_.create("idb-open",{originalErrorMessage:t.message})})),b_}function C_(){return(C_=Yg(function*(t){try{return(yield w_()).transaction(v_).objectStore(v_).get(x_(t))}catch(e){if(e instanceof dy)i_.warn(e.message);else{const t=h_.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});i_.warn(t.message)}}})).apply(this,arguments)}function k_(t,e){return S_.apply(this,arguments)}function S_(){return(S_=Yg(function*(t,e){try{const n=(yield w_()).transaction(v_,"readwrite"),i=n.objectStore(v_);return yield i.put(e,x_(t)),n.done}catch(n){if(n instanceof dy)i_.warn(n.message);else{const t=h_.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});i_.warn(t.message)}}})).apply(this,arguments)}function x_(t){return`${t.name}!${t.options.appId}`}class E_{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new T_(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}triggerHeartbeat(){var t=this;return Yg(function*(){const e=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=I_();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==n&&!t._heartbeatsCache.heartbeats.some(t=>t.date===n))return t._heartbeatsCache.heartbeats.push({date:n,agent:e}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return Yg(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const e=I_(),{heartbeatsToSend:n,unsentEntries:i}=function(t,e=1024){const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),A_(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),A_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(t._heartbeatsCache.heartbeats),r=ty(JSON.stringify({version:2,heartbeats:n}));return t._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),r})()}}function I_(){return(new Date).toISOString().substring(0,10)}class T_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Yg(function*(){return!!cy()&&uy().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return Yg(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function(t){return C_.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var e=this;return Yg(function*(){var n;if(yield e._canUseIndexedDBPromise){const i=yield e.read();return k_(e.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return Yg(function*(){var n;if(yield e._canUseIndexedDBPromise){const i=yield e.read();return k_(e.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}})()}}function A_(t){return ty(JSON.stringify({version:2,heartbeats:t})).length}c_(new xy("platform-logger",t=>new t_(t),"PRIVATE")),c_(new xy("heartbeat",t=>new E_(t),"PRIVATE")),__(e_,n_,""),__(e_,n_,"esm2017"),__("fire-js",""),__("firebase","9.19.1","app");const R_="@firebase/installations",D_="0.6.4",O_="w:0.6.4",P_="FIS_v2",N_=new py("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function M_(t){return t instanceof dy&&t.code.includes("request-failed")}function L_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function F_(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function V_(t,e){return B_.apply(this,arguments)}function B_(){return(B_=Yg(function*(t,e){const n=(yield e.json()).error;return N_.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function j_({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U_(t,{refreshToken:e}){const n=j_(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}function z_(t){return q_.apply(this,arguments)}function q_(){return(q_=Yg(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function $_(t,e){return H_.apply(this,arguments)}function H_(){return(H_=Yg(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=L_(t),r=j_(t),s=e.getImmediate({optional:!0});if(s){const t=yield s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:P_,appId:t.appId,sdkVersion:O_})},a=yield z_(()=>fetch(i,o));if(a.ok){const t=yield a.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:F_(t.authToken)}}throw yield V_("Create Installation",a)})).apply(this,arguments)}function G_(t){return new Promise(e=>{setTimeout(e,t)})}const K_=/^[cdef][\w-]{21}$/;function W_(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return K_.test(e)?e:""}catch(S0){return""}}function Q_(t){return`${t.appName}!${t.appId}`}const Y_=new Map;function Z_(t,e){const n=Q_(t);X_(n,e),function(t,e){const n=(!J_&&"BroadcastChannel"in self&&(J_=new BroadcastChannel("[Firebase] FID Change"),J_.onmessage=t=>{X_(t.data.key,t.data.fid)}),J_);n&&n.postMessage({key:t,fid:e}),0===Y_.size&&J_&&(J_.close(),J_=null)}(n,e)}function X_(t,e){const n=Y_.get(t);if(n)for(const i of n)i(e)}let J_=null;const tv="firebase-installations-store";let ev=null;function nv(){return ev||(ev=Ky("firebase-installations-database",1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tv)}}})),ev}function iv(t,e){return rv.apply(this,arguments)}function rv(){return(rv=Yg(function*(t,e){const n=Q_(t),i=(yield nv()).transaction(tv,"readwrite"),r=i.objectStore(tv),s=yield r.get(n);return yield r.put(e,n),yield i.done,s&&s.fid===e.fid||Z_(t,e.fid),e})).apply(this,arguments)}function sv(t){return ov.apply(this,arguments)}function ov(){return(ov=Yg(function*(t){const e=Q_(t),n=(yield nv()).transaction(tv,"readwrite");yield n.objectStore(tv).delete(e),yield n.done})).apply(this,arguments)}function av(t,e){return lv.apply(this,arguments)}function lv(){return(lv=Yg(function*(t,e){const n=Q_(t),i=(yield nv()).transaction(tv,"readwrite"),r=i.objectStore(tv),s=yield r.get(n),o=e(s);return void 0===o?yield r.delete(n):yield r.put(o,n),yield i.done,!o||s&&s.fid===o.fid||Z_(t,o.fid),o})).apply(this,arguments)}function cv(t){return uv.apply(this,arguments)}function uv(){return(uv=Yg(function*(t){let e;const n=yield av(t.appConfig,n=>{const i=hv(n),r=dv(t,i);return e=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function hv(t){return yv(t||{fid:W_(),registrationStatus:0})}function dv(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(N_.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return pv.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:fv(t)}:{installationEntry:e}}function pv(){return(pv=Yg(function*(t,e){try{const n=yield $_(t,e);return iv(t.appConfig,n)}catch(n){throw M_(n)&&409===n.customData.serverCode?yield sv(t.appConfig):yield iv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function fv(t){return mv.apply(this,arguments)}function mv(){return(mv=Yg(function*(t){let e=yield gv(t.appConfig);for(;1===e.registrationStatus;)yield G_(100),e=yield gv(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield cv(t);return n||e}return e})).apply(this,arguments)}function gv(t){return av(t,t=>{if(!t)throw N_.create("installation-not-found");return yv(t)})}function yv(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function _v(t,e){return vv.apply(this,arguments)}function vv(){return(vv=Yg(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=bv(t,n),r=U_(t,n),s=e.getImmediate({optional:!0});if(s){const t=yield s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:O_,appId:t.appId}})},a=yield z_(()=>fetch(i,o));if(a.ok)return F_(yield a.json());throw yield V_("Generate Auth Token",a)})).apply(this,arguments)}function bv(t,{fid:e}){return`${L_(t)}/${e}/authTokens:generate`}function wv(t){return Cv.apply(this,arguments)}function Cv(){return(Cv=Yg(function*(t,e=!1){let n;const i=yield av(t.appConfig,i=>{if(!Tv(i))throw N_.create("not-registered");const r=i.authToken;if(!e&&Av(r))return i;if(1===r.requestStatus)return n=kv(t,e),i;{if(!navigator.onLine)throw N_.create("app-offline");const e=Rv(i);return n=Ev(t,e),e}});return n?yield n:i.authToken})).apply(this,arguments)}function kv(t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=Yg(function*(t,e){let n=yield xv(t.appConfig);for(;1===n.authToken.requestStatus;)yield G_(100),n=yield xv(t.appConfig);const i=n.authToken;return 0===i.requestStatus?wv(t,e):i})).apply(this,arguments)}function xv(t){return av(t,t=>{if(!Tv(t))throw N_.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e})}function Ev(t,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=Yg(function*(t,e){try{const n=yield _v(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield iv(t.appConfig,i),n}catch(n){if(!M_(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield iv(t.appConfig,n)}else yield sv(t.appConfig);throw n}})).apply(this,arguments)}function Tv(t){return void 0!==t&&2===t.registrationStatus}function Av(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Rv(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Dv(){return(Dv=Yg(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield cv(e);return i?i.catch(console.error):wv(e).catch(console.error),n.fid})).apply(this,arguments)}function Ov(){return(Ov=Yg(function*(t,e=!1){const n=t;return yield Pv(n),(yield wv(n,e)).token})).apply(this,arguments)}function Pv(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=Yg(function*(t){const{registrationPromise:e}=yield cv(t);e&&(yield e)})).apply(this,arguments)}function Mv(t){return N_.create("missing-app-config-values",{valueName:t})}const Lv="installations";c_(new xy(Lv,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw Mv("App Configuration");if(!t.name)throw Mv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),heartbeatServiceProvider:u_(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),c_(new xy("installations-internal",t=>{const e=u_(t.getProvider("app").getImmediate(),Lv).getImmediate();return{getId:()=>function(t){return Dv.apply(this,arguments)}(e),getToken:t=>function(t){return Ov.apply(this,arguments)}(e,t)}},"PRIVATE")),__(R_,D_),__(R_,D_,"esm2017");const Fv="@firebase/remote-config",Vv="0.4.4",Bv=new py("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jv{constructor(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,i=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var e=this;return Yg(function*(){const[n,i]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(i&&e.isCachedDataFresh(t.cacheMaxAgeMillis,n))return i;t.eTag=i&&i.eTag;const r=yield e.client.fetch(t),s=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&s.push(e.storage.setLastSuccessfulFetchResponse(r)),yield Promise.all(s),r})()}}function Uv(t=navigator){return t.languages&&t.languages[0]||t.language}class zv{constructor(t,e,n,i,r,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=s}fetch(t){var e=this;return Yg(function*(){const[n,i]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},o={sdk_version:e.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:e.appId,language_code:Uv()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(r,a),c=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(m){let t="fetch-client-network";throw"AbortError"===(null==m?void 0:m.name)&&(t="fetch-timeout"),Bv.create(t,{originalErrorMessage:null==m?void 0:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let p,f;if(200===u.status){let t;try{t=yield u.json()}catch(m){throw Bv.create("fetch-client-parse",{originalErrorMessage:null==m?void 0:m.message})}p=t.entries,f=t.state}if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==h&&200!==h)throw Bv.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:p}})()}}class qv{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return Yg(function*(){const n=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,n)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){var i=this;return Yg(function*(){yield function(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Bv.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),e}catch(r){if(!function(t){if(!(t instanceof dy&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r))throw r;const e={throttleEndTimeMillis:Date.now()+ky(n),backoffCount:n+1};return yield i.storage.setThrottleMetadata(e),i.attemptFetch(t,e)}})()}}class $v{constructor(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hv(t,e){const n=t.target.error||void 0;return Bv.create(e,{originalErrorMessage:n&&(null==n?void 0:n.message)})}const Gv="app_namespace_store";class Kv{constructor(t,e,n,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=t=>{e(Hv(t,"storage-open"))},n.onsuccess=e=>{t(e.target.result)},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Gv,{keyPath:"compositeKey"})}}}catch(n){e(Bv.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return Yg(function*(){const n=yield e.openDbPromise;return new Promise((i,r)=>{const s=n.transaction([Gv],"readonly").objectStore(Gv),o=e.createCompositeKey(t);try{const t=s.get(o);t.onerror=t=>{r(Hv(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;i(e?e.value:void 0)}}catch(a){r(Bv.create("storage-get",{originalErrorMessage:null==a?void 0:a.message}))}})})()}set(t,e){var n=this;return Yg(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const o=i.transaction([Gv],"readwrite").objectStore(Gv),a=n.createCompositeKey(t);try{const t=o.put({compositeKey:a,value:e});t.onerror=t=>{s(Hv(t,"storage-set"))},t.onsuccess=()=>{r()}}catch(l){s(Bv.create("storage-set",{originalErrorMessage:null==l?void 0:l.message}))}})})()}delete(t){var e=this;return Yg(function*(){const n=yield e.openDbPromise;return new Promise((i,r)=>{const s=n.transaction([Gv],"readwrite").objectStore(Gv),o=e.createCompositeKey(t);try{const t=s.delete(o);t.onerror=t=>{r(Hv(t,"storage-delete"))},t.onsuccess=()=>{i()}}catch(a){r(Bv.create("storage-delete",{originalErrorMessage:null==a?void 0:a.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Wv{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return Yg(function*(){const e=t.storage.getLastFetchStatus(),n=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),r=yield e;r&&(t.lastFetchStatus=r);const s=yield n;s&&(t.lastSuccessfulFetchTimestampMillis=s);const o=yield i;o&&(t.activeConfig=o)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function Qv(){return(Qv=Yg(function*(){if(!cy())return!1;try{return yield uy()}catch(t){return!1}})).apply(this,arguments)}c_(new xy("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bv.create("registration-window");if(!cy())throw Bv.create("indexed-db-unavailable");const{projectId:r,apiKey:s,appId:o}=n.options;if(!r)throw Bv.create("registration-project-id");if(!s)throw Bv.create("registration-api-key");if(!o)throw Bv.create("registration-app-id");const a=new Kv(o,n.name,e=e||"firebase"),l=new Wv(a),c=new Ly(Fv);c.logLevel=Ry.ERROR;const u=new zv(i,p_,e,r,s,o),h=new qv(u,a),d=new jv(h,a,l,c),p=new $v(n,d,l,a,c);return function(t){const e=Sy(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),__(Fv,Vv),__(Fv,Vv,"esm2017");const Yv="/firebase-messaging-sw.js",Zv="/firebase-cloud-messaging-push-scope",Xv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Jv,tb;function eb(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nb(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}!function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Jv||(Jv={})),function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(tb||(tb={}));const ib="fcm_token_details_db",rb="fcm_token_object_Store";function sb(t){return ob.apply(this,arguments)}function ob(){return(ob=Yg(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(ib))return null;let e=null;var n;return(yield Ky(ib,5,{upgrade:(n=Yg(function*(n,i,r,s){var o;if(i<2)return;if(!n.objectStoreNames.contains(rb))return;const a=s.objectStore(rb),l=yield a.index("fcmSenderId").get(t);if(yield a.clear(),l)if(2===i){const t=l;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(o=t.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:eb(t.vapidKey)}}}else if(3===i){const t=l;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:eb(t.auth),p256dh:eb(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:eb(t.vapidKey)}}}else if(4===i){const t=l;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:eb(t.auth),p256dh:eb(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:eb(t.vapidKey)}}}}),function(t,e,i,r){return n.apply(this,arguments)})})).close(),yield Wy(ib),yield Wy("fcm_vapid_details_db"),yield Wy("undefined"),ab(e)?e:null})).apply(this,arguments)}function ab(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const lb="firebase-messaging-store";let cb=null;function ub(){return cb||(cb=Ky("firebase-messaging-database",1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lb)}}})),cb}function hb(t){return db.apply(this,arguments)}function db(){return(db=Yg(function*(t){const e=yb(t),n=yield ub(),i=yield n.transaction(lb).objectStore(lb).get(e);if(i)return i;{const e=yield sb(t.appConfig.senderId);if(e)return yield pb(t,e),e}})).apply(this,arguments)}function pb(t,e){return fb.apply(this,arguments)}function fb(){return(fb=Yg(function*(t,e){const n=yb(t),i=(yield ub()).transaction(lb,"readwrite");return yield i.objectStore(lb).put(e,n),yield i.done,e})).apply(this,arguments)}function mb(t){return gb.apply(this,arguments)}function gb(){return(gb=Yg(function*(t){const e=yb(t),n=(yield ub()).transaction(lb,"readwrite");yield n.objectStore(lb).delete(e),yield n.done})).apply(this,arguments)}function yb({appConfig:t}){return t.appId}const _b=new py("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vb(t,e){return bb.apply(this,arguments)}function bb(){return(bb=Yg(function*(t,e){const n=yield Eb(t),i=Tb(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{const e=yield fetch(xb(t.appConfig),r);s=yield e.json()}catch(o){throw _b.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw _b.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw _b.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function wb(t,e){return Cb.apply(this,arguments)}function Cb(){return(Cb=Yg(function*(t,e){const n=yield Eb(t),i=Tb(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{const n=yield fetch(`${xb(t.appConfig)}/${e.token}`,r);s=yield n.json()}catch(o){throw _b.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw _b.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw _b.create("token-update-no-token");return s.token})).apply(this,arguments)}function kb(t,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=Yg(function*(t,e){const n={method:"DELETE",headers:yield Eb(t)};try{const i=yield fetch(`${xb(t.appConfig)}/${e}`,n),r=yield i.json();if(r.error)throw _b.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(i){throw _b.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function xb({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Eb(t){return Ib.apply(this,arguments)}function Ib(){return(Ib=Yg(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Tb({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==Xv&&(r.web.applicationPubKey=i),r}const Ab=6048e5;function Rb(t){return Db.apply(this,arguments)}function Db(){return(Db=Yg(function*(t){const e=yield Vb(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:eb(e.getKey("auth")),p256dh:eb(e.getKey("p256dh"))},i=yield hb(t.firebaseDependencies);if(i){if(jb(i.subscriptionOptions,n))return Date.now()>=i.createTime+Ab?Nb(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield kb(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Lb(t.firebaseDependencies,n)}return Lb(t.firebaseDependencies,n)})).apply(this,arguments)}function Ob(t){return Pb.apply(this,arguments)}function Pb(){return(Pb=Yg(function*(t){const e=yield hb(t.firebaseDependencies);e&&(yield kb(t.firebaseDependencies,e.token),yield mb(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function Nb(t,e){return Mb.apply(this,arguments)}function Mb(){return(Mb=Yg(function*(t,e){try{const n=yield wb(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield pb(t.firebaseDependencies,i),n}catch(n){throw yield Ob(t),n}})).apply(this,arguments)}function Lb(t,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=Yg(function*(t,e){const n={token:yield vb(t,e),createTime:Date.now(),subscriptionOptions:e};return yield pb(t,n),n.token})).apply(this,arguments)}function Vb(t,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=Yg(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nb(e)})})).apply(this,arguments)}function jb(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Ub(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){var n,i,r,s,o;if(!e.fcmOptions&&!(null===(n=e.notification)||void 0===n?void 0:n.click_action))return;t.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function zb(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function qb(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function $b(t){return _b.create("missing-app-config-values",{valueName:t})}qb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qb("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hb{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw $b("App Configuration Object");if(!t.name)throw $b("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw $b(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Gb(t){return Kb.apply(this,arguments)}function Kb(){return(Kb=Yg(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Yv,{scope:Zv}),t.swRegistration.update().catch(()=>{})}catch(e){throw _b.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function Wb(t,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=Yg(function*(t,e){if(e||t.swRegistration||(yield Gb(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw _b.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Yb(t,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=Yg(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Xv)})).apply(this,arguments)}function Xb(){return(Xb=Yg(function*(t,e){if(!navigator)throw _b.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _b.create("permission-blocked");return yield Yb(t,null==e?void 0:e.vapidKey),yield Wb(t,null==e?void 0:e.serviceWorkerRegistration),Rb(t)})).apply(this,arguments)}function Jb(t,e,n){return tw.apply(this,arguments)}function tw(){return(tw=Yg(function*(t,e,n){const i=ew(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ew(t){switch(t){case tb.NOTIFICATION_CLICKED:return"notification_open";case tb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nw(){return(nw=Yg(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===tb.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Ub(n)):t.onMessageHandler.next(Ub(n)));const i=n.data;zb(i)&&"1"===i["google.c.a.e"]&&(yield Jb(t,n.messageType,i))})).apply(this,arguments)}const iw="@firebase/messaging",rw="0.12.4";function sw(){return(sw=Yg(function*(){try{yield uy()}catch(t){return!1}return"undefined"!=typeof window&&cy()&&hy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}c_(new xy("messaging",t=>{const e=new Hb(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return nw.apply(this,arguments)}(e,t)),e},"PUBLIC")),c_(new xy("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>function(t,e){return Xb.apply(this,arguments)}(e,t)}},"PRIVATE")),__(iw,rw),__(iw,rw,"esm2017");const ow="analytics",aw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lw="https://www.googletagmanager.com/gtag/js",cw=new Ly("@firebase/analytics"),uw=new py("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hw(t){if(!t.startsWith(lw)){const e=uw.create("invalid-gtag-resource",{gtagURL:t});return cw.warn(e.message),""}return t}function dw(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function pw(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy("firebase-js-sdk-policy",e)),n}(0,{createScriptURL:hw}),i=document.createElement("script"),r=`${lw}?l=${t}&id=${e}`;i.src=n?null==n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function fw(t,e,n,i,r,s){return mw.apply(this,arguments)}function mw(){return(mw=Yg(function*(t,e,n,i,r,s){const o=i[r];try{if(o)yield e[o];else{const t=(yield dw(n)).find(t=>t.measurementId===r);t&&(yield e[t.appId])}}catch(a){cw.error(a)}t("config",r,s)})).apply(this,arguments)}function gw(t,e,n,i,r){return yw.apply(this,arguments)}function yw(){return(yw=Yg(function*(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=yield dw(n);for(const n of t){const t=i.find(t=>t.measurementId===n),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",i,r||{})}catch(s){cw.error(s)}})).apply(this,arguments)}function _w(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lw)&&n.src.includes(t))return n;return null}const vw=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function bw(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ww(t){return Cw.apply(this,arguments)}function Cw(){return(Cw=Yg(function*(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:bw(i)},s=aw.replace("{app-id}",n),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=yield o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw uw.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})).apply(this,arguments)}function kw(t){return Sw.apply(this,arguments)}function Sw(){return(Sw=Yg(function*(t,e=vw,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw uw.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw uw.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Aw;return setTimeout(Yg(function*(){a.abort()}),void 0!==n?n:6e4),xw({appId:i,apiKey:r,measurementId:s},o,a,e)})).apply(this,arguments)}function xw(t,e,n){return Ew.apply(this,arguments)}function Ew(){return(Ew=Yg(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=vw){var s;const{appId:o,measurementId:a}=t;try{yield Iw(i,e)}catch(l){if(a)return cw.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const e=yield ww(t);return r.deleteThrottleMetadata(o),e}catch(l){const e=l;if(!Tw(e)){if(r.deleteThrottleMetadata(o),a)return cw.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:o,measurementId:a};throw l}const c=503===Number(null===(s=null==e?void 0:e.customData)||void 0===s?void 0:s.httpStatus)?ky(n,r.intervalMillis,30):ky(n,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,u),cw.debug(`Calling attemptFetch again in ${c} millis`),xw(t,u,i,r)}})).apply(this,arguments)}function Iw(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(uw.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Tw(t){if(!(t instanceof dy&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Aw{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Rw,Dw;function Ow(){return(Ow=Yg(function*(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}})).apply(this,arguments)}function Pw(t){Dw=t}function Nw(t){Rw=t}function Mw(){return Lw.apply(this,arguments)}function Lw(){return(Lw=Yg(function*(){if(!cy())return cw.warn(uw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield uy()}catch(t){return cw.warn(uw.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function Fw(){return(Fw=Yg(function*(t,e,n,i,r,s,o){var a;const l=kw(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&cw.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>cw.error(t)),e.push(l);const c=Mw().then(t=>t?i.getId():void 0),[u,h]=yield Promise.all([l,c]);_w(s)||pw(s,u.measurementId),Dw&&(r("consent","default",Dw),Pw(void 0)),r("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),r("config",u.measurementId,d),Rw&&(r("set",Rw),Nw(void 0)),u.measurementId})).apply(this,arguments)}class Vw{constructor(t){this.app=t}_delete(){return delete Bw[this.app.options.appId],Promise.resolve()}}let Bw={},jw=[];const Uw={};let zw,qw,$w="dataLayer",Hw=!1;function Gw(){return(Gw=Yg(function*(){if(ly())return!1;if(!hy())return!1;if(!cy())return!1;try{return yield uy()}catch(t){return!1}})).apply(this,arguments)}const Kw="@firebase/analytics",Ww="0.9.5";c_(new xy(ow,(t,{options:e})=>function(t,e,n){!function(){const t=[];if(ly()&&t.push("This is a browser extension environment."),hy()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=uw.create("invalid-analytics-context",{errorInfo:e});cw.warn(n.message)}}();const i=t.options.appId;if(!i)throw uw.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw uw.create("no-api-key");cw.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bw[i])throw uw.create("already-exists",{id:i});if(!Hw){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(s=window.gtag),window.gtag=function(t,e,n,i){function r(){return(r=Yg(function*(r,s,o){try{"event"===r?yield gw(t,e,n,s,o):"config"===r?yield fw(t,e,n,i,s,o):"consent"===r?t("consent","update",o):t("set",s)}catch(a){cw.error(a)}})).apply(this,arguments)}return function(t,e,n){return r.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window.gtag}}(Bw,jw,Uw);qw=t,zw=e,Hw=!0}return Bw[i]=function(t,e,n,i,r,s,o){return Fw.apply(this,arguments)}(t,jw,Uw,e,zw,$w,n),new Vw(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),c_(new xy("analytics-internal",function(t){try{const e=t.getProvider(ow).getImmediate();return{logEvent:(t,n,i)=>function(t,e,n,i){t=Sy(t),function(t,e,n,i,r){return Ow.apply(this,arguments)}(qw,Bw[t.app.options.appId],e,n,i).catch(t=>cw.error(t))}(e,t,n,i)}}catch(e){throw uw.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),__(Kw,Ww),__(Kw,Ww,"esm2017");class Qw extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Yw extends Qw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Zw extends Yw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Xw=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Jw extends Xw{constructor(t,e=Xw.now){super(t,()=>Jw.delegate&&Jw.delegate!==this?Jw.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Jw.delegate&&Jw.delegate!==this?Jw.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class tC extends Jw{}const eC=new tC(Zw),nC=new Jw(Yw),iC=nC;let rC=1;const sC=(()=>Promise.resolve())(),oC={};function aC(t){return t in oC&&(delete oC[t],!0)}const lC={setImmediate(t){const e=rC++;return oC[e]=!0,sC.then(()=>aC(e)&&t()),e},clearImmediate(t){aC(t)}};class cC extends Yw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=lC.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(lC.clearImmediate(e),t.scheduled=void 0)}}class uC extends Jw{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const hC=new uC(cC);function dC(t){return!l(t)&&t-parseFloat(t)+1>=0}class pC extends b{constructor(t,e=0,n=hC){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!dC(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=hC)}static create(t,e=0,n=hC){return new pC(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(pC.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function fC(t,e=0){return function(n){return n.lift(new mC(t,e))}}class mC{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new pC(e,this.delay,this.scheduler).subscribe(t)}}function gC(t,e){return new b(e?n=>e.schedule(yC,0,{error:t,subscriber:n}):e=>e.error(t))}function yC({error:t,subscriber:e}){e.error(t)}let _C=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Vh(this.value);case"E":return gC(this.error);case"C":return Yh()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function vC(t,e=0){return function(n){return n.lift(new bC(t,e))}}class bC{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new wC(t,this.scheduler,this.delay))}}class wC extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(wC.dispatch,this.delay,new CC(t,this.destination)))}_next(t){this.scheduleMessage(_C.createNext(t))}_error(t){this.scheduleMessage(_C.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(_C.createComplete()),this.unsubscribe()}}class CC{constructor(t,e){this.notification=t,this.destination=e}}const kC=new el("7.5.0"),SC="__angularfire_symbol__analyticsIsSupportedValue",xC="__angularfire_symbol__analyticsIsSupported",EC="__angularfire_symbol__remoteConfigIsSupportedValue",IC="__angularfire_symbol__remoteConfigIsSupported",TC="__angularfire_symbol__messagingIsSupportedValue",AC="__angularfire_symbol__messagingIsSupported";function RC(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[xC]||(globalThis[xC]=function(){return Gw.apply(this,arguments)}().then(t=>globalThis[SC]=t).catch(()=>globalThis[SC]=!1)),globalThis[AC]||(globalThis[AC]=function(){return sw.apply(this,arguments)}().then(t=>globalThis[TC]=t).catch(()=>globalThis[TC]=!1)),globalThis[IC]||(globalThis[IC]=function(){return Qv.apply(this,arguments)}().then(t=>globalThis[EC]=t).catch(()=>globalThis[EC]=!1));const DC=(t,e)=>{const n=e?[e]:g_(),i=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{i.includes(t)||i.push(t)})}),i};function OC(){}class PC{constructor(t,e=eC){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class NC{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",OC,{},OC,OC)),e.pipe(Td({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let MC=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new PC(Zone.current)),this.insideAngular=t.run(()=>new PC(Zone.current,nC)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LC(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function FC(t){return LC().ngZone.runOutsideAngular(()=>t())}function VC(t){return LC().ngZone.run(()=>t())}function BC(t){return LC(),(e=LC(),function(t){return(t=t.lift(new NC(e.ngZone))).pipe(fC(e.outsideAngular),vC(e.insideAngular))})(t);var e}const jC=(t,e)=>{const n=void 0;return function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),VC(()=>t.apply(n,i))}},UC=(t,e)=>function(){let n;const i=arguments;for(let t=0;t<arguments.length;t++)"function"==typeof i[t]&&(e&&(n||(n=VC(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",OC,{},OC,OC)))),i[t]=jC(i[t],n));const r=FC(()=>t.apply(this,i));if(!e){if(r instanceof b){const t=LC();return r.pipe(fC(t.outsideAngular),vC(t.insideAngular))}return VC(()=>r)}return r instanceof b?r.pipe(BC):r instanceof Promise?VC(()=>new Promise((t,e)=>r.then(e=>VC(()=>t(e)),t=>VC(()=>e(t))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:VC(()=>r)};function zC(t=0,e,n){let i=-1;return dC(e)?i=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=iC),new b(e=>{const r=dC(t)?t:+t-n.now();return n.schedule(qC,r,{index:0,period:i,subscriber:e})})}function qC(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function $C(t,e){return n=>n.lift(new HC(t,e))}class HC{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new GC(t,this.keySelector,this.flushes))}}class GC extends j{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(U(n,new B(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(i){return void n.error(i)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}class KC{constructor(t){return t}}class WC{constructor(){return g_()}}zC(0,300).pipe(md(()=>V(g_())),$C());const QC=new Xn("angularfire2._apps"),YC={provide:KC,useFactory:function(t){return t&&1===t.length?t[0]:new KC(m_())},deps:[[new wi,QC]]},ZC={provide:WC,deps:[[new wi,QC]]};function XC(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new KC(i)}}let JC=(()=>{class t{constructor(t){__("angularfire",kC.full,"core"),__("angularfire",kC.full,"app"),__("angular",nl.full,t.toString())}}return t.\u0275fac=function(e){return new(e||t)(gi(Cc))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[YC,ZC]}),t})();function tk(t,...e){return{ngModule:JC,providers:[{provide:QC,useFactory:XC(t),multi:!0,deps:[Fc,go,MC,...e]}]}}UC(function(t){return y_.apply(this,arguments)},!0),UC(m_,!0),UC(g_,!0);const ek=UC(f_,!0),nk=(UC(function(t,e){if(null!==t&&"function"!=typeof t)throw h_.create("invalid-log-argument");!function(t,e){for(const n of Ay){let i=null;e&&e.level&&(i=Oy[e.level]),n.userLogHandler=null===t?null:(e,n,...r)=>{const s=r.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:Ry[n].toLowerCase(),message:s,args:r,type:e.name})}}}(t,e)},!0),UC(__,!0),UC(function(t){var e;e=t,Ay.forEach(t=>{t.setLogLevel(e)})},!0),new Map),ik={activated:!1,tokenObservers:[]},rk={initialized:!1,enabled:!1};function sk(t){return nk.get(t)||Object.assign({},ik)}function ok(){return rk}class ak{constructor(t,e,n,i,r){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return Yg(function*(){e.stop();try{e.pending=new oy,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new oy,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const lk=new py("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ck(t){if(!sk(t).activated)throw lk.create("use-before-activation",{appName:t.name})}function uk(t,e){return hk.apply(this,arguments)}function hk(){return(hk=Yg(function*({url:t,body:e},n){const i={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const t=yield r.getHeartbeatsHeader();t&&(i["X-Firebase-Client"]=t)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,a;try{o=yield fetch(t,s)}catch(h){throw lk.create("fetch-network-error",{originalErrorMessage:null==h?void 0:h.message})}if(200!==o.status)throw lk.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw lk.create("fetch-parse-error",{originalErrorMessage:null==h?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw lk.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function dk(t,e){const{projectId:n,appId:i,apiKey:r}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const pk="firebase-app-check-store",fk="debug-token";let mk=null;function gk(){return mk||(mk=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(lk.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(pk,{keyPath:"compositeKey"})}}}catch(n){e(lk.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}}),mk)}function yk(t){return Ck(Sk(t))}function _k(t){return bk(fk,t)}function vk(){return Ck(fk)}function bk(t,e){return wk.apply(this,arguments)}function wk(){return(wk=Yg(function*(t,e){const n=(yield gk()).transaction(pk,"readwrite"),i=n.objectStore(pk).put({compositeKey:t,value:e});return new Promise((t,e)=>{i.onsuccess=e=>{t()},n.onerror=t=>{var n;e(lk.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function Ck(t){return kk.apply(this,arguments)}function kk(){return(kk=Yg(function*(t){const e=(yield gk()).transaction(pk,"readonly"),n=e.objectStore(pk).get(t);return new Promise((t,i)=>{n.onsuccess=e=>{const n=e.target.result;t(n?n.value:void 0)},e.onerror=t=>{var e;i(lk.create("storage-get",{originalErrorMessage:null===(e=t.target.error)||void 0===e?void 0:e.message}))}})})).apply(this,arguments)}function Sk(t){return`${t.options.appId}-${t.name}`}const xk=new Ly("@firebase/app-check");function Ek(){return(Ek=Yg(function*(t){if(cy()){let n;try{n=yield yk(t)}catch(e){xk.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return n}})).apply(this,arguments)}function Ik(t,e){return cy()?function(t,e){return bk(Sk(t),e)}(t,e).catch(t=>{xk.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Tk(){return(Tk=Yg(function*(){let t;try{t=yield vk()}catch(sG){}if(t)return t;{const t=Cy();return _k(t).catch(t=>xk.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),t}})).apply(this,arguments)}function Ak(){return ok().enabled}function Rk(){return Dk.apply(this,arguments)}function Dk(){return(Dk=Yg(function*(){const t=ok();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ok={error:"UNKNOWN_ERROR"};function Pk(t){return Nk.apply(this,arguments)}function Nk(){return(Nk=Yg(function*(t,e=!1){const n=t.app;ck(n);const i=sk(n);let r,s=i.token;if(s&&!Bk(s)&&(i.token=void 0,s=void 0),!s){const t=yield i.cachedTokenPromise;t&&(Bk(t)?s=t:yield Ik(n,void 0))}if(!e&&s&&Bk(s))return{token:s.token};let o,a=!1;if(Ak()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uk(dk(n,yield Rk()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const e=yield i.exchangeTokenPromise;return yield Ik(n,e),i.token=e,{token:e.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield sk(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?xk.warn(l.message):xk.error(l),r=l}return s?r?o=Bk(s)?{token:s.token,internalError:r}:jk(r):(o={token:s.token},i.token=s,yield Ik(n,s)):o=jk(r),a&&Vk(n,o),o})).apply(this,arguments)}function Mk(t,e,n,i){const{app:r}=t,s=sk(r);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:i,type:e}],s.token&&Bk(s.token)){const e=s.token;Promise.resolve().then(()=>{n({token:e.token}),Fk(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Fk(t))}function Lk(t,e){const n=sk(t),i=n.tokenObservers.filter(t=>t.next!==e);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Fk(t){const{app:e}=t,n=sk(e);let i=n.tokenRefresher;i||(i=function(t){const{app:e}=t;return new ak(Yg(function*(){let n;if(n=sk(e).token?yield Pk(t,!0):yield Pk(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const t=sk(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Vk(t,e){const n=sk(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Bk(t){return t.expireTimeMillis-Date.now()>0}function jk(t){return{token:(e=Ok,Xg.encodeString(JSON.stringify(e),!1)),error:t};var e}class Uk{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=sk(this.app);for(const e of t)Lk(this.app,e.next);return Promise.resolve()}}function zk(){return(zk=Yg(function*(t,e){const n=yield Pk(t,e);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}const qk="app-check-internal";c_(new xy("app-check",t=>{return e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),new Uk(e,n);var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qk).initialize()})),c_(new xy(qk,t=>{return e=t.getProvider("app-check").getImmediate(),{getToken:t=>Pk(e,t),addTokenListener:t=>Mk(e,"INTERNAL",t),removeTokenListener:t=>Lk(e.app,t)};var e},"PUBLIC").setInstantiationMode("EXPLICIT")),__("@firebase/app-check","0.6.4");const $k="app-check";class Hk{constructor(){return DC($k)}}function Gk(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}zC(0,300).pipe(md(()=>V(DC($k))),$C()),new Xn("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new wi,new wi,UC(function(t,e){return zk.apply(this,arguments)},!0),UC(function(t=m_(),e){const n=u_(t=Sy(t),"app-check");if(ok().initialized||function(){const t=ny(),e=ok();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new oy;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return Tk.apply(this,arguments)}())}(),Ak()&&Rk().then(t=>console.log(`App Check debug token: ${t}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(r.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&r.provider.isEqual(e.provider))return i;throw lk.create("already-initialized",{appName:t.name})}const i=n.initialize({options:e});return function(t,e,n){const i=function(t,e){return nk.set(t,e),nk.get(t)}(t,Object.assign({},ik));i.activated=!0,i.provider=e,i.cachedTokenPromise=function(t){return Ek.apply(this,arguments)}(t).then(e=>(e&&Bk(e)&&(i.token=e,Vk(t,{token:e.token})),e)),i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,i.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),sk(t).isTokenAutoRefreshEnabled&&Mk(i,"INTERNAL",()=>{}),i},!0),UC(function(t,e,n,i){let r=()=>{},s=()=>{};return r=null!=e.next?e.next.bind(e):e,null!=e.error?s=e.error.bind(e):n&&(s=n),Mk(t,"EXTERNAL",r,s),()=>Lk(t.app,r)},!0),UC(function(t,e){const n=sk(t.app);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),n.isTokenAutoRefreshEnabled=e},!0);const Kk=new py("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wk=new Ly("@firebase/auth");function Qk(t,...e){Wk.logLevel<=Ry.ERROR&&Wk.error(`Auth (9.19.1): ${t}`,...e)}function Yk(t,...e){throw tS(t,...e)}function Zk(t,...e){return tS(t,...e)}function Xk(t,e,n){const i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new py("auth","Firebase",i).create(e,{appName:t.name})}function Jk(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Yk(t,"argument-error"),Xk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tS(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Kk.create(t,...e)}function eS(t,e,...n){if(!t)throw tS(e,...n)}function nS(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qk(e),new Error(e)}function iS(t,e){t||nS(e)}const rS=new Map;function sS(t){iS(t instanceof Function,"Expected a class definition");let e=rS.get(t);return e?(iS(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rS.set(t,e),e)}function oS(t,e){const n=u_(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(my(n.getOptions(),null!=e?e:{}))return t;Yk(t,"already-initialized")}return n.initialize({options:e})}function aS(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function lS(){return"http:"===cS()||"https:"===cS()}function cS(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class uS{constructor(t,e){this.shortDelay=t,this.longDelay=e,iS(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ay())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lS()||ly()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function hS(t,e){iS(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dS{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fS=new uS(3e4,6e4);function mS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gS(t,e,n,i){return yS.apply(this,arguments)}function yS(){return(yS=Yg(function*(t,e,n,i,r={}){return _S(t,r,Yg(function*(){let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=yy(Object.assign({key:t.config.apiKey},s)).slice(1),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),dS.fetch()(CS(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function _S(t,e,n){return vS.apply(this,arguments)}function vS(){return(vS=Yg(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},pS),e);try{const e=new kS(t),r=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield r.json();if("needConfirmation"in s)throw SS(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw SS(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw SS(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw SS(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Xk(t,a,o);Yk(t,a)}}catch(r){if(r instanceof dy)throw r;Yk(t,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function bS(t,e,n,i){return wS.apply(this,arguments)}function wS(){return(wS=Yg(function*(t,e,n,i,r={}){const s=yield gS(t,e,n,i,r);return"mfaPendingCredential"in s&&Yk(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function CS(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?hS(t.config,r):`${t.config.apiScheme}://${r}`}class kS{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(Zk(this.auth,"network-request-failed")),fS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function SS(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Zk(t,e,i);return r.customData._tokenResponse=n,r}function xS(){return(xS=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ES(t,e){return IS.apply(this,arguments)}function IS(){return(IS=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function TS(t,e){return AS.apply(this,arguments)}function AS(){return(AS=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function RS(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function DS(t,e=!1){return Sy(t).getIdToken(e)}function OS(t){return PS.apply(this,arguments)}function PS(){return(PS=Yg(function*(t,e=!1){const n=Sy(t),i=yield n.getIdToken(e),r=MS(i);eS(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:RS(NS(r.auth_time)),issuedAtTime:RS(NS(r.iat)),expirationTime:RS(NS(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function NS(t){return 1e3*Number(t)}function MS(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Qk("JWT malformed, contained fewer than 3 sections"),null;try{const t=ey(n);return t?JSON.parse(t):(Qk("Failed to decode base64 JWT payload"),null)}catch(r){return Qk("Caught error parsing JWT payload as JSON",null==r?void 0:r.toString()),null}}function LS(t,e){return FS.apply(this,arguments)}function FS(){return(FS=Yg(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof dy&&VS(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}function VS({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class BS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(Yg(function*(){yield e.iteration()}),n)}iteration(){var t=this;return Yg(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&t.schedule(!0))}t.schedule()})()}}class jS{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=RS(this.lastLoginAt),this.creationTime=RS(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function US(t){return zS.apply(this,arguments)}function zS(){return(zS=Yg(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield LS(t,TS(n,{idToken:i}));eS(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?GS(s.providerUserInfo):[],a=HS(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jS(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,c)})).apply(this,arguments)}function qS(t){return $S.apply(this,arguments)}function $S(){return($S=Yg(function*(t){const e=Sy(t);yield US(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HS(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function GS(t){return t.map(t=>{var{providerId:e}=t,n=Gk(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function KS(){return(KS=Yg(function*(t,e){const n=yield _S(t,{},Yg(function*(){const n=yy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=CS(t,i,"/v1/token",`key=${r}`),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",dS.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class WS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){eS(t.idToken,"internal-error"),eS(void 0!==t.idToken,"internal-error"),eS(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=MS(t);return eS(e,"internal-error"),eS(void 0!==e.exp,"internal-error"),eS(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return Yg(function*(){return eS(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return Yg(function*(){const{accessToken:i,refreshToken:r,expiresIn:s}=yield function(t,e){return KS.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(i,r,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new WS;return n&&(eS("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(eS("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(eS("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new WS,this.toJSON())}_performRefresh(){return nS("not implemented")}}function QS(t,e){eS("string"==typeof t||void 0===t,"internal-error",{appName:e})}class YS{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=Gk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new jS(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){var e=this;return Yg(function*(){const n=yield LS(e,e.stsTokenManager.getToken(e.auth,t));return eS(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return OS(this,t)}reload(){return qS(this)}_assign(t){this!==t&&(eS(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new YS(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){eS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return Yg(function*(){let i=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield US(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return Yg(function*(){const e=yield t.getIdToken();return yield LS(t,function(t,e){return xS.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=e.photoURL)&&void 0!==s?s:void 0,f=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:v,isAnonymous:b,providerData:w,stsTokenManager:C}=e;eS(_&&C,t,"internal-error");const k=WS.fromJSON(this.name,C);eS("string"==typeof _,t,"internal-error"),QS(u,t.name),QS(h,t.name),eS("boolean"==typeof v,t,"internal-error"),eS("boolean"==typeof b,t,"internal-error"),QS(d,t.name),QS(p,t.name),QS(f,t.name),QS(m,t.name),QS(g,t.name),QS(y,t.name);const S=new YS({uid:_,auth:t,email:h,emailVerified:v,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(t=>Object.assign({},t))),m&&(S._redirectEventId=m),S}static _fromIdTokenResponse(t,e,n=!1){return Yg(function*(){const i=new WS;i.updateFromServerResponse(e);const r=new YS({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return yield US(r),r})()}}const ZS=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return Yg(function*(){return!0})()}_set(t,e){var n=this;return Yg(function*(){n.storage[t]=e})()}_get(t){var e=this;return Yg(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return Yg(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function XS(t,e,n){return`firebase:${t}:${e}:${n}`}class JS{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=XS(this.userKey,i.apiKey,r),this.fullPersistenceKey=XS("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return Yg(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?YS._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return Yg(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return Yg(function*(){if(!e.length)return new JS(sS(ZS),t,n);const i=(yield Promise.all(e.map(function(){var t=Yg(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let r=i[0]||sS(ZS);const s=XS(n,t.config.apiKey,t.name);let o=null;for(const n of e)try{const e=yield n._get(s);if(e){const i=YS._fromJSON(t,e);n!==r&&(o=i),r=n;break}}catch(S0){}const a=i.filter(t=>t._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],o&&(yield r._set(s,o.toJSON())),yield Promise.all(e.map(function(){var t=Yg(function*(t){if(t!==r)try{yield t._remove(s)}catch(S0){}});return function(e){return t.apply(this,arguments)}}())),new JS(r,t,n)):new JS(r,t,n)})()}}function tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ox(e))return"Blackberry";if(ax(e))return"Webos";if(nx(e))return"Safari";if((e.includes("chrome/")||ix(e))&&!e.includes("edge/"))return"Chrome";if(sx(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function ex(t=ay()){return/firefox\//i.test(t)}function nx(t=ay()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ix(t=ay()){return/crios\//i.test(t)}function rx(t=ay()){return/iemobile/i.test(t)}function sx(t=ay()){return/android/i.test(t)}function ox(t=ay()){return/blackberry/i.test(t)}function ax(t=ay()){return/webos/i.test(t)}function lx(t=ay()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cx(t=ay()){return lx(t)||sx(t)||ax(t)||ox(t)||/windows phone/i.test(t)||rx(t)}function ux(t,e=[]){let n;switch(t){case"Browser":n=tx(ay());break;case"Worker":n=`${tx(ay())}-${t}`;break;default:n=t}return`${n}/JsCore/9.19.1/${e.length?e.join(","):"FirebaseCore-web"}`}class hx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise((n,i)=>{try{n(t(e))}catch(r){i(r)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return Yg(function*(){if(e.auth.currentUser===t)return;const n=[];try{for(const i of e.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const t of n)try{t()}catch(r){}throw e.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class dx{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fx(this),this.idTokenSubscription=new fx(this),this.beforeStateQueue=new hx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=sS(e)),this._initializationPromise=this.queue(Yg(function*(){var i,r;if(!n._deleted&&(n.persistenceManager=yield JS.create(n,t),!n._deleted)){if(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(e),n.lastNotifiedUid=(null===(r=n.currentUser)||void 0===r?void 0:r.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return Yg(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();return t.currentUser||e?t.currentUser&&e&&t.currentUser.uid===e.uid?(t._currentUser._assign(e),void(yield t.currentUser.getIdToken())):void(yield t._updateCurrentUser(e,!0)):void 0})()}initializeCurrentUser(t){var e=this;return Yg(function*(){var n;const i=yield e.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const i=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==r?void 0:r._redirectEventId,a=yield e.tryRedirectSignIn(t);i&&i!==o||!(null==a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return e.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield e.beforeStateQueue.runMiddleware(r)}catch(o){r=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(o))}return r?e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)}return eS(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)})()}tryRedirectSignIn(t){var e=this;return Yg(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(i){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return Yg(function*(){try{yield US(t)}catch(n){if("auth/network-request-failed"!==(null==n?void 0:n.code))return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return Yg(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return Yg(function*(){const n=t?Sy(t):null;return n&&eS(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t,e=!1){var n=this;return Yg(function*(){if(!n._deleted)return t&&eS(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),e||(yield n.beforeStateQueue.runMiddleware(t)),n.queue(Yg(function*(){yield n.directlySetCurrentUser(t),n.notifyAuthListeners()}))})()}signOut(){var t=this;return Yg(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(Yg(function*(){yield e.assertedPersistence.setPersistence(sS(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new py("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return Yg(function*(){const i=yield n.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return Yg(function*(){if(!e.redirectPersistenceManager){const n=t&&sS(t)||e._popupRedirectResolver;eS(n,e,"argument-error"),e.redirectPersistenceManager=yield JS.create(e,[sS(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return Yg(function*(){var n,i;return e._isInitialized&&(yield e.queue(Yg(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return Yg(function*(){if(t===e.currentUser)return e.queue(Yg(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return eS(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof e?t.addObserver(e,n,i):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return Yg(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return eS(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return Yg(function*(){var e;const n={"X-Client-Version":t.clientVersion};t.app.options.appId&&(n["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();return i&&(n["X-Firebase-Client"]=i),n})()}}function px(t){return Sy(t)}class fx{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new by(t,void 0);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return eS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mx(t,e,n){const i=px(t);eS(i._canInitEmulator,i,"emulator-config-failed"),eS(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=gx(e),{host:o,port:a}=function(t){const e=gx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:yx(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:yx(e)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function gx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class _x{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return nS("not implemented")}_getIdTokenResponse(t){return nS("not implemented")}_linkToIdToken(t,e){return nS("not implemented")}_getReauthenticationResolver(t){return nS("not implemented")}}function vx(t,e){return bx.apply(this,arguments)}function bx(){return(bx=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:resetPassword",mS(t,e))})).apply(this,arguments)}function wx(t,e){return Cx.apply(this,arguments)}function Cx(){return(Cx=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function kx(t,e){return Sx.apply(this,arguments)}function Sx(){return(Sx=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:update",mS(t,e))})).apply(this,arguments)}function xx(){return(xx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithPassword",mS(t,e))})).apply(this,arguments)}function Ex(t,e){return Ix.apply(this,arguments)}function Ix(){return(Ix=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:sendOobCode",mS(t,e))})).apply(this,arguments)}function Tx(t,e){return Ax.apply(this,arguments)}function Ax(){return(Ax=Yg(function*(t,e){return Ex(t,e)})).apply(this,arguments)}function Rx(t,e){return Dx.apply(this,arguments)}function Dx(){return(Dx=Yg(function*(t,e){return Ex(t,e)})).apply(this,arguments)}function Ox(t,e){return Px.apply(this,arguments)}function Px(){return(Px=Yg(function*(t,e){return Ex(t,e)})).apply(this,arguments)}function Nx(t,e){return Mx.apply(this,arguments)}function Mx(){return(Mx=Yg(function*(t,e){return Ex(t,e)})).apply(this,arguments)}function Lx(){return(Lx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithEmailLink",mS(t,e))})).apply(this,arguments)}function Fx(){return(Fx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithEmailLink",mS(t,e))})).apply(this,arguments)}class Vx extends _x{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Vx(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Vx(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return Yg(function*(){switch(e.signInMethod){case"password":return function(t,e){return xx.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return Lx.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:Yk(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return Yg(function*(){switch(n.signInMethod){case"password":return wx(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Fx.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:Yk(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Bx(t,e){return jx.apply(this,arguments)}function jx(){return(jx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithIdp",mS(t,e))})).apply(this,arguments)}function Ux(t,e){return zx.apply(this,arguments)}function zx(){return(zx=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:sendVerificationCode",mS(t,e))})).apply(this,arguments)}function qx(){return(qx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithPhoneNumber",mS(t,e))})).apply(this,arguments)}function $x(){return($x=Yg(function*(t,e){const n=yield bS(t,"POST","/v1/accounts:signInWithPhoneNumber",mS(t,e));if(n.temporaryProof)throw SS(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const Hx={USER_NOT_FOUND:"user-not-found"};function Gx(){return(Gx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithPhoneNumber",mS(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Hx)})).apply(this,arguments)}class Kx extends _x{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Kx({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Kx({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return qx.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return $x.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return Gx.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new Kx({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Wx{constructor(t){var e,n,i,r,s,o;const a=_y(vy(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);eS(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=_y(vy(t)).link,n=e?_y(vy(e)).deep_link_id:null,i=_y(vy(t)).deep_link_id;return(i?_y(vy(i)).link:null)||i||n||e||t}(t);try{return new Wx(e)}catch(S0){return null}}}let Qx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return Vx._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Wx.parseLink(e);return eS(n,"argument-error"),Vx._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Yx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zx extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function Xx(t,e){return Jx.apply(this,arguments)}function Jx(){return(Jx=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signUp",mS(t,e))})).apply(this,arguments)}class tE{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return Yg(function*(){const r=yield YS._fromIdTokenResponse(t,n,i),s=eE(n);return new tE({user:r,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return Yg(function*(){yield t._updateTokensIfNecessary(n,!0);const i=eE(n);return new tE({user:t,providerId:i,_tokenResponse:n,operationType:e})})()}}function eE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function nE(){return(nE=Yg(function*(t){var e;const n=px(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new tE({user:n.currentUser,providerId:null,operationType:"signIn"});const i=yield Xx(n,{returnSecureToken:!0}),r=yield tE._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class iE extends dy{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,iE.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new iE(t,e,n,i)}}function rE(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw iE._fromErrorAndOperation(t,n,e,i);throw n})}function sE(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function oE(){return(oE=Yg(function*(t,e){const n=Sy(t);yield cE(!0,n,e);const{providerUserInfo:i}=yield ES(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=sE(i||[]);return n.providerData=n.providerData.filter(t=>r.has(t.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function aE(t,e){return lE.apply(this,arguments)}function lE(){return(lE=Yg(function*(t,e,n=!1){const i=yield LS(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tE._forOperation(t,"link",i)})).apply(this,arguments)}function cE(t,e,n){return uE.apply(this,arguments)}function uE(){return(uE=Yg(function*(t,e,n){yield US(e);const i=!1===t?"provider-already-linked":"no-such-provider";eS(sE(e.providerData).has(n)===t,e.auth,i)})).apply(this,arguments)}function hE(t,e){return dE.apply(this,arguments)}function dE(){return(dE=Yg(function*(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=yield LS(t,rE(i,r,e,t),n);eS(s.idToken,i,"internal-error");const o=MS(s.idToken);eS(o,i,"internal-error");const{sub:a}=o;return eS(t.uid===a,i,"user-mismatch"),tE._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Yk(i,"user-mismatch"),s}})).apply(this,arguments)}function pE(t,e){return fE.apply(this,arguments)}function fE(){return(fE=Yg(function*(t,e,n=!1){const i="signIn",r=yield rE(t,i,e),s=yield tE._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function mE(t,e){return gE.apply(this,arguments)}function gE(){return(gE=Yg(function*(t,e){return pE(px(t),e)})).apply(this,arguments)}function yE(t,e){return _E.apply(this,arguments)}function _E(){return(_E=Yg(function*(t,e){const n=Sy(t);return yield cE(!1,n,e.providerId),aE(n,e)})).apply(this,arguments)}function vE(t,e){return bE.apply(this,arguments)}function bE(){return(bE=Yg(function*(t,e){return hE(Sy(t),e)})).apply(this,arguments)}function wE(t,e){return CE.apply(this,arguments)}function CE(){return(CE=Yg(function*(t,e){return bS(t,"POST","/v1/accounts:signInWithCustomToken",mS(t,e))})).apply(this,arguments)}function kE(){return(kE=Yg(function*(t,e){const n=px(t),i=yield wE(n,{token:e,returnSecureToken:!0}),r=yield tE._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class SE{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?xE._fromServerResponse(t,e):"totpInfo"in e?EE._fromServerResponse(t,e):Yk(t,"internal-error")}}class xE extends SE{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new xE(e)}}class EE extends SE{constructor(t){super("totp",t)}static _fromServerResponse(t,e){return new EE(e)}}function IE(t,e,n){var i;eS((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),eS(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(eS(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(eS(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function TE(){return(TE=Yg(function*(t,e,n){const i=Sy(t),r={requestType:"PASSWORD_RESET",email:e};n&&IE(i,r,n),yield Rx(i,r)})).apply(this,arguments)}function AE(){return(AE=Yg(function*(t,e,n){yield vx(Sy(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function RE(){return(RE=Yg(function*(t,e){yield kx(Sy(t),{oobCode:e})})).apply(this,arguments)}function DE(t,e){return OE.apply(this,arguments)}function OE(){return(OE=Yg(function*(t,e){const n=Sy(t),i=yield vx(n,{oobCode:e}),r=i.requestType;switch(eS(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":eS(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":eS(i.mfaInfo,n,"internal-error");default:eS(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=SE._fromServerResponse(px(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})).apply(this,arguments)}function PE(){return(PE=Yg(function*(t,e){const{data:n}=yield DE(Sy(t),e);return n.email})).apply(this,arguments)}function NE(){return(NE=Yg(function*(t,e,n){const i=px(t),r=yield Xx(i,{returnSecureToken:!0,email:e,password:n}),s=yield tE._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function ME(){return(ME=Yg(function*(t,e,n){const i=Sy(t),r={requestType:"EMAIL_SIGNIN",email:e};eS(n.handleCodeInApp,i,"argument-error"),n&&IE(i,r,n),yield Ox(i,r)})).apply(this,arguments)}function LE(){return(LE=Yg(function*(t,e,n){const i=Sy(t),r=Qx.credentialWithLink(e,n||aS());return eS(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),mE(i,r)})).apply(this,arguments)}function FE(t,e){return VE.apply(this,arguments)}function VE(){return(VE=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:createAuthUri",mS(t,e))})).apply(this,arguments)}function BE(){return(BE=Yg(function*(t,e){const n={identifier:e,continueUri:lS()?aS():"http://localhost"},{signinMethods:i}=yield FE(Sy(t),n);return i||[]})).apply(this,arguments)}function jE(){return(jE=Yg(function*(t,e){const n=Sy(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&IE(n.auth,i,e);const{email:r}=yield Tx(n.auth,i);r!==t.email&&(yield t.reload())})).apply(this,arguments)}function UE(){return(UE=Yg(function*(t,e,n){const i=Sy(t),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&IE(i.auth,r,n);const{email:s}=yield Nx(i.auth,r);s!==t.email&&(yield t.reload())})).apply(this,arguments)}function zE(t,e){return qE.apply(this,arguments)}function qE(){return(qE=Yg(function*(t,e){return gS(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function $E(){return($E=Yg(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const i=Sy(t),r={idToken:yield i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=yield LS(i,zE(i.auth,r));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const o=i.providerData.find(({providerId:t})=>"password"===t);o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),yield i._updateTokensIfNecessary(s)})).apply(this,arguments)}function HE(t,e,n){return GE.apply(this,arguments)}function GE(){return(GE=Yg(function*(t,e,n){const{auth:i}=t,r={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(r.email=e),n&&(r.password=n);const s=yield LS(t,wx(i,r));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class KE{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class WE extends KE{constructor(t,e,n,i){super(t,e,n),this.username=i}}class QE extends KE{constructor(t,e){super(t,"facebook.com",e)}}class YE extends WE{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class ZE extends KE{constructor(t,e){super(t,"google.com",e)}}class XE extends WE{constructor(t,e,n){super(t,"twitter.com",e,n)}}function JE(t,e,n,i){return Sy(t).onIdTokenChanged(e,n,i)}function tI(t,e,n){return Sy(t).beforeAuthStateChanged(e,n)}function eI(t,e,n,i){return Sy(t).onAuthStateChanged(e,n,i)}function nI(){return(nI=Yg(function*(t){return Sy(t).delete()})).apply(this,arguments)}class iI{constructor(t,e,n){this.type=t,this.credential=e,this.auth=n}static _fromIdtoken(t,e){return new iI("enroll",t,e)}static _fromMfaPendingCredential(t){return new iI("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return iI._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return iI._fromIdtoken(t.multiFactorSession.idToken)}return null}}class rI{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=px(t),i=e.customData._serverResponse,r=(i.mfaInfo||[]).map(t=>SE._fromServerResponse(n,t));eS(i.mfaPendingCredential,n,"internal-error");const s=iI._fromMfaPendingCredential(i.mfaPendingCredential);return new rI(s,r,function(){var t=Yg(function*(t){const r=yield t._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=yield tE._fromIdTokenResponse(n,e.operationType,o);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return eS(e.user,n,"internal-error"),tE._forOperation(e.user,e.operationType,o);default:Yk(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return Yg(function*(){return e.signInResolver(t)})()}}function sI(t,e){return gS(t,"POST","/v2/accounts/mfaEnrollment:start",mS(t,e))}class oI{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>SE._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new oI(t)}getSession(){var t=this;return Yg(function*(){return iI._fromIdtoken(yield t.user.getIdToken(),t.user.auth)})()}enroll(t,e){var n=this;return Yg(function*(){const i=t,r=yield n.getSession(),s=yield LS(n.user,i._process(n.user.auth,r,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return Yg(function*(){const n="string"==typeof t?t:t.uid,i=yield e.user.getIdToken();try{const t=yield LS(e.user,(r=e.user.auth,s={idToken:i,mfaEnrollmentId:n},gS(r,"POST","/v2/accounts/mfaEnrollment:withdraw",mS(r,s))));e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(t),yield e.user.reload()}catch(o){throw o}var r,s})()}}const aI=new WeakMap,lI="__sak";class cI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(lI,"1"),this.storage.removeItem(lI),Promise.resolve(!0)):Promise.resolve(!1)}catch(S0){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uI=(()=>{class t extends cI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=ay();return nx(t)||lx(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);!function(){const t=ay();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||r===t.newValue||t.newValue===t.oldValue?i():setTimeout(i,10)}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,i=this;return Yg(function*(){yield n().call(i,t,e),i.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return Yg(function*(){const i=yield e().call(n,t);return n.localCache[t]=JSON.stringify(i),i})()}_remove(t){var e=()=>super._remove,n=this;return Yg(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),hI=(()=>{class t extends cI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let dI=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const i=new t(e);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return Yg(function*(){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=e.handlersMap[r];if(!(null==o?void 0:o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(function(){var t=Yg(function*(t){return t(n.origin,s)});return function(e){return t.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var t=Yg(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function pI(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class fI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return Yg(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=pI("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function mI(){return window}function gI(){return void 0!==mI().WorkerGlobalScope&&"function"==typeof mI().importScripts}function yI(){return(yI=Yg(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(S0){return null}})).apply(this,arguments)}const _I="firebaseLocalStorageDb",vI="firebaseLocalStorage",bI="fbase_key";class wI{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function CI(t,e){return t.transaction([vI],e?"readwrite":"readonly").objectStore(vI)}function kI(){const t=indexedDB.open(_I,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(vI,{keyPath:bI})}catch(i){n(i)}}),t.addEventListener("success",Yg(function*(){const n=t.result;n.objectStoreNames.contains(vI)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(_I);return new wI(t).toPromise()}(),e(yield kI()))}))})}function SI(t,e,n){return xI.apply(this,arguments)}function xI(){return(xI=Yg(function*(t,e,n){const i=CI(t,!0).put({[bI]:e,value:n});return new wI(i).toPromise()})).apply(this,arguments)}function EI(){return(EI=Yg(function*(t,e){const n=CI(t,!1).get(e),i=yield new wI(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function II(t,e){const n=CI(t,!0).delete(e);return new wI(n).toPromise()}const TI=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return Yg(function*(){return t.db||(t.db=yield kI()),t.db})()}_withRetries(t){var e=this;return Yg(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(i){if(n++>3)throw i;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return Yg(function*(){return gI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return Yg(function*(){t.receiver=dI._getInstance(gI()?self:null),t.receiver._subscribe("keyChanged",function(){var e=Yg(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=Yg(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return Yg(function*(){var e,n;if(t.activeServiceWorker=yield function(){return yI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new fI(t.activeServiceWorker);const i=yield t.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return Yg(function*(){if(e.sender&&e.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(S0){}})()}_isAvailable(){return Yg(function*(){try{if(!indexedDB)return!1;const t=yield kI();return yield SI(t,lI,"1"),yield II(t,lI),!0}catch(S0){}return!1})()}_withPendingWrite(t){var e=this;return Yg(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return Yg(function*(){return n._withPendingWrite(Yg(function*(){return yield n._withRetries(n=>SI(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return Yg(function*(){const n=yield e._withRetries(e=>function(t,e){return EI.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return Yg(function*(){return e._withPendingWrite(Yg(function*(){return yield e._withRetries(e=>II(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return Yg(function*(){const e=yield t._withRetries(t=>{const e=CI(t,!1).getAll();return new wI(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(t.localCache[r])!==JSON.stringify(s)&&(t.notifyListeners(r,s),n.push(r));for(const r of Object.keys(t.localCache))t.localCache[r]&&!i.has(r)&&(t.notifyListeners(r,null),n.push(r));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(Yg(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function AI(t,e){return gS(t,"POST","/v2/accounts/mfaSignIn:start",mS(t,e))}function RI(t){return`__${t}${Math.floor(1e6*Math.random())}`}RI("rcb"),new uS(3e4,6e4);const DI="recaptcha";class OI{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=Kx._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function PI(){return(PI=Yg(function*(t,e,n){const i=px(t),r=yield LI(i,e,Sy(n));return new OI(r,t=>mE(i,t))})).apply(this,arguments)}function NI(){return(NI=Yg(function*(t,e,n){const i=Sy(t);yield cE(!1,i,"phone");const r=yield LI(i.auth,e,Sy(n));return new OI(r,t=>yE(i,t))})).apply(this,arguments)}function MI(){return(MI=Yg(function*(t,e,n){const i=Sy(t),r=yield LI(i.auth,e,Sy(n));return new OI(r,t=>vE(i,t))})).apply(this,arguments)}function LI(t,e,n){return FI.apply(this,arguments)}function FI(){return(FI=Yg(function*(t,e,n){var i;const r=yield n.verify();try{let s;if(eS("string"==typeof r,t,"argument-error"),eS(n.type===DI,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return eS("enroll"===e.type,t,"internal-error"),(yield sI(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{eS("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return eS(n,t,"missing-multi-factor-info"),(yield AI(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield Ux(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}})).apply(this,arguments)}function VI(){return(VI=Yg(function*(t,e){yield aE(Sy(t),e)})).apply(this,arguments)}function BI(t,e){return e?sS(e):(eS(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class jI extends _x{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bx(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bx(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bx(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function UI(t){return pE(t.auth,new jI(t),t.bypassAuthState)}function zI(t){const{auth:e,user:n}=t;return eS(n,e,"internal-error"),hE(n,new jI(t),t.bypassAuthState)}function qI(t){return $I.apply(this,arguments)}function $I(){return($I=Yg(function*(t){const{auth:e,user:n}=t;return eS(n,e,"internal-error"),aE(n,new jI(t),t.bypassAuthState)})).apply(this,arguments)}class HI{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=Yg(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(i){t.reject(i)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return Yg(function*(){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const l={auth:e.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(l))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return zI;default:Yk(this.auth,"internal-error")}}resolve(t){iS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){iS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GI=new uS(2e3,1e4);function KI(){return(KI=Yg(function*(t,e,n){const i=px(t);Jk(t,e,Yx);const r=BI(i,n);return new YI(i,"signInViaPopup",e,r).executeNotNull()})).apply(this,arguments)}function WI(){return(WI=Yg(function*(t,e,n){const i=Sy(t);Jk(i.auth,e,Yx);const r=BI(i.auth,n);return new YI(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}function QI(){return(QI=Yg(function*(t,e,n){const i=Sy(t);Jk(i.auth,e,Yx);const r=BI(i.auth,n);return new YI(i.auth,"linkViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}let YI=(()=>{class t extends HI{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return Yg(function*(){const e=yield t.execute();return eS(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return Yg(function*(){iS(1===t.filter.length,"Popup operations only handle one event");const e=pI();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(Zk(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Zk(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Zk(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,GI.get())};t()}}return t.currentPopupAction=null,t})();const ZI=new Map;class XI extends HI{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return Yg(function*(){let n=ZI.get(e.auth._key());if(!n){try{const i=(yield function(t,e){return JI.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(i)}catch(i){n=()=>Promise.reject(i)}ZI.set(e.auth._key(),n)}return e.bypassAuthState||ZI.set(e.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return Yg(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const i=yield n.auth._redirectUserForId(t.eventId);if(i)return n.user=i,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return Yg(function*(){})()}cleanUp(){}}function JI(){return(JI=Yg(function*(t,e){const n=rT(e),i=iT(t);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(n));return yield i._remove(n),r})).apply(this,arguments)}function tT(t,e){return eT.apply(this,arguments)}function eT(){return(eT=Yg(function*(t,e){return iT(t)._set(rT(e),"true")})).apply(this,arguments)}function nT(t,e){ZI.set(t._key(),e)}function iT(t){return sS(t._redirectPersistence)}function rT(t){return XS("pendingRedirect",t.config.apiKey,t.name)}function sT(){return(sT=Yg(function*(t,e,n){const i=px(t);Jk(t,e,Yx),yield i._initializationPromise;const r=BI(i,n);return yield tT(r,i),r._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function oT(){return(oT=Yg(function*(t,e,n){const i=Sy(t);Jk(i.auth,e,Yx),yield i.auth._initializationPromise;const r=BI(i.auth,n);yield tT(r,i.auth);const s=yield hT(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function aT(){return(aT=Yg(function*(t,e,n){const i=Sy(t);Jk(i.auth,e,Yx),yield i.auth._initializationPromise;const r=BI(i.auth,n);yield cE(!1,i,e.providerId),yield tT(r,i.auth);const s=yield hT(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function lT(){return(lT=Yg(function*(t,e){return yield px(t)._initializationPromise,cT(t,e,!1)})).apply(this,arguments)}function cT(t,e){return uT.apply(this,arguments)}function uT(){return(uT=Yg(function*(t,e,n=!1){const i=px(t),r=BI(i,e),s=new XI(i,r,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}function hT(t){return dT.apply(this,arguments)}function dT(){return(dT=Yg(function*(t){const e=pI(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class pT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mT(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!mT(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Zk(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function mT({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function gT(t){return yT.apply(this,arguments)}function yT(){return(yT=Yg(function*(t,e={}){return gS(t,"GET","/v1/projects",e)})).apply(this,arguments)}const _T=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vT=/^https?/;function bT(){return(bT=Yg(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield gT(t);for(const n of e)try{if(wT(n))return}catch(S0){}Yk(t,"unauthorized-domain")})).apply(this,arguments)}function wT(t){const e=aS(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!vT.test(n))return!1;if(_T.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const CT=new uS(3e4,6e4);function kT(){const t=mI().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let ST=null;function xT(t){return ST=ST||function(t){return new Promise((e,n)=>{var i,r,s,o;function a(){kT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kT(),n(Zk(t,"network-request-failed"))},timeout:CT.get()})}if(null===(r=null===(i=mI().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=mI().gapi)||void 0===s?void 0:s.load)){const e=RI("iframefcb");return mI()[e]=()=>{gapi.load?a():n(Zk(t,"network-request-failed"))},(o=`https://apis.google.com/js/api.js?onload=${e}`,new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",o),n.onload=t,n.onerror=t=>{const n=Zk("internal-error");n.customData=t,e(n)},n.type="text/javascript",n.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(n)})).catch(t=>n(t))}a()}}).catch(t=>{throw ST=null,t})}(t),ST}const ET=new uS(5e3,15e3),IT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AT(t){const e=t.config;eS(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hS(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:t.name,v:p_},r=TT.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${yy(i).slice(1)}`}function RT(){return(RT=Yg(function*(t){const e=yield xT(t),n=mI().gapi;return eS(n,t,"internal-error"),e.open({where:document.body,url:AT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IT,dontclear:!0},e=>new Promise(function(){var n=Yg(function*(n,i){yield e.restyle({setHideOnLeave:!1});const r=Zk(t,"network-request-failed"),s=mI().setTimeout(()=>{i(r)},ET.get());function o(){mI().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const DT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class OT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function PT(t,e,n,i,r,s){eS(t.config.authDomain,t,"auth-domain-config-required"),eS(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:p_,eventId:r};if(e instanceof Yx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof Zx){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:t}){return t.emulator?hS(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${yy(a).slice(1)}`}const NT="webStorageSupport",MT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=cT,this._overrideRedirectResult=nT}_openPopup(t,e,n,i){var r=this;return Yg(function*(){var s;iS(null===(s=r.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const o=PT(t,e,n,aS(),i);return function(t,e,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DT),{width:i.toString(),height:r.toString(),top:s,left:o}),c=ay().toLowerCase();n&&(a=ix(c)?"_blank":n),ex(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=ay()){var e;return lx(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new OT(null);const h=window.open(e||"",a,u);eS(h,t,"popup-blocked");try{h.focus()}catch(d){}return new OT(h)}(t,o,pI())})()}_openRedirect(t,e,n,i){var r=this;return Yg(function*(){var s;return yield r._originValidation(t),s=PT(t,e,n,aS(),i),mI().location.href=s,new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(iS(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){var e=this;return Yg(function*(){const n=yield function(t){return RT.apply(this,arguments)}(t),i=new pT(t);return n.register("authEvent",e=>(eS(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=n,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(NT,{type:NT},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&e(!!r),Yk(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return bT.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cx()||nx()||lx()}};var LT="@firebase/auth",FT="0.22.0";class VT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return Yg(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){eS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const BT=sy("authIdTokenMaxAge")||300;let jT=null;const UT=t=>function(){var e=Yg(function*(e){const n=e&&(yield e.getIdTokenResult()),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>BT)return;const r=null==n?void 0:n.token;jT!==r&&(jT=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});return function(t){return e.apply(this,arguments)}}();var zT;function qT(t){return new b(function(e){return{unsubscribe:JE(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}zT="Browser",c_(new xy("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((t,n)=>{eS(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),eS(!(null==s?void 0:s.includes(":")),"argument-error",{appName:t.name});const i={apiKey:r,authDomain:s,clientPlatform:zT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(zT)},o=new dx(t,n,i);return function(t,e){const n=(null==e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(sS);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(o,e),o})(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),c_(new xy("auth-internal",t=>{return e=px(t.getProvider("auth").getImmediate()),new VT(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),__(LT,FT,void 0),__(LT,FT,"esm2017");const $T="auth";class HT{constructor(t){return t}}class GT{constructor(){return DC($T)}}zC(0,300).pipe(md(()=>V(DC($T))),$C());const KT=new Xn("angularfire2.auth-instances");function WT(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new HT(i)}}const QT={provide:GT,deps:[[new wi,KT]]},YT={provide:HT,useFactory:function(t,e){const n=RC($T,t,e);return n&&new HT(n)},deps:[[new wi,KT],KC]};let ZT=(()=>{class t{constructor(){__("angularfire",kC.full,"auth")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[YT,QT]}),t})();function XT(t,...e){return{ngModule:ZT,providers:[{provide:KT,useFactory:WT(t),multi:!0,deps:[Fc,go,MC,WC,[new wi,Hk],...e]}]}}const JT=UC(function(t){return new b(function(e){return{unsubscribe:eI(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})},!0),tA=UC(qT,!0),eA=(UC(function(t){return qT(t).pipe(Xh(function(t){return t?V(DS(t)):Vh(null)}))},!0),UC(function(t,e){return RE.apply(this,arguments)},!0),UC(tI,!0),UC(DE,!0),UC(function(t,e,n){return AE.apply(this,arguments)},!0),UC(mx,!0),UC(function(t,e,n){return NE.apply(this,arguments)},!0)),nA=(UC(function(t){return nI.apply(this,arguments)},!0),UC(function(t,e){return BE.apply(this,arguments)},!0),UC(function(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!i&&(null==t?void 0:t.idToken)){const i=null===(n=null===(e=MS(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new KE(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new QE(s,r);case"github.com":return new YE(s,r);case"google.com":return new ZE(s,r);case"twitter.com":return new XE(s,r,t.screenName||null);case"custom":case"anonymous":return new KE(s,null);default:return new KE(s,i,r)}}(n)},!0),UC(function(t=m_()){const e=u_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oS(t,{popupRedirectResolver:MT,persistence:[TI,uI,hI]}),i=sy("authTokenSyncURL");if(i){const t=UT(i);tI(n,t,()=>t(n.currentUser)),JE(n,e=>t(e))}const r=ry("auth");return r&&mx(n,`http://${r}`),n},!0)),iA=(UC(DS,!0),UC(OS,!0),UC(function(t,e){var n;const i=Sy(t),r=e;return eS(e.customData.operationType,i,"argument-error"),eS(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),rI._fromError(i,r)},!0),UC(function(t,e){return lT.apply(this,arguments)},!0),UC(oS,!0),UC(function(t,e){const n=Wx.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)},!0),UC(yE,!0),UC(function(t,e,n){return NI.apply(this,arguments)},!0),UC(function(t,e,n){return QI.apply(this,arguments)},!0),UC(function(t,e,n){return function(t,e,n){return aT.apply(this,arguments)}(t,e,n)},!0),UC(function(t){const e=Sy(t);return aI.has(e)||aI.set(e,oI._fromUser(e)),aI.get(e)},!0),UC(eI,!0),UC(JE,!0),UC(function(t){return Wx.parseLink(t)},!0),UC(vE,!0),UC(function(t,e,n){return MI.apply(this,arguments)},!0),UC(function(t,e,n){return WI.apply(this,arguments)},!0),UC(function(t,e,n){return function(t,e,n){return oT.apply(this,arguments)}(t,e,n)},!0),UC(qS,!0),UC(function(t,e){return jE.apply(this,arguments)},!0),UC(function(t,e,n){return TE.apply(this,arguments)},!0),UC(function(t,e,n){return ME.apply(this,arguments)},!0),UC(function(t,e){return Sy(t).setPersistence(e)},!0),UC(function(t){return nE.apply(this,arguments)},!0),UC(mE,!0),UC(function(t,e){return kE.apply(this,arguments)},!0),UC(function(t,e,n){return mE(Sy(t),Qx.credential(e,n))},!0));UC(function(t,e,n){return LE.apply(this,arguments)},!0),UC(function(t,e,n){return PI.apply(this,arguments)},!0),UC(function(t,e,n){return KI.apply(this,arguments)},!0),UC(function(t,e,n){return function(t,e,n){return sT.apply(this,arguments)}(t,e,n)},!0),UC(function(t){return Sy(t).signOut()},!0),UC(function(t,e){return oE.apply(this,arguments)},!0),UC(function(t,e){return Sy(t).updateCurrentUser(e)},!0),UC(function(t,e){return HE(Sy(t),e,null)},!0),UC(function(t,e){return HE(Sy(t),null,e)},!0),UC(function(t,e){return VI.apply(this,arguments)},!0),UC(function(t,e){return $E.apply(this,arguments)},!0),UC(function(t){Sy(t).useDeviceLanguage()},!0),UC(function(t,e,n){return UE.apply(this,arguments)},!0),UC(function(t,e){return PE.apply(this,arguments)},!0);let rA=(()=>{class t{constructor(t){this.auth=t,this.currentUser$=JT(this.auth)}login(t,e){return V(iA(this.auth,t,e))}logout(){return V(this.auth.signOut())}}return t.\u0275fac=function(e){return new(e||t)(gi(HT))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sA{}const oA="*";function aA(t,e){return{type:7,name:t,definitions:e,options:{}}}function lA(t,e=null){return{type:4,styles:e,timings:t}}function cA(t,e=null){return{type:2,steps:t,options:e}}function uA(t){return{type:6,styles:t,offset:null}}function hA(t,e,n){return{type:0,name:t,styles:e,options:n}}function dA(t){return{type:5,steps:t}}function pA(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function fA(t=null){return{type:9,options:t}}function mA(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function gA(t){Promise.resolve(null).then(t)}class yA{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _A{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?gA(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const vA=["toast-component",""];function bA(t,e){if(1&t){const t=qo();Fo(0,"button",5),Ko("click",function(){return Le(t),Xo().remove()}),Fo(1,"span",6),Ca(2,"\xd7"),Vo(),Vo()}}function wA(t,e){if(1&t&&(jo(0),Ca(1),Uo()),2&t){const t=Xo(2);rs(1),Sa("[",t.duplicatesCount+1,"]")}}function CA(t,e){if(1&t&&(Fo(0,"div"),Ca(1),Oo(2,wA,2,1,"ng-container",4),Vo()),2&t){const t=Xo();ua(t.options.titleClass),Ro("aria-label",t.title),rs(1),Sa(" ",t.title," "),rs(1),Mo("ngIf",t.duplicatesCount)}}function kA(t,e){if(1&t&&Bo(0,"div",7),2&t){const t=Xo();ua(t.options.messageClass),Mo("innerHTML",t.message,or)}}function SA(t,e){if(1&t&&(Fo(0,"div",8),Ca(1),Vo()),2&t){const t=Xo();ua(t.options.messageClass),Ro("aria-label",t.message),rs(1),Sa(" ",t.message," ")}}function xA(t,e){if(1&t&&(Fo(0,"div"),Bo(1,"div",9),Vo()),2&t){const t=Xo();rs(1),la("width",t.width+"%")}}class EA{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class IA{constructor(t,e,n,i,r,s){this.toastId=t,this.config=e,this.message=n,this.title=i,this.toastType=r,this.toastRef=s,this._onTap=new x,this._onAction=new x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const TA=new Xn("ToastConfig");class AA{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new x,this._activate=new x,this._manualClose=new x,this._resetTimeout=new x,this._countDuplicate=new x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class RA{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===IA?this._toastPackage:this._parentInjector.get(t,e,n)}}class DA extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=n.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class OA{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let PA=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NA=(()=>{class t{constructor(t,e,n,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=i,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new DA(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new OA(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(gi(PA),gi(Ha),gi(ru),gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MA=(()=>{class t{constructor(t,e,n,i,r){this.overlay=e,this._injector=n,this.sanitizer=i,this.ngZone=r,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,e,n={},i=""){return this._preBuildNotification(i,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,i){const{includeTitleDuplicates:r}=this.toastrConfig;for(const s of this.toasts){const o=r&&s.title===t;if((!r||o)&&s.message===e)return s.toastRef.onDuplicate(n,i),s}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,i){return i.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,i)):this._buildNotification(t,e,n,i)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const r=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==r)return r;this.previousToastMessage=e;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const o=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&i.enableHtml&&(a=this.sanitizer.sanitize(sr.HTML,e));const l=new AA(o),c=new IA(this.index,i,a,n,t,l),u=new RA(c,this._injector),h=new EA(i.toastComponent,u),d=o.attach(h,this.toastrConfig.newestOnTop);l.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:d};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(gi(TA),gi(NA),gi(go),gi(Oh),gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const LA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(No(MA),No(IA),No(Fc))},t.\u0275cmp=Ht({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&Ko("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(Ea("@flyInOut",e.state),ua(e.toastClasses),la("display",e.displayStyle))},attrs:vA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,e){1&t&&(Oo(0,bA,3,0,"button",0),Oo(1,CA,3,5,"div",1),Oo(2,kA,1,3,"div",2),Oo(3,SA,2,4,"div",3),Oo(4,xA,2,2,"div",4)),2&t&&(Mo("ngIf",e.options.closeButton),rs(1),Mo("ngIf",e.title),rs(1),Mo("ngIf",e.message&&e.options.enableHtml),rs(1),Mo("ngIf",e.message&&!e.options.enableHtml),rs(1),Mo("ngIf",e.options.progressBar))},directives:[zu],encapsulation:2,data:{animation:[aA("flyInOut",[hA("inactive",uA({opacity:0})),hA("active",uA({opacity:1})),hA("removed",uA({opacity:0})),pA("inactive => active",lA("{{ easeTime }}ms {{ easing }}")),pA("active => removed",lA("{{ easeTime }}ms {{ easing }}"))])]}}),t})()};let FA=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:TA,useValue:{default:LA,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[th]]}),t})();function VA(t){return null!=t&&"false"!=`${t}`}function BA(t,e=0){return jA(t)?Number(t):e}function jA(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function UA(t){return Array.isArray(t)?t:[t]}function zA(t){return null==t?"":"string"==typeof t?t:`${t}px`}function qA(t){return t instanceof Qa?t.nativeElement:t}function $A(t,e=iC){return n=>n.lift(new HA(t,e))}class HA{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new GA(t,this.dueTime,this.scheduler))}}class GA extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(KA,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function KA(t){t.debouncedNext()}let WA,QA=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),YA=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=qA(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new x,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(gi(QA))},t.\u0275prov=ft({factory:function(){return new t(gi(QA))},token:t,providedIn:"root"}),t})(),ZA=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Zl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=VA(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=BA(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe($A(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(No(YA),No(Qa),No(Fc))},t.\u0275dir=Zt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[QA]}),t})();function JA(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function tR(t){return e=>e.lift(new eR(t))}class eR{constructor(t){this.total=t}call(t,e){return e.subscribe(new nR(t,this.total))}}class nR extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function iR(t,e){return n=>n.lift(new rR(t,e))}class rR{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new sR(t,this.compare,this.keySelector))}}class sR extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function oR(t){return e=>e.lift(new aR(t))}class aR{constructor(t){this.notifier=t}call(t,e){const n=new lR(t),i=U(this.notifier,new B(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class lR extends j{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}try{WA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(S0){WA=!1}let cR,uR=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(gi(Cc))},t.\u0275prov=ft({factory:function(){return new t(gi(Cc))},token:t,providedIn:"root"}),t})(),hR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const dR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pR(){if(cR)return cR;if("object"!=typeof document||!document)return cR=new Set(dR),cR;let t=document.createElement("input");return cR=new Set(dR.filter(e=>(t.setAttribute("type",e),t.type===e))),cR}let fR,mR,gR,yR;function _R(t){return function(){if(null==fR&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fR=!0}))}finally{fR=fR||!1}return fR}()?t:!!t.capture}function vR(){if(null==gR){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gR=!1,gR;if("scrollBehavior"in document.documentElement.style)gR=!0;else{const t=Element.prototype.scrollTo;gR=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return gR}function bR(){if("object"!=typeof document||!document)return 0;if(null==mR){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),mR=0,0===t.scrollLeft&&(t.scrollLeft=1,mR=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return mR}function wR(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function CR(t){return t.composedPath?t.composedPath()[0]:t.target}function kR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function SR(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const xR="cdk-describedby-message-container",ER="cdk-describedby-host";let IR=0;const TR=new Map;let AR=null,RR=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const i=DR(e,n);"string"!=typeof e?(OR(e),TR.set(i,{messageElement:e,referenceCount:0})):TR.has(i)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,i)||this._addMessageReference(t,i)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const i=DR(e,n);if(this._isElementDescribedByMessage(t,i)&&this._removeMessageReference(t,i),"string"==typeof e){const t=TR.get(i);t&&0===t.referenceCount&&this._deleteMessageElement(i)}AR&&0===AR.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(ER);AR&&this._deleteMessagesContainer(),TR.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");OR(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),AR.appendChild(n),TR.set(DR(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=TR.get(t),n=e&&e.messageElement;AR&&n&&AR.removeChild(n),TR.delete(t)}_createMessagesContainer(){if(!AR){const t=this._document.getElementById(xR);t&&t.parentNode&&t.parentNode.removeChild(t),AR=this._document.createElement("div"),AR.id=xR,AR.style.visibility="hidden",AR.classList.add("cdk-visually-hidden"),this._document.body.appendChild(AR)}}_deleteMessagesContainer(){AR&&AR.parentNode&&(AR.parentNode.removeChild(AR),AR=null)}_removeCdkDescribedByReferenceIds(t){const e=SR(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=TR.get(e);!function(t,e,n){const i=SR(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(ER,""),n.referenceCount++}_removeMessageReference(t,e){const n=TR.get(e);n.referenceCount--,function(t,e,n){const i=SR(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(ER)}_isElementDescribedByMessage(t,e){const n=SR(t,"aria-describedby"),i=TR.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(gu))},token:t,providedIn:"root"}),t})();function DR(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function OR(t){t.id||(t.id="cdk-describedby-message-"+IR++)}class PR extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof Jl&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Td(t=>this._pressedLetters.push(t)),$A(t),cd(()=>this._pressedLetters.length>0),T(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||JA(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Jl?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let NR=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(S0){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===LR(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=LR(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||MR(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(gi(uR))},t.\u0275prov=ft({factory:function(){return new t(gi(uR))},token:t,providedIn:"root"}),t})();function MR(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function LR(t){if(!MR(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class FR{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(nd(1)).subscribe(t)}}let VR=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new FR(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(gi(NR),gi(Fc),gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(NR),gi(Fc),gi(gu))},token:t,providedIn:"root"}),t})();function BR(t){return 0===t.offsetX&&0===t.offsetY}function jR(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const UR=new Xn("cdk-input-modality-detector-options"),zR={ignoreKeys:[18,17,224,91,16]},qR=_R({passive:!0,capture:!0});let $R=(()=>{class t{constructor(t,e,n,i){this._platform=t,this._mostRecentTarget=null,this._modality=new Bh(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=CR(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(BR(t)?"keyboard":"mouse"),this._mostRecentTarget=CR(t))},this._onTouchstart=t=>{jR(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=CR(t))},this._options=Object.assign(Object.assign({},zR),i),this.modalityDetected=this._modality.pipe(tR(1)),this.modalityChanged=this.modalityDetected.pipe(iR()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,qR),n.addEventListener("mousedown",this._onMousedown,qR),n.addEventListener("touchstart",this._onTouchstart,qR)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qR),document.removeEventListener("mousedown",this._onMousedown,qR),document.removeEventListener("touchstart",this._onTouchstart,qR))}}return t.\u0275fac=function(e){return new(e||t)(gi(uR),gi(Fc),gi(gu),gi(UR,8))},t.\u0275prov=ft({factory:function(){return new t(gi(uR),gi(Fc),gi(gu),gi(UR,8))},token:t,providedIn:"root"}),t})();const HR=new Xn("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),GR=new Xn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let KR=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(gi(HR,8),gi(Fc),gi(gu),gi(GR,8))},t.\u0275prov=ft({factory:function(){return new t(gi(HR,8),gi(Fc),gi(gu),gi(GR,8))},token:t,providedIn:"root"}),t})();const WR=new Xn("cdk-focus-monitor-default-options"),QR=_R({passive:!0,capture:!0});let YR=(()=>{class t{constructor(t,e,n,i,r){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new x,this._rootNodeFocusAndBlurListener=t=>{const e=CR(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=qA(t);if(!this._platform.isBrowser||1!==n.nodeType)return Vh(null);const i=function(t){if(function(){if(null==yR){const t="undefined"!=typeof document?document.head:null;yR=!(!t||!t.createShadowRoot&&!t.attachShadow)}return yR}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new x,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=qA(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=qA(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),i=CR(t);n&&(n.checkChildren||e===i)&&this._originChanged(e,this._getFocusOrigin(i),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,QR),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,QR)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oR(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,QR),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,QR),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc),gi(uR),gi($R),gi(gu,8),gi(WR,8))},t.\u0275prov=ft({factory:function(){return new t(gi(Fc),gi(uR),gi($R),gi(gu,8),gi(WR,8))},token:t,providedIn:"root"}),t})();const ZR="cdk-high-contrast-black-on-white",XR="cdk-high-contrast-white-on-black",JR="cdk-high-contrast-active";let tD=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(JR),t.remove(ZR),t.remove(XR),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(JR),t.add(ZR)):2===e&&(t.add(JR),t.add(XR))}}}return t.\u0275fac=function(e){return new(e||t)(gi(uR),gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(uR),gi(gu))},token:t,providedIn:"root"}),t})(),eD=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(gi(tD))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[hR,XA]]}),t})();const nD=new Xn("cdk-dir-doc",{providedIn:"root",factory:function(){return yi(gu)}});let iD=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Zl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(gi(nD,8))},t.\u0275prov=ft({factory:function(){return new t(gi(nD,8))},token:t,providedIn:"root"}),t})(),rD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const sD=new el("12.2.13");function oD(){return"undefined"!=typeof window&&void 0!==window.document}function aD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lD(t){switch(t.length){case 0:return new yA;case 1:return t[0];default:return new _A(t)}}function cD(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case oA:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function uD(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&hD(n,"start",t)));break;case"done":t.onDone(()=>i(n&&hD(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&hD(n,"destroy",t)))}}function hD(t,e,n){const i=n.totalTime,r=dD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function dD(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function pD(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function fD(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let mD=(t,e)=>!1,gD=(t,e)=>!1,yD=(t,e,n)=>[];const _D=aD();(_D||"undefined"!=typeof Element)&&(mD=oD()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),gD=(()=>{if(_D||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):gD}})(),yD=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let vD=null,bD=!1;function wD(t){vD||(vD=("undefined"!=typeof document?document.body:null)||{},bD=!!vD.style&&"WebkitAppearance"in vD.style);let e=!0;return vD.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in vD.style,!e&&bD)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in vD.style),e}const CD=gD,kD=mD,SD=yD;function xD(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ED=(()=>{class t{validateStyleProperty(t){return wD(t)}matchesElement(t,e){return CD(t,e)}containsElement(t,e){return kD(t,e)}query(t,e,n){return SD(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new yA(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ID=(()=>{class t{}return t.NOOP=new ED,t})();const TD="ng-enter",AD="ng-leave",RD="ng-trigger",DD=".ng-trigger",OD="ng-animating",PD=".ng-animating";function ND(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:MD(parseFloat(e[1]),e[2])}function MD(t,e){switch(e){case"s":return 1e3*t;default:return t}}function LD(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=MD(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=MD(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function FD(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function VD(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else FD(t,n);return n}function BD(t,e,n){return n?e+":"+n+";":""}function jD(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=BD(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=BD(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function UD(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=QD(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),aD()&&jD(t))}function zD(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=QD(e);t.style[n]=""}),aD()&&jD(t))}function qD(t){return Array.isArray(t)?1==t.length?t[0]:cA(t):t}const $D=new RegExp("{{\\s*(.+?)\\s*}}","g");function HD(t){let e=[];if("string"==typeof t){let n;for(;n=$D.exec(t);)e.push(n[1]);$D.lastIndex=0}return e}function GD(t,e,n){const i=t.toString(),r=i.replace($D,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function KD(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const WD=/-+([a-z0-9])/g;function QD(t){return t.replace(WD,(...t)=>t[1].toUpperCase())}function YD(t,e){return 0===t||0===e}function ZD(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=JD(t,e)})}}return e}function XD(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function JD(t,e){return window.getComputedStyle(t)[e]}const tO="*";function eO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(rO(r,o)),"<"!=s[0]||r==tO&&o==tO||e.push(rO(o,r))}(t,n,e)):n.push(t),n}const nO=new Set(["true","1"]),iO=new Set(["false","0"]);function rO(t,e){const n=nO.has(t)||iO.has(t),i=nO.has(e)||iO.has(e);return(r,s)=>{let o=t==tO||t==r,a=e==tO||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?nO.has(t):iO.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?nO.has(e):iO.has(e)),o&&a}}const sO=new RegExp("s*:selfs*,?","g");function oO(t,e,n){return new aO(t).build(e,n)}class aO{constructor(t){this._driver=t}build(t,e){const n=new lO(e);return this._resetContextStyleTimingState(n),XD(this,qD(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(cO(t)){const e=t;Object.keys(e).forEach(t=>{HD(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=KD(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=XD(this,qD(t.animation),e);return{type:1,matchers:eO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:uO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>XD(this,t,e)),options:uO(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=XD(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:uO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hO(LD(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=hO(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||LD(i,e),hO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:uA({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=uA(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==oA?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(cO(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=HD(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(cO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(cO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:XD(this,qD(t.animation),e),options:uO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:uO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:uO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sO,"")),[t=t.replace(/@\*/g,DD).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,PD),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,pD(e.collectedStyles,e.currentQuerySelector,{});const o=XD(this,qD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:uO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:LD(t.timings,e.errors,!0);return{type:12,animation:XD(this,qD(t.animation),e),timings:n,options:null}}}class lO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cO(t){return!Array.isArray(t)&&"object"==typeof t}function uO(t){var e;return t?(t=FD(t)).params&&(t.params=(e=t.params)?FD(e):null):t={},t}function hO(t,e,n){return{duration:t,delay:e,easing:n}}function dO(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fO=new RegExp(":enter","g"),mO=new RegExp(":leave","g");function gO(t,e,n,i,r,s={},o={},a,l,c=[]){return(new yO).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class yO{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new pO;const u=new vO(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),XD(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?ND(n.duration):null,s=null!=n.delay?ND(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),XD(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_O);const t=ND(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>XD(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?ND(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),XD(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return LD(e.params?GD(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?ND(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_O);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),XD(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;XD(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const _O={};class vO{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_O,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bO(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=ND(n.duration)),null!=n.delay&&(i.delay=ND(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=GD(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new vO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=_O,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new wO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(fO,"."+this._enterClassName)).replace(mO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bO{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||oA,this._currentKeyframe[t]=oA}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=oA})):VD(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=GD(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:oA),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=VD(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==oA&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?KD(t.values()):[],s=e.size?KD(e.values()):[];if(n){const t=i[0],e=FD(t);t.offset=0,e.offset=1,i=[t,e]}return dO(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class wO extends bO{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=VD(t[0],!1);a.offset=0,r.push(a);const l=VD(t[0],!1);l.offset=CO(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=VD(t[i],!1);o.offset=CO((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return dO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function CO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class kO{}class SO extends kO{normalizePropertyName(t,e){return QD(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(xO[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const xO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function EO(t,e,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const IO={};class TO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||IO,d=this.buildStyles(n,o&&o.params||IO,u),p=a&&a.params||IO,f=this.buildStyles(i,p,u),m=new Set,g=new Map,y=new Map,_="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:gO(t,e,this.ast.animation,r,s,d,f,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return EO(e,this._triggerName,n,i,_,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,i=pD(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=pD(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=KD(m.values());return EO(e,this._triggerName,n,i,_,d,f,b,C,g,y,w)}}class AO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=FD(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=GD(s,i,e)),n[t]=s})}}),n}}class RO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new AO(t.style,t.options&&t.options.params||{})}),DO(this.states,"true","1"),DO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new TO(t,e,this.states))}),this.fallbackTransition=new TO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function DO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const OO=new pO;class PO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=oO(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=cD(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=gO(this._driver,e,r,TD,AD,{},{},n,OO,i),s.forEach(t=>{const e=pD(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,oA)})});const a=lD(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=dD(e,"","","");return uD(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const NO="ng-animate-queued",MO="ng-animate-disabled",LO=".ng-animate-disabled",FO=[],VO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class jO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=FD(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const UO="void",zO=new jO(UO);class qO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,YO(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=pD(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=pD(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(YO(t,RD),YO(t,"ng-trigger-"+e),a[e]=zO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new HO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(YO(t,RD),YO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new jO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=zO),l.value!==UO&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{zD(t,n),UD(t,i)})}return}const c=pD(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(YO(t,NO),s.onStart(()=>{ZO(t,NO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,DD,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,UO,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&lD(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||zO,a=new jO(UO),l=new HO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==VO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){YO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=dD(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,uD(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class $O{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new qO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(GO(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!GO(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),YO(t,MO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ZO(t,MO))}removeNode(t,e,n,i){if(GO(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return GO(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,DD,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,PD,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return lD(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=VO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,LO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,LO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)YO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?lD(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pO,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=QO(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=TD+f++;p.set(e,n),t.forEach(t=>YO(t,n))});const m=[],g=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=QO(h,Array.from(g));v.forEach((t,e)=>{const n=AD+f++;_.set(e,n),t.forEach(t=>YO(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>ZO(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>ZO(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return e.onStart(()=>zD(r,f.fromStyles)),e.onDestroy(()=>UD(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>zD(r,f.fromStyles)),e.onDestroy(()=>UD(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>pD(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,k=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{pD(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>tP(t,a,l)),x=new Map;WO(x,this.driver,y,l,oA).forEach(t=>{tP(t,a,l)&&S.push(t)});const E=new Map;d.forEach((t,e)=>{WO(E,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=x.get(t),n=E.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>UD(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=A;if(k.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=k.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>k.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,E,x);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=lD(e)),i.push(s)}}else zD(e,o.fromStyles),s.onDestroy(()=>UD(e,o.toStyles)),T.push(s),c.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=lD(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(ZO(t,AD),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,PD,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?XO(this,t,i):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==UO;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=pD(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}zD(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new yA(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return JO(t,e),e}((n.get(h)||FO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),y=cD(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&u.add(h),p){const e=new HO(t,o,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{pD(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>YO(t,OD));const d=lD(h);return d.onDestroy(()=>{c.forEach(t=>ZO(t,OD)),UD(a,e.toStyles)}),u.forEach(t=>{pD(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new yA(t.duration,t.delay)}}class HO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new yA,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>uD(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pD(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function GO(t){return t&&1===t.nodeType}function KO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function WO(t,e,n,i,r){const s=[];n.forEach(t=>s.push(KO(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=BO,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>KO(t,s[a++])),o}function QO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function YO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ZO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function XO(t,e,n){lD(n).onDone(()=>t.processLeaveNode(e))}function JO(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof _A?JO(i.players,e):e.push(i)}}function tP(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class eP{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new $O(t,e,n),this._timelineEngine=new PO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=oO(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new RO(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=fD(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=fD(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nP(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=rP(e[0]),e.length>1&&(i=rP(e[e.length-1]))):e&&(n=rP(e)),n||i?new iP(t,n,i):null}let iP=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&UD(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(UD(this._element,this._initialStyles),this._endStyles&&(UD(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zD(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zD(this._element,this._endStyles),this._endStyles=null),UD(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function rP(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];sP(r)&&(e=e||{},e[r]=t[r])}return e}function sP(t){return"display"===t||"position"===t}const oP="animation",aP="animationend";class lP{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=fP(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),pP(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cP(this._element,this._name,"paused")}resume(){cP(this._element,this._name,"running")}setPosition(t){const e=uP(this._element,this._name);this._position=t*this._duration,pP(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=fP(t,"").split(","),i=hP(n,e);i>=0&&(n.splice(i,1),pP(t,"",n.join(",")))}(this._element,this._name))}}function cP(t,e,n){pP(t,"PlayState",n,uP(t,e))}function uP(t,e){const n=fP(t,"");return n.indexOf(",")>0?hP(n.split(","),e):hP([n],e)}function hP(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function dP(t,e,n){n?t.removeEventListener(aP,e):t.addEventListener(aP,e)}function pP(t,e,n,i){const r=oP+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function fP(t,e){return t.style[oP+e]||""}class mP{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lP(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:JD(this.element,n))})}this.currentSnapshot=t}}class gP extends yA{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xD(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class yP{constructor(){this._count=0}validateStyleProperty(t){return wD(t)}matchesElement(t,e){return CD(t,e)}containsElement(t,e){return kD(t,e)}query(t,e,n){return SD(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>xD(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof mP),l={};YD(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ZD(t,e,l));if(0==n)return new gP(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=nP(t,e),p=new mP(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class _P{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:JD(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vP{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bP().toString()),this._cssKeyframesDriver=new yP}validateStyleProperty(t){return wD(t)}matchesElement(t,e){return CD(t,e)}containsElement(t,e){return kD(t,e)}query(t,e,n){return SD(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof _P);YD(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=nP(t,e=ZD(t,e=e.map(t=>VD(t,!1)),l));return new _P(t,e,a,u)}}function bP(){return oD()&&Element.prototype.animate||{}}let wP=(()=>{class t extends sA{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:At.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?cA(t):t;return SP(this._renderer,null,e,"register",[n]),new CP(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(gi(Za),gi(gu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class CP extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kP(this._id,t,e||{},this._renderer)}}class kP{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return SP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function SP(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const xP="@",EP="@.disabled";let IP=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new TP("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new AP(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(gi(Za),gi(eP),gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class TP{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==xP&&e==EP?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class AP extends TP{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==xP?"."==e.charAt(1)&&e==EP?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==xP){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=xP&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let RP=(()=>{class t extends eP{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(gi(gu),gi(ID),gi(kO))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const DP=new Xn("AnimationModuleType"),OP=[{provide:sA,useClass:wP},{provide:kO,useFactory:function(){return new SO}},{provide:eP,useClass:RP},{provide:Za,useFactory:function(t,e,n){return new IP(t,e,n)},deps:[Ch,eP,Fc]}],PP=[{provide:ID,useFactory:function(){return"function"==typeof bP()?new vP:new yP}},{provide:DP,useValue:"BrowserAnimations"},...OP],NP=[{provide:ID,useClass:ED},{provide:DP,useValue:"NoopAnimations"},...OP];let MP=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?NP:PP}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:PP,imports:[Fh]}),t})();function LP(t,e){if(1&t&&Bo(0,"mat-pseudo-checkbox",4),2&t){const t=Xo();Mo("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function FP(t,e){if(1&t&&(Fo(0,"span",5),Ca(1),Vo()),2&t){const t=Xo();rs(1),Sa("(",t.group.label,")")}}const VP=["*"],BP=new el("12.2.13"),jP=new Xn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let UP,zP=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Zc()||kR())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&BP.full!==sD.full&&console.warn("The Angular Material version ("+BP.full+") does not match the Angular CDK version ("+sD.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(gi(tD),gi(jP,8),gi(gu))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[rD],rD]}),t})();function qP(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=VA(t)}}}function $P(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function HP(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=VA(t)}}}function GP(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?BA(t):this.defaultTabIndex}}}function KP(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new x,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function WP(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new b(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{UP="undefined"!=typeof Intl}catch(S0){UP=!1}let QP=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),YP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function ZP(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let XP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP],zP]}),t})();class JP{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tN={enterDuration:225,exitDuration:150},eN=_R({passive:!0}),nN=["mousedown","touchstart"],iN=["mouseup","mouseleave","touchend","touchcancel"];class rN{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qA(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},tN),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new JP(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},tN),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=qA(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(nN))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(iN),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=BR(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!jR(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,eN)})})}_removeTriggerEvents(){this._triggerElement&&(nN.forEach(t=>{this._triggerElement.removeEventListener(t,this,eN)}),this._pointerUpEventsRegistered&&iN.forEach(t=>{this._triggerElement.removeEventListener(t,this,eN)}))}}const sN=new Xn("mat-ripple-global-options");let oN=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new rN(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(Fc),No(uR),No(sN,8),No(DP,8))},t.\u0275dir=Zt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&ca("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),aN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP,hR],zP]}),t})(),lN=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(No(DP,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&ca("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),cN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP]]}),t})();const uN=new Xn("MAT_OPTION_PARENT_COMPONENT"),hN=qP(class{});let dN=0,pN=(()=>{class t extends hN{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+dN++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(No(uN,8))},t.\u0275dir=Zt({type:t,inputs:{label:"label"},features:[_o]}),t})();const fN=new Xn("MatOptgroup");let mN=0;class gN{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let yN=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+mN++,this.onSelectionChange=new Zl,this._stateChanges=new x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=VA(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||JA(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new gN(this,t))}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(wl),No(void 0),No(pN))},t.\u0275dir=Zt({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),_N=(()=>{class t extends yN{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(wl),No(uN,8),No(fN,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Ko("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(xa("id",e.id),Ro("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),ca("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[_o],ngContentSelectors:VP,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(ta(),Oo(0,LP,1,2,"mat-pseudo-checkbox",0),Fo(1,"span",1),ea(2),Vo(),Oo(3,FP,2,1,"span",2),Bo(4,"div",3)),2&t&&(Mo("ngIf",e.multiple),rs(3),Mo("ngIf",e.group&&e.group._inert),rs(1),Mo("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[zu,oN,lN],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function vN(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}let bN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[aN,th,zP,cN]]}),t})();function wN(t,e,n,r){return i(n)&&(r=n,n=void 0),r?wN(t,e,n).pipe(T(t=>l(t)?r(...t):r(t))):new b(i=>{CN(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function CN(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)CN(t[s],e,n,i,r)}i.add(s)}const kN=["underline"],SN=["connectionContainer"],xN=["inputContainer"],EN=["label"];function IN(t,e){1&t&&(jo(0),Fo(1,"div",14),Bo(2,"div",15),Bo(3,"div",16),Bo(4,"div",17),Vo(),Fo(5,"div",18),Bo(6,"div",15),Bo(7,"div",16),Bo(8,"div",17),Vo(),Uo())}function TN(t,e){1&t&&(Fo(0,"div",19),ea(1,1),Vo())}function AN(t,e){if(1&t&&(jo(0),ea(1,2),Fo(2,"span"),Ca(3),Vo(),Uo()),2&t){const t=Xo(2);rs(3),ka(t._control.placeholder)}}function RN(t,e){1&t&&ea(0,3,["*ngSwitchCase","true"])}function DN(t,e){1&t&&(Fo(0,"span",23),Ca(1," *"),Vo())}function ON(t,e){if(1&t){const t=qo();Fo(0,"label",20,21),Ko("cdkObserveContent",function(){return Le(t),Xo().updateOutlineGap()}),Oo(2,AN,4,1,"ng-container",12),Oo(3,RN,1,0,"ng-content",12),Oo(4,DN,2,0,"span",22),Vo()}if(2&t){const t=Xo();ca("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Mo("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Ro("for",t._control.id)("aria-owns",t._control.id),rs(2),Mo("ngSwitchCase",!1),rs(1),Mo("ngSwitchCase",!0),rs(1),Mo("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function PN(t,e){1&t&&(Fo(0,"div",24),ea(1,4),Vo())}function NN(t,e){if(1&t&&(Fo(0,"div",25,26),Bo(2,"span",27),Vo()),2&t){const t=Xo();rs(2),ca("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function MN(t,e){1&t&&(Fo(0,"div"),ea(1,5),Vo()),2&t&&Mo("@transitionMessages",Xo()._subscriptAnimationState)}function LN(t,e){if(1&t&&(Fo(0,"div",31),Ca(1),Vo()),2&t){const t=Xo(2);Mo("id",t._hintLabelId),rs(1),ka(t.hintLabel)}}function FN(t,e){if(1&t&&(Fo(0,"div",28),Oo(1,LN,2,2,"div",29),ea(2,6),Bo(3,"div",30),ea(4,7),Vo()),2&t){const t=Xo();Mo("@transitionMessages",t._subscriptAnimationState),rs(1),Mo("ngIf",t.hintLabel)}}const VN=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BN=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let jN=0;const UN=new Xn("MatError");let zN=(()=>{class t{constructor(t,e){this.id="mat-error-"+jN++,t||e.nativeElement.setAttribute("aria-live","polite")}}return t.\u0275fac=function(e){return new(e||t)(Qn("aria-live"),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Ro("id",e.id)},inputs:{id:"id"},features:[za([{provide:UN,useExisting:t}])]}),t})();const qN={transitionMessages:aA("transitionMessages",[hA("enter",uA({opacity:1,transform:"translateY(0%)"})),pA("void => enter",[uA({opacity:0,transform:"translateY(-5px)"}),lA("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t}),t})();const HN=new Xn("MatHint");let GN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["mat-label"]]}),t})(),KN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["mat-placeholder"]]}),t})();const WN=new Xn("MatPrefix"),QN=new Xn("MatSuffix");let YN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","matSuffix",""]],features:[za([{provide:QN,useExisting:t}])]}),t})(),ZN=0;const XN=$P(class{constructor(t){this._elementRef=t}},"primary"),JN=new Xn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tM=new Xn("MatFormField");let eM=(()=>{class t extends XN{constructor(t,e,n,i,r,s,o,a){super(t),this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZN++,this._labelId="mat-form-field-label-"+ZN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=VA(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(sd(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(oR(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oR(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),K(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(sd(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(sd(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(oR(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,wN(this._label.nativeElement,"transitionend").pipe(nd(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let t=0;t<o.length;t++)l+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(wl),No(Qa),No(iD,8),No(JN,8),No(uR),No(Fc),No(DP,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(hc(n,$N,5),hc(n,$N,7),hc(n,GN,5),hc(n,GN,7),hc(n,KN,5),hc(n,UN,5),hc(n,HN,5),hc(n,WN,5),hc(n,QN,5)),2&t){let t;cc(t=dc())&&(e._controlNonStatic=t.first),cc(t=dc())&&(e._controlStatic=t.first),cc(t=dc())&&(e._labelChildNonStatic=t.first),cc(t=dc())&&(e._labelChildStatic=t.first),cc(t=dc())&&(e._placeholderChild=t.first),cc(t=dc())&&(e._errorChildren=t),cc(t=dc())&&(e._hintChildren=t),cc(t=dc())&&(e._prefixChildren=t),cc(t=dc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(uc(kN,5),uc(SN,7),uc(xN,5),uc(EN,5)),2&t){let t;cc(t=dc())&&(e.underlineRef=t.first),cc(t=dc())&&(e._connectionContainerRef=t.first),cc(t=dc())&&(e._inputContainerRef=t.first),cc(t=dc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&ca("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[za([{provide:tM,useExisting:t}]),_o],ngContentSelectors:BN,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(ta(VN),Fo(0,"div",0),Fo(1,"div",1,2),Ko("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),Oo(3,IN,9,0,"ng-container",3),Oo(4,TN,2,0,"div",4),Fo(5,"div",5,6),ea(7),Fo(8,"span",7),Oo(9,ON,5,16,"label",8),Vo(),Vo(),Oo(10,PN,2,0,"div",9),Vo(),Oo(11,NN,3,4,"div",10),Fo(12,"div",11),Oo(13,MN,2,1,"div",12),Oo(14,FN,5,2,"div",13),Vo(),Vo()),2&t&&(rs(3),Mo("ngIf","outline"==e.appearance),rs(1),Mo("ngIf",e._prefixChildren.length),rs(5),Mo("ngIf",e._hasFloatingLabel()),rs(1),Mo("ngIf",e._suffixChildren.length),rs(1),Mo("ngIf","outline"!=e.appearance),rs(1),Mo("ngSwitch",e._getDisplayedMessages()),rs(1),Mo("ngSwitchCase","error"),rs(1),Mo("ngSwitchCase","hint"))},directives:[zu,Gu,Ku,ZA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[qN.transitionMessages]},changeDetection:0}),t})(),nM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[th,zP,XA],zP]}),t})();class iM{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new rM(t,this.durationSelector))}}class rM extends j{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=U(n,new B(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function sM(t,e=iC){return n=()=>zC(t,e),function(t){return t.lift(new iM(n))};var n}const oM=_R({passive:!0});let aM=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Qh;const e=qA(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new x,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,oM),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,oM)}}),i}stopMonitoring(t){const e=qA(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(gi(uR),gi(Fc))},t.\u0275prov=ft({factory:function(){return new t(gi(uR),gi(Fc))},token:t,providedIn:"root"}),t})(),lM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[hR]]}),t})();const cM=new Xn("MAT_INPUT_VALUE_ACCESSOR"),uM=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hM=0;const dM=KP(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}});let pM=(()=>{class t extends dM{constructor(t,e,n,i,r,s,o,a,l,c){super(s,i,r,n),this._elementRef=t,this._platform=e,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+hM++,this.focused=!1,this.stateChanges=new x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>pR().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=VA(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=VA(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&pR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=VA(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){uM.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(uR),No(lg,10),No(Lg,8),No(qg,8),No(QP),No(cM,10),No(aM),No(Fc),No(tM,8))},t.\u0275dir=Zt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,e){1&t&&Ko("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(xa("disabled",e.disabled)("required",e.required),Ro("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),ca("mat-input-server",e._isServer)("mat-native-select-inline",e._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[za([{provide:$N,useExisting:t}]),_o,he]}),t})(),fM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[QP],imports:[[lM,nM,zP],lM,nM]}),t})();const mM=["mat-button",""],gM=["*"],yM=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_M=$P(qP(HP(class{constructor(t){this._elementRef=t}})));let vM=(()=>{class t extends _M{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of yM)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(YR),No(DP,8))},t.\u0275cmp=Ht({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&uc(oN,5),2&t){let t;cc(t=dc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("disabled",e.disabled||null),ca("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_o],attrs:mM,ngContentSelectors:gM,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(ta(),Fo(0,"span",0),ea(1),Vo(),Bo(2,"span",1),Bo(3,"span",2)),2&t&&(rs(2),ca("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Mo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[oN],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),bM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[aN,zP],zP]}),t})();class wM{}class CM{}class kM{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof kM?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new kM;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof kM?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class SM{encodeKey(t){return xM(t)}encodeValue(t){return xM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function xM(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function EM(t){return`${t}`}class IM{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new SM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new IM({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(EM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(EM(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class TM{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function AM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function RM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function DM(t){return"undefined"!=typeof FormData&&t instanceof FormData}class OM{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new kM),this.context||(this.context=new TM),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new IM,this.urlWithParams=e}serializeBody(){return null===this.body?null:AM(this.body)||RM(this.body)||DM(this.body)||"string"==typeof this.body?this.body:this.body instanceof IM?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DM(this.body)?null:RM(this.body)?this.body.type||null:AM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof IM?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new OM(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var PM=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class NM{constructor(t,e=200,n="OK"){this.headers=t.headers||new kM,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class MM extends NM{constructor(t={}){super(t),this.type=PM.ResponseHeader}clone(t={}){return new MM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class LM extends NM{constructor(t={}){super(t),this.type=PM.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new LM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class FM extends NM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function VM(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let BM=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof OM)i=t;else{let r,s;r=n.headers instanceof kM?n.headers:new kM(n.headers),n.params&&(s=n.params instanceof IM?n.params:new IM({fromObject:n.params})),i=new OM(t,e,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Vh(i).pipe(md(t=>this.handler.handle(t)));if(t instanceof OM||"events"===n.observe)return r;const s=r.pipe(cd(t=>t instanceof LM));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(T(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(T(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(T(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(T(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new IM).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,VM(n,e))}post(t,e,n={}){return this.request("POST",t,VM(n,e))}put(t,e,n={}){return this.request("PUT",t,VM(n,e))}}return t.\u0275fac=function(e){return new(e||t)(gi(wM))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class jM{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const UM=new Xn("HTTP_INTERCEPTORS");let zM=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const qM=/^\)\]\}',?\n/;let $M=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new kM(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new MM({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(qM,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new LM({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new FM({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new FM({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:PM.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:PM.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:PM.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(gi(rh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const HM=new Xn("XSRF_COOKIE_NAME"),GM=new Xn("XSRF_HEADER_NAME");class KM{}let WM=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(gi(gu),gi(Cc),gi(HM))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),QM=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(gi(KM),gi(GM))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),YM=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(UM,[]);this.chain=t.reduceRight((t,e)=>new jM(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(gi(CM),gi(go))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ZM=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:QM,useClass:zM}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:HM,useValue:e.cookieName}:[],e.headerName?{provide:GM,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[QM,{provide:UM,useExisting:QM,multi:!0},{provide:KM,useClass:WM},{provide:HM,useValue:"XSRF-TOKEN"},{provide:GM,useValue:"X-XSRF-TOKEN"}]}),t})(),XM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[BM,{provide:wM,useClass:YM},$M,{provide:CM,useExisting:$M}],imports:[[ZM.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const JM=["*"];function tL(t){return Error(`Unable to find icon with the name "${t}"`)}function eL(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function nL(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class iL{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let rL=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new iL(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(sr.HTML,n);if(!r)throw nL(n);return this._addSvgIconConfig(t,e,new iL("",r,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new iL(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(sr.HTML,e);if(!i)throw nL(e);return this._addSvgIconSetConfig(t,new iL("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(sr.RESOURCE_URL,t);if(!e)throw eL(t);const n=this._cachedIconsByUrl.get(e);return n?Vh(sL(n)):this._loadSvgIconFromConfig(new iL(t,null)).pipe(Td(t=>this._cachedIconsByUrl.set(e,t)),T(t=>sL(t)))}getNamedSvgIcon(t,e=""){const n=oL(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):gC(tL(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Vh(sL(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(T(t=>sL(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Vh(n):Om(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(dd(e=>{const n=this._sanitizer.sanitize(sr.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Vh(null)})))).pipe(T(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw tL(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Td(e=>t.svgText=e),T(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Vh(null):this._fetchIcon(t).pipe(Td(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,r=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(sr.RESOURCE_URL,n);if(!s)throw eL(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(Dd(()=>this._inProgressUrlFetches.delete(s)),et());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(oL(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new iL(r.url,null,r.options):new iL(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(gi(BM,8),gi(Oh),gi(gu,8),gi(fr))},t.\u0275prov=ft({factory:function(){return new t(gi(BM,8),gi(Oh),gi(gu,8),gi(fr))},token:t,providedIn:"root"}),t})();function sL(t){return t.cloneNode(!0)}function oL(t,e){return t+":"+e}const aL=$P(class{constructor(t){this._elementRef=t}}),lL=new Xn("mat-icon-location",{providedIn:"root",factory:function(){const t=yi(gu),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],uL=cL.map(t=>`[${t}]`).join(", "),hL=/^url\(['"]?#(.*?)['"]?\)$/;let dL=(()=>{class t extends aL{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=VA(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(uL),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)cL.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(hL):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(nd(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(rL),Qn("aria-hidden"),No(lL),No(fr))},t.\u0275cmp=Ht({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(Ro("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),ca("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_o],ngContentSelectors:JM,decls:1,vars:0,template:function(t,e){1&t&&(ta(),ea(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),pL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP],zP]}),t})(),fL=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.toast=n,this.hide=!0,this.creds={email:"",senha:""},this.email=new Dg(null,Hm.email),this.senha=new Dg(null,Hm.minLength(3))}ngOnInit(){}validaCampos(){return!(!this.email.valid||!this.senha.valid)}logar(){this.authService.login(this.creds.email,this.creds.senha).subscribe(()=>{this.router.navigate(["home"])},t=>{this.toast.error("Usu\xe1rio e/ou senha inv\xe1lidos!","Login"),this.creds.senha=""})}}return t.\u0275fac=function(e){return new(e||t)(No(rA),No(um),No(MA))},t.\u0275cmp=Ht({type:t,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"container"],[1,"form","mat-elevation-z8"],["src","assets/img/logo-minoruOld.png","alt","IMAGEM DO MINORU ESTACIONAMENTO"],["appearance","fill",1,"full-width"],["required","","name","email","matInput","","placeholder","Ex. fulano@mail.com",3,"formControl","ngModel","ngModelChange"],["matInput","","required","",3,"type","formControl","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"disabled","click"]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"form",1),Fo(2,"h1"),Ca(3,"MINORU ESTACIONAMENTO - LOGIN"),Vo(),Bo(4,"img",2),Fo(5,"mat-form-field",3),Fo(6,"mat-label"),Ca(7,"Email"),Vo(),Fo(8,"input",4),Ko("ngModelChange",function(t){return e.creds.email=t}),Vo(),Vo(),Fo(9,"mat-form-field",3),Fo(10,"mat-label"),Ca(11,"senha"),Vo(),Fo(12,"input",5),Ko("ngModelChange",function(t){return e.creds.senha=t}),Vo(),Fo(13,"button",6),Ko("click",function(){return e.hide=!e.hide}),Fo(14,"mat-icon"),Ca(15),Vo(),Vo(),Vo(),Fo(16,"button",7),Ko("click",function(){return e.logar()}),Ca(17," Login "),Vo(),Vo(),Vo()),2&t&&(rs(8),Mo("formControl",e.email)("ngModel",e.creds.email),rs(4),Mo("type",e.hide?"password":"text")("formControl",e.senha)("ngModel",e.creds.senha),rs(1),Ro("aria-label","Hide password")("aria-pressed",e.hide),rs(2),ka(e.hide?"visibility_off":"visibility"),rs(1),Mo("disabled",!e.validaCampos()))},directives:[Fg,hg,Lg,eM,GN,pM,Bm,Hg,ug,Ug,vM,YN,dL],styles:[".container[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#020024,#00d4ff 0,#47838f 96%);display:flex;align-items:center;justify-content:center}.form[_ngcontent-%COMP%]{width:30rem;margin:auto;background-color:#ebebeb;padding:4rem 1rem;border-radius:1rem}h1[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{height:15rem;margin:1.5rem auto}.full-width[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:1.5rem}"]}),t})(),mL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-home"]],decls:1,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&Bo(0,"div",0)},styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 98px);margin:16px 16px 16px 32px;display:flex;justify-content:center;align-items:center;font-size:2rem;color:#d3d3d3;background:#d3d3d3;border-radius:10px}"]}),t})();class gL{call(t,e){return e.subscribe(new yL(t))}}class yL extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function _L(t){return t&&"function"==typeof t.connect}class vL{applyChanges(t,e,n,i,r){t.forEachOperation((t,i,s)=>{let o,a;if(null==t.previousIndex){const r=n(t,i,s);o=e.createEmbeddedView(r.templateRef,r.context,r.index),a=1}else null==s?(e.remove(i),a=3):(o=e.get(i),e.move(o,s),a=2);r&&r({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class bL{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let wL=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const CL=new Xn("_ViewRepeater");let kL=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(sM(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Vh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(cd(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=qA(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wN(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc),gi(uR),gi(gu,8))},t.\u0275prov=ft({factory:function(){return new t(gi(Fc),gi(uR),gi(gu,8))},token:t,providedIn:"root"}),t})(),SL=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new x,this._elementScrolled=new b(t=>this.ngZone.runOutsideAngular(()=>wN(this.elementRef.nativeElement,"scroll").pipe(oR(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=bR()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==bR()?t.left=t.right:1==bR()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;vR()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",n="right",i=this.elementRef.nativeElement;if("top"==t)return i.scrollTop;if("bottom"==t)return i.scrollHeight-i.clientHeight-i.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==t?t=r?n:e:"end"==t&&(t=r?e:n),r&&2==bR()?t==e?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==bR()?t==e?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:t==e?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(kL),No(Fc),No(iD,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),xL=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new x,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(gi(uR),gi(Fc),gi(gu,8))},t.\u0275prov=ft({factory:function(){return new t(gi(uR),gi(Fc),gi(gu,8))},token:t,providedIn:"root"}),t})(),EL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})(),IL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[rD,hR,EL],rD,EL]}),t})();function TL(t){return e=>e.lift(new AL(t))}class AL{constructor(t){this.value=t}call(t,e){return e.subscribe(new RL(t,this.value))}}class RL extends f{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const DL=["*"];function OL(t,e){if(1&t){const t=qo();Fo(0,"div",2),Ko("click",function(){return Le(t),Xo()._onBackdropClicked()}),Vo()}2&t&&ca("mat-drawer-shown",Xo()._isShowingBackdrop())}function PL(t,e){1&t&&(Fo(0,"mat-drawer-content"),ea(1,2),Vo())}const NL=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ML=["mat-drawer","mat-drawer-content","*"];function LL(t,e){if(1&t){const t=qo();Fo(0,"div",2),Ko("click",function(){return Le(t),Xo()._onBackdropClicked()}),Vo()}2&t&&ca("mat-drawer-shown",Xo()._isShowingBackdrop())}function FL(t,e){1&t&&(Fo(0,"mat-sidenav-content",3),ea(1,2),Vo())}const VL=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],BL=["mat-sidenav","mat-sidenav-content","*"],jL=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",UL={transformDrawer:aA("transform",[hA("open, open-instant",uA({transform:"none",visibility:"visible"})),hA("void",uA({"box-shadow":"none",visibility:"hidden"})),pA("void => open-instant",lA("0ms")),pA("void <=> open, open-instant => void",lA("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},zL=new Xn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),qL=new Xn("MAT_DRAWER_CONTAINER");let $L=(()=>{class t extends SL{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(No(wl),No(at(()=>GL)),No(Qa),No(kL),No(Fc))},t.\u0275cmp=Ht({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&la("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[_o],ngContentSelectors:DL,decls:1,vars:0,template:function(t,e){1&t&&(ta(),ea(0))},encapsulation:2,changeDetection:0}),t})(),HL=(()=>{class t{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=s,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x,this._animationEnd=new x,this._animationState="void",this.openedChange=new Zl(!0),this._openedStream=this.openedChange.pipe(cd(t=>t),T(()=>{})),this.openedStart=this._animationStarted.pipe(cd(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),TL(void 0)),this._closedStream=this.openedChange.pipe(cd(t=>!t),T(()=>{})),this.closedStart=this._animationStarted.pipe(cd(t=>t.fromState!==t.toState&&"void"===t.toState),TL(void 0)),this._destroyed=new x,this.onPositionChanged=new Zl,this._modeChanged=new x,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{wN(this._elementRef.nativeElement,"keydown").pipe(cd(t=>27===t.keyCode&&!this.disableClose&&!JA(t)),oR(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(iR((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=VA(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=VA(t)}get opened(){return this._opened}set opened(t){this.toggle(VA(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(nd(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(VR),No(YR),No(uR),No(Fc),No(gu,8),No(qL,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&Wo("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(Ro("align",null),Ea("@transform",e._animationState),ca("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:DL,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(ta(),Fo(0,"div",0),ea(1),Vo())},directives:[SL],encapsulation:2,data:{animation:[UL.transformDrawer]},changeDetection:0}),t})(),GL=(()=>{class t{constructor(t,e,n,i,r,s=!1,o){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=o,this._drawers=new Jl,this.backdropClick=new Zl,this._destroyed=new x,this._doCheckSubject=new x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x,t&&t.change.pipe(oR(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(oR(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=VA(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:VA(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(sd(this._allDrawers),oR(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(sd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe($A(10),oR(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(cd(t=>t.fromState!==t.toState),oR(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(oR(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(oR(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(nd(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(oR(K(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(No(iD,8),No(Qa),No(Fc),No(wl),No(xL),No(zL),No(DP,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(hc(n,$L,5),hc(n,HL,5)),2&t){let t;cc(t=dc())&&(e._content=t.first),cc(t=dc())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&uc($L,5),2&t){let t;cc(t=dc())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&ca("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[za([{provide:qL,useExisting:t}])],ngContentSelectors:ML,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(ta(NL),Oo(0,OL,1,2,"div",0),ea(1),ea(2,1),Oo(3,PL,2,0,"mat-drawer-content",1)),2&t&&(Mo("ngIf",e.hasBackdrop),rs(3),Mo("ngIf",!e._content))},directives:[zu,$L],styles:[jL],encapsulation:2,changeDetection:0}),t})(),KL=(()=>{class t extends $L{constructor(t,e,n,i,r){super(t,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(No(wl),No(at(()=>QL)),No(Qa),No(kL),No(Fc))},t.\u0275cmp=Ht({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&la("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[_o],ngContentSelectors:DL,decls:1,vars:0,template:function(t,e){1&t&&(ta(),ea(0))},encapsulation:2,changeDetection:0}),t})(),WL=(()=>{class t extends HL{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=VA(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=BA(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=BA(t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(Ro("align",null),la("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),ca("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[_o],ngContentSelectors:DL,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(ta(),Fo(0,"div",0),ea(1),Vo())},directives:[SL],encapsulation:2,data:{animation:[UL.transformDrawer]},changeDetection:0}),t})(),QL=(()=>{class t extends GL{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){if(1&t&&(hc(n,KL,5),hc(n,WL,5)),2&t){let t;cc(t=dc())&&(e._content=t.first),cc(t=dc())&&(e._allDrawers=t)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&ca("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[za([{provide:qL,useExisting:t}]),_o],ngContentSelectors:BL,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(ta(VL),Oo(0,LL,1,2,"div",0),ea(1),ea(2,1),Oo(3,FL,2,0,"mat-sidenav-content",1)),2&t&&(Mo("ngIf",e.hasBackdrop),rs(3),Mo("ngIf",!e._content))},directives:[zu,KL,SL],styles:[jL],encapsulation:2,changeDetection:0}),t})(),YL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[th,zP,hR,EL],EL,zP]}),t})();const ZL=new Set;let XL,JL=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(t){if(!ZL.has(t))try{XL||(XL=document.createElement("style"),XL.setAttribute("type","text/css"),document.head.appendChild(XL)),XL.sheet&&(XL.sheet.insertRule(`@media ${t} {body{ }}`,0),ZL.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(gi(uR))},t.\u0275prov=ft({factory:function(){return new t(gi(uR))},token:t,providedIn:"root"}),t})();function tF(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let eF=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nF(UA(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=$h(nF(UA(t)).map(t=>this._registerQuery(t).observable));return e=Wh(e.pipe(nd(1)),e.pipe(tR(1),$A(0))),e.pipe(T(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new b(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(sd(e),T(({matches:e})=>({query:t,matches:e})),oR(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(gi(JL),gi(Fc))},t.\u0275prov=ft({factory:function(){return new t(gi(JL),gi(Fc))},token:t,providedIn:"root"}),t})();function nF(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const iF=["*",[["mat-toolbar-row"]]],rF=["*","mat-toolbar-row"],sF=$P(class{constructor(t){this._elementRef=t}});let oF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),aF=(()=>{class t extends sF{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(uR),No(gu))},t.\u0275cmp=Ht({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&hc(n,oF,5),2&t){let t;cc(t=dc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&ca("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[_o],ngContentSelectors:rF,decls:2,vars:0,template:function(t,e){1&t&&(ta(iF),ea(0),ea(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),lF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP],zP]}),t})(),cF=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=VA(t)}get inset(){return this._inset}set inset(t){this._inset=VA(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(Ro("aria-orientation",e.vertical?"vertical":"horizontal"),ca("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),uF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP],zP]}),t})();const hF=["*"],dF=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pF=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],fF=qP(HP(class{})),mF=HP(class{}),gF=new Xn("MatList"),yF=new Xn("MatNavList");let _F=(()=>{class t extends fF{constructor(){super(...arguments),this._stateChanges=new x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[za([{provide:yF,useExisting:t}]),_o,he],ngContentSelectors:hF,decls:1,vars:0,template:function(t,e){1&t&&(ta(),ea(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),vF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),bF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),wF=(()=>{class t extends mF{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new x,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(oR(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=VA(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(sd(t)).subscribe(({length:t})=>{ZP(e,`${n}-2-line`,!1),ZP(e,`${n}-3-line`,!1),ZP(e,`${n}-multi-line`,!1),2===t||3===t?ZP(e,`${n}-${t}-line`,!0):t>3&&ZP(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(wl),No(yF,8),No(gF,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(hc(n,vF,5),hc(n,bF,5),hc(n,YP,5)),2&t){let t;cc(t=dc())&&(e._avatar=t.first),cc(t=dc())&&(e._icon=t.first),cc(t=dc())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&ca("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[_o],ngContentSelectors:pF,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(ta(dF),Fo(0,"div",0),Bo(1,"div",1),ea(2),Fo(3,"div",2),ea(4,1),Vo(),ea(5,2),Vo()),2&t&&(rs(1),Mo("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[oN],encapsulation:2,changeDetection:0}),t})(),CF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[XP,aN,zP,cN,th],XP,zP,cN,uF]}),t})();function kF(t,e){1&t&&(Fo(0,"mat-icon"),Ca(1,"menu"),Vo())}function SF(t,e){1&t&&(Fo(0,"mat-icon"),Ca(1,"close"),Vo())}function xF(t,e){if(1&t){const t=qo();Fo(0,"button",12),Ko("click",function(){return Le(t),Xo(),Po(5).toggle()}),Oo(1,kF,2,0,"mat-icon",13),Oo(2,SF,2,0,"mat-icon",13),Vo()}if(2&t){Xo();const t=Po(5);rs(1),Mo("ngIf",!t.opened),rs(1),Mo("ngIf",t.opened)}}let EF=(()=>{class t{constructor(t,e,n){this.router=t,this.observer=e,this.auth=n}ngOnInit(){this.router.navigate(["home"])}ngAfterViewInit(){this.observer.observe(["(max-width: 800px)"]).subscribe(t=>{t.matches?(this.sidenav.mode="over",this.sidenav.close()):(this.sidenav.mode="side",this.sidenav.open())})}logout(){this.auth.logout().subscribe(()=>{this.router.navigate([""])},t=>{alert("Erro ao sair!")})}}return t.\u0275fac=function(e){return new(e||t)(No(um),No(eF),No(rA))},t.\u0275cmp=Ht({type:t,selectors:[["app-nav"]],viewQuery:function(t,e){if(1&t&&uc(WL,5),2&t){let t;cc(t=dc())&&(e.sidenav=t.first)}},decls:36,vars:1,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["sidenav","matSidenav"],["src","assets/img/logo-minoruAtu.png"],[1,"nav-list"],["mat-list-item","","routerLink","home"],[1,"material-icons"],["mat-list-item","","routerLink","garagem"],["mat-list-item","","routerLink","mensalistas"],["mat-list-item","","routerLink","sobre"],["mat-list-item","","routerLink",""],["mat-list-item","","type","button",3,"click"],[1,"content","mat-elevation-z4"],["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(t,e){if(1&t&&(Fo(0,"mat-toolbar"),Oo(1,xF,3,2,"button",0),Ca(2," MINORU ESTACIONAMENTO\n"),Vo(),Fo(3,"mat-sidenav-container"),Fo(4,"mat-sidenav",null,1),Bo(6,"img",2),Bo(7,"mat-divider"),Fo(8,"mat-nav-list",3),Fo(9,"a",4),Fo(10,"i",5),Ca(11,"home"),Vo(),Ca(12," Home "),Vo(),Fo(13,"a",6),Fo(14,"i",5),Ca(15,"garage"),Vo(),Ca(16," Garagem "),Vo(),Fo(17,"a",7),Fo(18,"i",5),Ca(19,"group"),Vo(),Ca(20," Mensalistas "),Vo(),Fo(21,"a",8),Fo(22,"i",5),Ca(23,"info"),Vo(),Ca(24," Sobre "),Vo(),Fo(25,"a",9),Fo(26,"i",5),Ca(27,"help"),Vo(),Ca(28," Ajuda "),Vo(),Fo(29,"a",10),Ko("click",function(){return e.logout()}),Fo(30,"i",5),Ca(31,"logout"),Vo(),Ca(32," Sair "),Vo(),Vo(),Vo(),Fo(33,"mat-sidenav-content"),Fo(34,"div"),Bo(35,"router-outlet",11),Vo(),Vo(),Vo()),2&t){const t=Po(5);rs(1),Mo("ngIf","over"===t.mode)}},directives:[aF,zu,QL,WL,cF,_F,wF,hm,KL,pm,vM,dL],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}mat-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}mat-sidenav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;padding-top:1rem}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}"]}),t})();class IF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class TF extends IF{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class AF extends IF{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class RF extends IF{constructor(t){super(),this.element=t instanceof Qa?t.nativeElement:t}}class DF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof TF?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof AF?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof RF?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class OF extends DF{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let PF=(()=>{class t extends DF{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Zl,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(No(Ha),No(Pl),No(gu))},t.\u0275dir=Zt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_o]}),t})(),NF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();class MF{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new LF(t,this.predicate,this.inclusive))}}class LF extends f{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const FF=vR();class VF{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zA(-this._previousScrollPosition.left),t.style.top=zA(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FF&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FF&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class BF{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jF{enable(){}disable(){}attach(){}}function UF(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function zF(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class qF{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();UF(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $F=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new jF,this.close=t=>new BF(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new VF(this._viewportRuler,this._document),this.reposition=t=>new qF(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(gi(kL),gi(xL),gi(Fc),gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(kL),gi(xL),gi(Fc),gi(gu))},token:t,providedIn:"root"}),t})();class HF{constructor(t){if(this.scrollStrategy=new jF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class GF{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class KF{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let WF=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(gu))},token:t,providedIn:"root"}),t})(),QF=(()=>{class t extends WF{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(gi(gu))},t.\u0275prov=ft({factory:function(){return new t(gi(gu))},token:t,providedIn:"root"}),t})(),YF=(()=>{class t extends WF{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=CR(t)},this._clickListener=t=>{const e=CR(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const i=this._attachedOverlays.slice();for(let r=i.length-1;r>-1;r--){const s=i[r];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(e)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(gi(gu),gi(uR))},t.\u0275prov=ft({factory:function(){return new t(gi(gu),gi(uR))},token:t,providedIn:"root"}),t})(),ZF=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||kR()){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),kR()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(gi(gu),gi(uR))},t.\u0275prov=ft({factory:function(){return new t(gi(gu),gi(uR))},token:t,providedIn:"root"}),t})();class XF{constructor(t,e,n,i,r,s,o,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new x,this._outsidePointerEvents=new x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nd(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=zA(this._config.width),t.height=zA(this._config.height),t.minWidth=zA(this._config.minWidth),t.minHeight=zA(this._config.minHeight),t.maxWidth=zA(this._config.maxWidth),t.maxHeight=zA(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;UA(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(oR(K(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const JF="cdk-overlay-connected-position-bounding-box",tV=/([A-Za-z%]+)$/;class eV{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(JF),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nV(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=rV(e);let{x:s,y:o}=t,a=this._getOffset(i,"x"),l=this._getOffset(i,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+r.height-n.height,h=this._subtractOverflows(r.width,0-s,s+r.width-n.width),d=this._subtractOverflows(r.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=iV(this._overlayRef.getConfig().minHeight),o=iV(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=rV(e),r=this._viewportRect,s=Math.max(t.x+i.width-r.width,0),o=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),l=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=i.width<=r.width?l||-s:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=i.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new KF(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=zA(n.height),i.top=zA(n.top),i.bottom=zA(n.bottom),i.width=zA(n.width),i.left=zA(n.left),i.right=zA(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=zA(t)),r&&(i.maxWidth=zA(r))}this._lastBoundingBoxSize=n,nV(this._boundingBox.style,i)}_resetBoundingBoxStyles(){nV(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nV(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();nV(n,this._getExactOverlayY(e,t,i)),nV(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=zA(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=zA(s.maxWidth):r&&(n.maxWidth="")),nV(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=zA(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=zA(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zF(t,n),isOriginOutsideView:UF(t,n),isOverlayClipped:zF(e,n),isOverlayOutsideView:UF(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&UA(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Qa)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function nV(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function iV(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(tV);return n&&"px"!==n?null:parseFloat(e)}return t||null}function rV(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class sV{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new eV(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new GF(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const oV="cdk-global-overlay-wrapper";class aV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(oV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(oV),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let lV=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new aV}connectedTo(t,e,n){return new sV(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new eV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(gi(xL),gi(gu),gi(uR),gi(ZF))},t.\u0275prov=ft({factory:function(){return new t(gi(xL),gi(gu),gi(uR),gi(ZF))},token:t,providedIn:"root"}),t})(),cV=0,uV=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new HF(t);return r.direction=r.direction||this._directionality.value,new XF(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+cV++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ru)),new OF(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(gi($F),gi(ZF),gi(Ha),gi(lV),gi(QF),gi(go),gi(Fc),gi(gu),gi(iD),gi(Du),gi(YF))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const hV=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dV=new Xn("cdk-connected-overlay-scroll-strategy");let pV=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),fV=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Zl,this.positionChange=new Zl,this.attach=new Zl,this.detach=new Zl,this.overlayKeydown=new Zl,this.overlayOutsideClick=new Zl,this._templatePortal=new AF(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=VA(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=VA(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=VA(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=VA(t)}get push(){return this._push}set push(t){this._push=VA(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=hV);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||JA(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new HF({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new MF(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(No(uV),No(El),No(Pl),No(dV),No(iD,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[he]}),t})();const mV={provide:dV,deps:[uV],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let gV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[uV,mV],imports:[[rD,NF,IL],IL]}),t})();const yV=["trigger"],_V=["panel"];function vV(t,e){if(1&t&&(Fo(0,"span",8),Ca(1),Vo()),2&t){const t=Xo();rs(1),ka(t.placeholder)}}function bV(t,e){if(1&t&&(Fo(0,"span",12),Ca(1),Vo()),2&t){const t=Xo(2);rs(1),ka(t.triggerValue)}}function wV(t,e){1&t&&ea(0,0,["*ngSwitchCase","true"])}function CV(t,e){1&t&&(Fo(0,"span",9),Oo(1,bV,2,1,"span",10),Oo(2,wV,1,0,"ng-content",11),Vo()),2&t&&(Mo("ngSwitch",!!Xo().customTrigger),rs(2),Mo("ngSwitchCase",!0))}function kV(t,e){if(1&t){const t=qo();Fo(0,"div",13),Fo(1,"div",14,15),Ko("@transformPanel.done",function(e){return Le(t),Xo()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return Le(t),Xo()._handleKeydown(e)}),ea(3,1),Vo(),Vo()}if(2&t){const t=Xo();Mo("@transformPanelWrap",void 0),rs(1),"mat-select-panel ",n=t._getPanelTheme(),"",pa(oi,ha,Do(Ne(),"mat-select-panel ",n,""),!0),la("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Mo("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),Ro("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}var n}const SV=[[["mat-select-trigger"]],"*"],xV=["mat-select-trigger","*"],EV={transformPanelWrap:aA("transformPanelWrap",[pA("* => void",mA("@transformPanel",[fA()],{optional:!0}))]),transformPanel:aA("transformPanel",[hA("void",uA({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),hA("showing",uA({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),hA("showing-multiple",uA({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pA("void => *",lA("120ms cubic-bezier(0, 0, 0.2, 1)")),pA("* => void",lA("100ms 25ms linear",uA({opacity:0})))])};let IV=0;const TV=256,AV=new Xn("mat-select-scroll-strategy"),RV=new Xn("MAT_SELECT_CONFIG"),DV={provide:AV,deps:[uV],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class OV{constructor(t,e){this.source=t,this.value=e}}const PV=HP(GP(qP(KP(class{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}})))),NV=new Xn("MatSelectTrigger");let MV=(()=>{class t extends PV{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p){var f,m,g;super(r,i,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this._liveAnnouncer=d,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+IV++,this._triggerAriaLabelledBy=null,this._destroy=new x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+IV++,this._panelDoneAnimatingStream=new x,this._overlayPanelClass=(null===(f=this._defaultOptions)||void 0===f?void 0:f.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(g=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==g&&g,this.ariaLabel="",this.optionSelectionChanges=Zh(()=>{const t=this.options;return t?t.changes.pipe(sd(t),Xh(()=>K(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(nd(1),Xh(()=>this.optionSelectionChanges))}),this.openedChange=new Zl,this._openedStream=this.openedChange.pipe(cd(t=>t),T(()=>{})),this._closedStream=this.openedChange.pipe(cd(t=>!t),T(()=>{})),this.selectionChange=new Zl,this.valueChange=new Zl,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=VA(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=VA(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=VA(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=BA(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new bL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(iR(),oR(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(oR(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(sd(null),oR(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,e;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(e=this._selectionModel)||void 0===e?void 0:e.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!JA(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||JA(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(nd(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new PR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(oR(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(oR(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=K(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(oR(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),K(...this.options.map(t=>t._stateChanges)).pipe(oR(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(No(xL),No(wl),No(Fc),No(QP),No(Qa),No(iD,8),No(Lg,8),No(qg,8),No(tM,8),No(lg,10),Qn("tabindex"),No(AV),No(KR),No(RV,8))},t.\u0275dir=Zt({type:t,viewQuery:function(t,e){if(1&t&&(uc(yV,5),uc(_V,5),uc(fV,5)),2&t){let t;cc(t=dc())&&(e.trigger=t.first),cc(t=dc())&&(e.panel=t.first),cc(t=dc())&&(e._overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[_o,he]}),t})(),LV=(()=>{class t extends MV{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(oR(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(nd(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=vN(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,s;this.panel.nativeElement.scrollTop=0===t&&1===e?0:(r=n,(i=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?i:i+r>s+256?Math.max(0,i-256+r):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new OV(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(TV/i);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-TV)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,TV)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,TV),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=vN(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(hc(n,NV,5),hc(n,_N,5),hc(n,fN,5)),2&t){let t;cc(t=dc())&&(e.customTrigger=t.first),cc(t=dc())&&(e.options=t),cc(t=dc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&Ko("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(Ro("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),ca("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[za([{provide:$N,useExisting:t},{provide:uN,useExisting:t}]),_o],ngContentSelectors:xV,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(ta(SV),Fo(0,"div",0,1),Ko("click",function(){return e.toggle()}),Fo(3,"div",2),Oo(4,vV,2,1,"span",3),Oo(5,CV,3,2,"span",4),Vo(),Fo(6,"div",5),Bo(7,"div",6),Vo(),Vo(),Oo(8,kV,4,14,"ng-template",7),Ko("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=Po(1);Ro("aria-owns",e.panelOpen?e.id+"-panel":null),rs(3),Mo("ngSwitch",e.empty),Ro("id",e._valueId),rs(1),Mo("ngSwitchCase",!0),rs(1),Mo("ngSwitchCase",!1),rs(3),Mo("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[pV,Gu,Ku,fV,Wu,Vu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[EV.transformPanelWrap,EV.transformPanel]},changeDetection:0}),t})(),FV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[DV],imports:[[th,gV,bN,zP],EL,nM,bN,zP]}),t})();const VV={tooltipState:aA("state",[hA("initial, void, hidden",uA({opacity:0,transform:"scale(0)"})),hA("visible",uA({transform:"scale(1)"})),pA("* => visible",lA("200ms cubic-bezier(0, 0, 0.2, 1)",dA([uA({opacity:0,transform:"scale(0)",offset:0}),uA({opacity:.5,transform:"scale(0.99)",offset:.5}),uA({opacity:1,transform:"scale(1)",offset:1})]))),pA("* => hidden",lA("100ms cubic-bezier(0, 0, 0.2, 1)",uA({opacity:0})))])},BV=_R({passive:!0}),jV=new Xn("mat-tooltip-scroll-strategy"),UV={provide:jV,deps:[uV],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},zV=new Xn("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let qV=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new x,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!JA(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,this._document=h,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),c.change.pipe(oR(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var e;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(e=this._tooltipInstance)||void 0===e||e.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=VA(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(oR(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,BV)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new TF(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(oR(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return e.positionChanges.pipe(oR(this._destroyed)).subscribe(t=>{this._updateCurrentPositionClass(t.connectionPair),this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:`${this._cssClassPrefix}-tooltip-panel`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(oR(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(oR(this._destroyed)).subscribe(()=>{var t;return null===(t=this._tooltipInstance)||void 0===t?void 0:t._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const e=t.getConfig().positionStrategy,n=this._getOrigin(),i=this._getOverlayPosition();e.withPositions([this._addOffset(Object.assign(Object.assign({},n.main),i.main)),this._addOffset(Object.assign(Object.assign({},n.fallback),i.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(nd(1),oR(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){const{overlayY:e,originX:n,originY:i}=t;let r;if(r="center"===e?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===e&&"top"===i?"above":"below",r!==this._currentPosition){const t=this._overlayRef;if(t){const e=`${this._cssClassPrefix}-tooltip-panel-`;t.removePanelClass(e+this._currentPosition),t.addPanelClass(e+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,BV)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=this._document.elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(No(uV),No(Qa),No(kL),No(Pl),No(Fc),No(uR),No(RR),No(YR),No(void 0),No(iD),No(void 0),No(gu))},t.\u0275dir=Zt({type:t,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),$V=(()=>{class t extends qV{constructor(t,e,n,i,r,s,o,a,l,c,u,h){super(t,e,n,i,r,s,o,a,l,c,u,h),this._tooltipComponent=GV}}return t.\u0275fac=function(e){return new(e||t)(No(uV),No(Qa),No(kL),No(Pl),No(Fc),No(uR),No(RR),No(YR),No(jV),No(iD,8),No(zV,8),No(gu))},t.\u0275dir=Zt({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[_o]}),t})(),HV=(()=>{class t{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new x}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return t.\u0275fac=function(e){return new(e||t)(No(wl))},t.\u0275dir=Zt({type:t}),t})(),GV=(()=>{class t extends HV{constructor(t,e){super(t),this._breakpointObserver=e,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return t.\u0275fac=function(e){return new(e||t)(No(wl),No(eF))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){2&t&&la("zoom","visible"===e._visibility?1:null)},features:[_o],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(Fo(0,"div",0),Ko("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),function(t,e){const n=Me();let i;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new ut("302","The pipe 'async' could not be found!")}("async",n.pipeRegistry),n.data[21]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(21,i.onDestroy)):i=n.data[21];const r=i.factory||(i.factory=ce(i.type)),s=xt(No);try{const t=An(!1),e=r();An(t),function(t,e,n,i){21>=t.data.length&&(t.data[21]=null,t.blueprint[21]=null),e[21]=i}(n,Ne(),0,e)}finally{xt(s)}}(),Ca(2),Vo()),2&t){let t;ca("mat-tooltip-handset",null==(t=function(t,e,n){const i=t+ee,r=Ne(),s=xe(r,i);return function(t,e){return xo.isWrapped(e)&&(e=xo.unwrap(e),t[Oe.lFrame.bindingIndex]=is),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?Ql(r,$e(),e,s.transform,n,s):s.transform(n))}(1,5,e._isHandset))?null:t.matches),Mo("ngClass",e.tooltipClass)("@state",e._visibility),rs(2),ka(e.message)}},directives:[Vu],pipes:[Ju],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[VV.tooltipState]},changeDetection:0}),t})(),KV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[UV],imports:[[eD,th,gV,zP],zP,EL]}),t})();function WV(t,e){if(1&t&&(Fo(0,"mat-option",19),Ca(1),Vo()),2&t){const t=e.$implicit;Mo("value",t),rs(1),Sa(" ",t," ")}}function QV(t,e){if(1&t){const t=qo();Fo(0,"mat-form-field",16),Fo(1,"mat-select",17),Ko("selectionChange",function(e){return Le(t),Xo(2)._changePageSize(e.value)}),Oo(2,WV,2,2,"mat-option",18),Vo(),Vo()}if(2&t){const t=Xo(2);Mo("appearance",t._formFieldAppearance)("color",t.color),rs(1),Mo("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),rs(1),Mo("ngForOf",t._displayedPageSizeOptions)}}function YV(t,e){if(1&t&&(Fo(0,"div",20),Ca(1),Vo()),2&t){const t=Xo(2);rs(1),ka(t.pageSize)}}function ZV(t,e){if(1&t&&(Fo(0,"div",12),Fo(1,"div",13),Ca(2),Vo(),Oo(3,QV,3,6,"mat-form-field",14),Oo(4,YV,2,1,"div",15),Vo()),2&t){const t=Xo();rs(2),Sa(" ",t._intl.itemsPerPageLabel," "),rs(1),Mo("ngIf",t._displayedPageSizeOptions.length>1),rs(1),Mo("ngIf",t._displayedPageSizeOptions.length<=1)}}function XV(t,e){if(1&t){const t=qo();Fo(0,"button",21),Ko("click",function(){return Le(t),Xo().firstPage()}),un(),Fo(1,"svg",7),Bo(2,"path",22),Vo(),Vo()}if(2&t){const t=Xo();Mo("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Ro("aria-label",t._intl.firstPageLabel)}}function JV(t,e){if(1&t){const t=qo();un(),hn(),Fo(0,"button",23),Ko("click",function(){return Le(t),Xo().lastPage()}),un(),Fo(1,"svg",7),Bo(2,"path",24),Vo(),Vo()}if(2&t){const t=Xo();Mo("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Ro("aria-label",t._intl.lastPageLabel)}}let tB=(()=>{class t{constructor(){this.changes=new x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const eB={provide:tB,deps:[[new wi,new Ci,tB]],useFactory:function(t){return t||new tB}},nB=new Xn("MAT_PAGINATOR_DEFAULT_OPTIONS"),iB=qP(WP(class{}));let rB=(()=>{class t extends iB{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new Zl,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:i,showFirstLastButtons:r}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=i&&(this._hidePageSize=i),null!=r&&(this._showFirstLastButtons=r)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(BA(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=BA(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(BA(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>BA(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=VA(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=VA(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(No(tB),No(wl),No(void 0))},t.\u0275dir=Zt({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[_o]}),t})(),sB=(()=>{class t extends rB{constructor(t,e,n){super(t,e,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(No(tB),No(wl),No(nB,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[_o],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"div",1),Oo(2,ZV,5,3,"div",2),Fo(3,"div",3),Fo(4,"div",4),Ca(5),Vo(),Oo(6,XV,3,5,"button",5),Fo(7,"button",6),Ko("click",function(){return e.previousPage()}),un(),Fo(8,"svg",7),Bo(9,"path",8),Vo(),Vo(),hn(),Fo(10,"button",9),Ko("click",function(){return e.nextPage()}),un(),Fo(11,"svg",7),Bo(12,"path",10),Vo(),Vo(),Oo(13,JV,3,5,"button",11),Vo(),Vo(),Vo()),2&t&&(rs(2),Mo("ngIf",!e.hidePageSize),rs(3),Sa(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),rs(1),Mo("ngIf",e.showFirstLastButtons),rs(1),Mo("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Ro("aria-label",e._intl.previousPageLabel),rs(3),Mo("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Ro("aria-label",e._intl.nextPageLabel),rs(3),Mo("ngIf",e.showFirstLastButtons))},directives:[zu,vM,$V,eM,LV,ju,_N],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),t})(),oB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[eB],imports:[[th,bM,FV,KV,zP]]}),t})();const aB=[[["caption"]],[["colgroup"],["col"]]],lB=["caption","colgroup, col"];function cB(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=VA(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const uB=new Xn("CDK_TABLE");let hB=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(No(El))},t.\u0275dir=Zt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),dB=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(No(El))},t.\u0275dir=Zt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),pB=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(No(El))},t.\u0275dir=Zt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class fB{}const mB=cB(fB);let gB=(()=>{class t extends mB{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=VA(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(No(uB,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(hc(n,hB,5),hc(n,dB,5),hc(n,pB,5)),2&t){let t;cc(t=dc())&&(e.cell=t.first),cc(t=dc())&&(e.headerCell=t.first),cc(t=dc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[za([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),_o]}),t})();class yB{constructor(t,e){const n=e.nativeElement.classList;for(const i of t._columnCssClassName)n.add(i)}}let _B=(()=>{class t extends yB{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(No(gB),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[_o]}),t})(),vB=(()=>{class t extends yB{constructor(t,e){var n;if(super(t,e),1===(null===(n=t._table)||void 0===n?void 0:n._elementRef.nativeElement.nodeType)){const n=t._table._elementRef.nativeElement.getAttribute("role");e.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}}return t.\u0275fac=function(e){return new(e||t)(No(gB),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[_o]}),t})();class bB{constructor(){this.tasks=[],this.endTasks=[]}}const wB=new Xn("_COALESCED_STYLE_SCHEDULER");let CB=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new bB,this._getScheduleObservable().pipe(oR(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new bB;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?V(Promise.resolve(void 0)):this._ngZone.onStable.pipe(nd(1))}}return t.\u0275fac=function(e){return new(e||t)(gi(Fc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),kB=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof EB?t.headerCell.template:this instanceof AB?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(No(El),No(fl))},t.\u0275dir=Zt({type:t,features:[he]}),t})();class SB extends kB{}const xB=cB(SB);let EB=(()=>{class t extends xB{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(No(El),No(fl),No(uB,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[_o,he]}),t})();class IB extends kB{}const TB=cB(IB);let AB=(()=>{class t extends TB{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(No(El),No(fl),No(uB,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[_o,he]}),t})(),RB=(()=>{class t extends kB{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(No(El),No(fl),No(uB,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[_o]}),t})(),DB=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(No(Pl))},t.\u0275dir=Zt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),OB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&zo(0,0)},directives:[DB],encapsulation:2}),t})(),PB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&zo(0,0)},directives:[DB],encapsulation:2}),t})(),NB=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(No(El))},t.\u0275dir=Zt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const MB=["top","bottom","left","right"];class LB{constructor(t,e,n,i,r=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let t=0;t<i.children.length;t++)n.push(i.children[t])}this._coalescedStyleScheduler.schedule(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,i=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=t[0],s=r.children.length,o=this._getCellWidths(r,i),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),c=e.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const i="rtl"===this.direction,r=i?"right":"left",h=i?"left":"right";for(const o of t)for(let t=0;t<s;t++){const i=o.children[t];e[t]&&this._addStickyStyle(i,r,a[t],t===c),n[t]&&this._addStickyStyle(i,h,l[t],t===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((t,e)=>n[e+u]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let c=0,u=0;c<i.length;c++){if(!r[c])continue;s[c]=u;const t=i[c];a[c]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;u+=e,o[c]=e}const l=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var t,e;for(let o=0;o<i.length;o++){if(!r[o])continue;const t=s[o],e=o===l;for(const i of a[o])this._addStickyStyle(i,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);MB.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of MB)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],i=t.children;for(let r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}}const FB=new Xn("CDK_SPL");let VB=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","rowOutlet",""]]}),t})(),BB=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),jB=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),UB=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(No(Pl),No(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),zB=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,u){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=l,this._viewportRuler=c,this._stickyPositioningListener=u,this._onDestroy=new x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Zl,this.viewChange=new Bh({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","table"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=VA(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=VA(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler.change().pipe(oR(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),_L(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const e=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qB(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=qB(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qB(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qB(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(t,!1);return i&&this._forceRenderFooterRows(),e||n||i}_switchDataSource(t){this._data=[],_L(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;_L(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof b||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Vh(this.dataSource)),this._renderChangeSubscription=t.pipe(oR(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,i={}){const r=t.viewContainer.createEmbeddedView(e.template,i,n);return this._renderCellTemplateForItem(e,i),r}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))DB.mostRecentCellOutlet&&DB.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new LB(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Vh()).pipe(oR(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(No(fl),No(wl),No(Qa),Qn("role"),No(iD,8),No(gu),No(uR),No(CL),No(wB),No(xL),No(FB,12))},t.\u0275cmp=Ht({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(hc(n,NB,5),hc(n,gB,5),hc(n,RB,5),hc(n,EB,5),hc(n,AB,5)),2&t){let t;cc(t=dc())&&(e._noDataRow=t.first),cc(t=dc())&&(e._contentColumnDefs=t),cc(t=dc())&&(e._contentRowDefs=t),cc(t=dc())&&(e._contentHeaderRowDefs=t),cc(t=dc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(uc(VB,7),uc(BB,7),uc(jB,7),uc(UB,7)),2&t){let t;cc(t=dc())&&(e._rowOutlet=t.first),cc(t=dc())&&(e._headerRowOutlet=t.first),cc(t=dc())&&(e._footerRowOutlet=t.first),cc(t=dc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&ca("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[za([{provide:uB,useExisting:t},{provide:CL,useClass:vL},{provide:wB,useClass:CB},{provide:FB,useValue:null}])],ngContentSelectors:lB,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(ta(aB),ea(0),ea(1,1),zo(2,0),zo(3,1),zo(4,2),zo(5,3))},directives:[BB,VB,UB,jB],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function qB(t,e){return t.concat(Array.from(e))}let $B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[IL]]}),t})();const HB=[[["caption"]],[["colgroup"],["col"]]],GB=["caption","colgroup, col"];let KB=(()=>{class t extends zB{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&ca("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[za([{provide:CL,useClass:vL},{provide:zB,useExisting:t},{provide:uB,useExisting:t},{provide:wB,useClass:CB},{provide:FB,useValue:null}]),_o],ngContentSelectors:GB,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(ta(HB),ea(0),ea(1,1),zo(2,0),zo(3,1),zo(4,2),zo(5,3))},directives:[BB,VB,UB,jB],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),WB=(()=>{class t extends hB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["","matCellDef",""]],features:[za([{provide:hB,useExisting:t}]),_o]}),t})(),QB=(()=>{class t extends dB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["","matHeaderCellDef",""]],features:[za([{provide:dB,useExisting:t}]),_o]}),t})(),YB=(()=>{class t extends gB{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[za([{provide:gB,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),_o]}),t})(),ZB=(()=>{class t extends _B{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[_o]}),t})(),XB=(()=>{class t extends vB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[_o]}),t})(),JB=(()=>{class t extends EB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[za([{provide:EB,useExisting:t}]),_o]}),t})(),tj=(()=>{class t extends RB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[za([{provide:RB,useExisting:t}]),_o]}),t})(),ej=(()=>{class t extends OB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[za([{provide:OB,useExisting:t}]),_o],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&zo(0,0)},directives:[DB],encapsulation:2}),t})(),nj=(()=>{class t extends PB{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[za([{provide:PB,useExisting:t}]),_o],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&zo(0,0)},directives:[DB],encapsulation:2}),t})(),ij=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[$B,zP],zP]}),t})();class rj extends class extends class{}{constructor(t=[]){super(),this._renderData=new Bh([]),this._filter=new Bh(""),this._internalPageChanges=new x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(jA(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let r=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof r,a=typeof s;o!==a&&("number"===o&&(r+=""),"number"===a&&(s+=""));let l=0;return null!=r&&null!=s?r>s?l=1:r<s&&(l=-1):null!=r?l=1:null!=s&&(l=-1),l*("asc"==i?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new Bh(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?K(this._sort.sortChange,this._sort.initialized):Vh(null),n=this._paginator?K(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Vh(null),i=$h([this._data,this._filter]).pipe(T(([t])=>this._filterData(t))),r=$h([i,e]).pipe(T(([t])=>this._orderData(t))),s=$h([r,n]).pipe(T(([t])=>this._pageData(t)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=s.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function sj(t,e){}class oj{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const aj={dialogContainer:aA("dialogContainer",[hA("void, exit",uA({opacity:0,transform:"scale(0.7)"})),hA("enter",uA({transform:"none"})),pA("* => enter",lA("150ms cubic-bezier(0, 0, 0.2, 1)",uA({transform:"none",opacity:1}))),pA("* => void, * => exit",lA("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",uA({opacity:0})))])};let lj=(()=>{class t extends DF{constructor(t,e,n,i,r,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._focusMonitor=s,this._animationStateChanged=new Zl,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=wR(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=wR())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=wR();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(VR),No(wl),No(gu,8),No(oj),No(YR))},t.\u0275dir=Zt({type:t,viewQuery:function(t,e){if(1&t&&uc(PF,7),2&t){let t;cc(t=dc())&&(e._portalOutlet=t.first)}},features:[_o]}),t})(),cj=(()=>{class t extends lj{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Wo("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(xa("id",e._id),Ro("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Ea("@dialogContainer",e._state))},features:[_o],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Oo(0,sj,0,0,"ng-template",0)},directives:[PF],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[aj.dialogContainer]}}),t})(),uj=0;class hj{constructor(t,e,n="mat-dialog-"+uj++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,this._state=0,e._id=n,e._animationStateChanged.pipe(cd(t=>"opened"===t.state),nd(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(cd(t=>"closed"===t.state),nd(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(cd(t=>27===t.keyCode&&!this.disableClose&&!JA(t))).subscribe(t=>{t.preventDefault(),dj(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():dj(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(cd(t=>"closing"===t.state),nd(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function dj(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const pj=new Xn("MatDialogData"),fj=new Xn("mat-dialog-default-options"),mj=new Xn("mat-dialog-scroll-strategy"),gj={provide:mj,deps:[uV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let yj=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=Zh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sd(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new oj)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new HF({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=go.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:oj,useValue:e}]}),i=new TF(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof El)e.attachTemplatePortal(new AF(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),s=e.attachComponentPortal(new TF(t,i.viewContainerRef,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(iD,null,kt.Optional)||r.push({provide:iD,useValue:{value:t.direction,change:Vh()}}),go.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(No(uV),No(go),No(void 0),No(void 0),No(ZF),No(void 0),No(ti),No(ti),No(Xn))},t.\u0275dir=Zt({type:t}),t})(),_j=(()=>{class t extends yj{constructor(t,e,n,i,r,s,o){super(t,e,i,s,o,r,hj,cj,pj)}}return t.\u0275fac=function(e){return new(e||t)(gi(uV),gi(go),gi(Du,8),gi(fj,8),gi(mj),gi(t,12),gi(ZF))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),vj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[_j,gj],imports:[[gV,NF,zP],zP]}),t})();function bj(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}var wj,Cj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kj={},Sj=Sj||{},xj=Cj||self;function Ej(){}function Ij(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Tj(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Aj="closure_uid_"+(1e9*Math.random()>>>0),Rj=0;function Dj(t,e,n){return t.call.apply(t.bind,arguments)}function Oj(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pj(t,e,n){return(Pj=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dj:Oj).apply(null,arguments)}function Nj(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mj(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Lj(){this.s=this.s,this.o=this.o}Lj.prototype.s=!1,Lj.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Aj)&&t[Aj]||(t[Aj]=++Rj))},Lj.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fj=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vj(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Bj(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(Ij(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function jj(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jj.prototype.h=function(){this.defaultPrevented=!0};var Uj=function(){if(!xj.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xj.addEventListener("test",Ej,e),xj.removeEventListener("test",Ej,e)}catch(n){}return t}();function zj(t){return/^[\s\xa0]*$/.test(t)}var qj=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $j(t,e){return t<e?-1:t>e?1:0}function Hj(){var t=xj.navigator;return t&&(t=t.userAgent)?t:""}function Gj(t){return-1!=Hj().indexOf(t)}function Kj(t){return Kj[" "](t),t}Kj[" "]=Ej;var Wj,Qj,Yj=Gj("Opera"),Zj=Gj("Trident")||Gj("MSIE"),Xj=Gj("Edge"),Jj=Xj||Zj,tU=Gj("Gecko")&&!(-1!=Hj().toLowerCase().indexOf("webkit")&&!Gj("Edge"))&&!(Gj("Trident")||Gj("MSIE"))&&!Gj("Edge"),eU=-1!=Hj().toLowerCase().indexOf("webkit")&&!Gj("Edge");function nU(){var t=xj.document;return t?t.documentMode:void 0}t:{var iU="",rU=(Qj=Hj(),tU?/rv:([^\);]+)(\)|;)/.exec(Qj):Xj?/Edge\/([\d\.]+)/.exec(Qj):Zj?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qj):eU?/WebKit\/(\S+)/.exec(Qj):Yj?/(?:Version)[ \/]?(\S+)/.exec(Qj):void 0);if(rU&&(iU=rU?rU[1]:""),Zj){var sU=nU();if(null!=sU&&sU>parseFloat(iU)){Wj=String(sU);break t}}Wj=iU}var oU={};var aU=xj.document&&Zj&&(nU()||parseInt(Wj,10))||void 0;function lU(t,e){if(jj.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tU){t:{try{Kj(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lU.X.h.call(this)}}Mj(lU,jj);var cU={2:"touch",3:"pen",4:"mouse"};lU.prototype.h=function(){lU.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var uU="closure_listenable_"+(1e6*Math.random()|0),hU=0;function dU(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++hU,this.ba=this.ea=!1}function pU(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function fU(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function mU(t){const e={};for(const n in t)e[n]=t[n];return e}const gU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yU(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<gU.length;e++)n=gU[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function _U(t){this.src=t,this.g={},this.h=0}function vU(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Fj(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(pU(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function bU(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}_U.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=bU(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new dU(e,this.src,s,!!i,r)).ea=n,t.push(e)),e};var wU="closure_lm_"+(1e6*Math.random()|0),CU={};function kU(t,e,n,i,r){if(i&&i.once)return xU(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kU(t,e[s],n,i,r);return null}return n=OU(n),t&&t[uU]?t.N(e,n,Tj(i)?!!i.capture:!!i,r):SU(t,e,n,!1,i,r)}function SU(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Tj(r)?!!r.capture:!!r,a=RU(t);if(a||(t[wU]=a=new _U(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){const t=AU;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Uj||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(TU(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function xU(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xU(t,e[s],n,i,r);return null}return n=OU(n),t&&t[uU]?t.O(e,n,Tj(i)?!!i.capture:!!i,r):SU(t,e,n,!0,i,r)}function EU(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)EU(t,e[s],n,i,r);else i=Tj(i)?!!i.capture:!!i,n=OU(n),t&&t[uU]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=bU(s=t.g[e],n,i,r))&&(pU(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=RU(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bU(e,n,i,r)),(n=-1<t?e[t]:null)&&IU(n))}function IU(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[uU])vU(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(TU(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=RU(e))?(vU(n,t),0==n.h&&(n.src=null,e[wU]=null)):pU(t)}}}function TU(t){return t in CU?CU[t]:CU[t]="on"+t}function AU(t,e){if(t.ba)t=!0;else{e=new lU(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&IU(t),t=n.call(i,e)}return t}function RU(t){return(t=t[wU])instanceof _U?t:null}var DU="__closure_events_fn_"+(1e9*Math.random()>>>0);function OU(t){return"function"==typeof t?t:(t[DU]||(t[DU]=function(e){return t.handleEvent(e)}),t[DU])}function PU(){Lj.call(this),this.i=new _U(this),this.P=this,this.I=null}function NU(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new jj(e,t);else if(e instanceof jj)e.target=e.target||t;else{var r=e;yU(e=new jj(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=MU(o,i,!0,e)&&r}if(r=MU(o=e.g=t,i,!0,e)&&r,r=MU(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=MU(o=e.g=n[s],i,!1,e)&&r}function MU(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&vU(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Mj(PU,Lj),PU.prototype[uU]=!0,PU.prototype.removeEventListener=function(t,e,n,i){EU(this,t,e,n,i)},PU.prototype.M=function(){if(PU.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)pU(n[i]);delete e.g[t],e.h--}}this.I=null},PU.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},PU.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var LU=xj.JSON.stringify;function FU(){var t=$U;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var VU,BU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jU,t=>t.reset());class jU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function UU(t){xj.setTimeout(()=>{throw t},0)}function zU(t,e){VU||function(){var t=xj.Promise.resolve(void 0);VU=function(){t.then(HU)}}(),qU||(VU(),qU=!0),$U.add(t,e)}var qU=!1,$U=new class{constructor(){this.h=this.g=null}add(t,e){const n=BU.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function HU(){for(var t;t=FU();){try{t.h.call(t.g)}catch(n){UU(n)}var e=BU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qU=!1}function GU(t,e){PU.call(this),this.h=t||1,this.g=e||xj,this.j=Pj(this.lb,this),this.l=Date.now()}function KU(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function WU(t,e,n){if("function"==typeof t)n&&(t=Pj(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pj(t.handleEvent,t)}return 2147483647<Number(e)?-1:xj.setTimeout(t,e||0)}function QU(t){t.g=WU(()=>{t.g=null,t.i&&(t.i=!1,QU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mj(GU,PU),(wj=GU.prototype).ca=!1,wj.R=null,wj.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),NU(this,"tick"),this.ca&&(KU(this),this.start()))}},wj.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wj.M=function(){GU.X.M.call(this),KU(this),delete this.g};class YU extends Lj{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:QU(this)}M(){super.M(),this.g&&(xj.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ZU(t){Lj.call(this),this.h=t,this.g={}}Mj(ZU,Lj);var XU=[];function JU(t,e,n,i){Array.isArray(n)||(n&&(XU[0]=n.toString()),n=XU);for(var r=0;r<n.length;r++){var s=kU(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tz(t){fU(t.g,function(t,e){this.g.hasOwnProperty(e)&&IU(t)},t),t.g={}}function ez(){this.g=!0}function nz(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return LU(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}ZU.prototype.M=function(){ZU.X.M.call(this),tz(this)},ZU.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ez.prototype.Aa=function(){this.g=!1},ez.prototype.info=function(){};var iz={},rz=null;function sz(){return rz=rz||new PU}function oz(t){jj.call(this,iz.Pa,t)}function az(t){const e=sz();NU(e,new oz(e))}function lz(t,e){jj.call(this,iz.STAT_EVENT,t),this.stat=e}function cz(t){const e=sz();NU(e,new lz(e,t))}function uz(t,e){jj.call(this,iz.Qa,t),this.size=e}function hz(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xj.setTimeout(function(){t()},e)}iz.Pa="serverreachability",Mj(oz,jj),iz.STAT_EVENT="statevent",Mj(lz,jj),iz.Qa="timingevent",Mj(uz,jj);var dz={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pz={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fz(){}function mz(){}fz.prototype.h=null;var gz,yz={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _z(){jj.call(this,"d")}function vz(){jj.call(this,"c")}function bz(){}function wz(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new ZU(this),this.O=kz,this.T=new GU(t=Jj?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Cz}function Cz(){this.i=null,this.g="",this.h=!1}Mj(_z,jj),Mj(vz,jj),Mj(bz,fz),bz.prototype.g=function(){return new XMLHttpRequest},bz.prototype.i=function(){return{}},gz=new bz;var kz=45e3,Sz={},xz={};function Ez(t,e,n){t.K=1,t.v=Hz(jz(e)),t.s=n,t.P=!0,Iz(t,null)}function Iz(t,e){t.F=Date.now(),Dz(t),t.A=jz(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),rq(n.i,"t",i),t.C=0,n=t.l.H,t.h=new Cz,t.g=i$(t.l,n?e:null,!t.s),0<t.N&&(t.L=new YU(Pj(t.La,t,t.g),t.N)),JU(t.S,t.g,"readystatechange",t.ib),e=t.H?mU(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),az(),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function Tz(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function Az(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Rz(t,n),i==xz){4==e&&(t.o=4,cz(14),r=!1),nz(t.j,t.m,null,"[Incomplete Response]");break}if(i==Sz){t.o=4,cz(15),nz(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}nz(t.j,t.m,i,null),Lz(t,i)}Tz(t)&&i!=xz&&i!=Sz&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,cz(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qq(e),e.K=!0,cz(11))):(nz(t.j,t.m,n,"[Invalid Chunked Response]"),Mz(t),Nz(t))}function Rz(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?xz:(n=Number(e.substring(n,i)),isNaN(n)?Sz:(i+=1)+n>e.length?xz:(e=e.substr(i,n),t.C=i+n,e))}function Dz(t){t.V=Date.now()+t.O,Oz(t,t.O)}function Oz(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hz(Pj(t.gb,t),e)}function Pz(t){t.B&&(xj.clearTimeout(t.B),t.B=null)}function Nz(t){0==t.l.G||t.I||Xq(t.l,t)}function Mz(t){Pz(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,KU(t.T),tz(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lz(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||uq(n.h,t)))if(!t.J&&uq(n.h,t)&&3==n.G){try{var i=n.Fa.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Zq(n),Uq(n)}Wq(n),cz(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=hz(Pj(n.cb,n),6e3));if(1>=cq(n.h)&&n.ja){try{n.ja()}catch(c){}n.ja=void 0}}else t$(n,11)}else if((t.J||n.g==t)&&Zq(n),!zj(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const e=c[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const r=c[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.J=i=1.5*u,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hq(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.za=t,$z(i.F,i.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((i=n).sa=n$(i,i.H?i.ka:null,i.V),o.J){dq(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Pz(a),Dz(a)),i.g=o}else Kq(i);0<n.i.length&&qq(n)}else"stop"!=c[0]&&"close"!=c[0]||t$(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?t$(n,7):jq(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}az()}catch(c){}}function Fz(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ij(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(Ij(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Ij(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(wj=wz.prototype).setTimeout=function(t){this.O=t},wj.ib=function(t){t=t.target;const e=this.L;e&&3==Nq(t)?e.l():this.La(t)},wj.La=function(t){try{if(t==this.g)t:{const u=Nq(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||Jj||this.g&&(this.h.h||this.g.fa()||Mq(this.g)))){this.I||4!=u||7==e||az(),Pz(this);var n=this.g.aa();this.Y=n;e:if(Tz(this)){var i=Mq(this.g);t="";var r=i.length,s=4==Nq(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mz(this),Nz(this);var o="";break e}this.h.i=new xj.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zj(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,cz(12),Mz(this),Nz(this);break t}nz(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lz(this,n)}this.P?(Az(this,u,o),Jj&&this.i&&3==u&&(JU(this.S,this.T,"tick",this.hb),this.T.start())):(nz(this.j,this.m,o,null),Lz(this,o)),4==u&&Mz(this),this.i&&!this.I&&(4==u?Xq(this.l,this):(this.i=!1,Dz(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,cz(12)):(this.o=0,cz(13)),Mz(this),Nz(this)}}}catch(u){}},wj.hb=function(){if(this.g){var t=Nq(this.g),e=this.g.fa();this.C<e.length&&(Pz(this),Az(this,t,e),this.i&&4!=t&&Dz(this))}},wj.cancel=function(){this.I=!0,Mz(this)},wj.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(az(),cz(17)),Mz(this),this.o=2,Nz(this)):Oz(this,this.V-t)};var Vz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bz(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bz){this.h=void 0!==e?e:t.h,Uz(this,t.j),this.s=t.s,this.g=t.g,zz(this,t.m),this.l=t.l,e=t.i;var n=new tq;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qz(this,n),this.o=t.o}else t&&(n=String(t).match(Vz))?(this.h=!!e,Uz(this,n[1]||"",!0),this.s=Gz(n[2]||""),this.g=Gz(n[3]||"",!0),zz(this,n[4]),this.l=Gz(n[5]||"",!0),qz(this,n[6]||"",!0),this.o=Gz(n[7]||"")):(this.h=!!e,this.i=new tq(null,this.h))}function jz(t){return new Bz(t)}function Uz(t,e,n){t.j=n?Gz(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zz(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qz(t,e,n){e instanceof tq?(t.i=e,function(t,e){e&&!t.j&&(eq(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nq(this,e),rq(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=Kz(e,Xz)),t.i=new tq(e,t.h))}function $z(t,e,n){t.i.set(e,n)}function Hz(t){return $z(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gz(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kz(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wz(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bz.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kz(e,Qz,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Kz(e,Qz,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kz(n,"/"==n.charAt(0)?Zz:Yz,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kz(n,Jz)),t.join("")};var Qz=/[#\/\?@]/g,Yz=/[#\?:]/g,Zz=/[#\?]/g,Xz=/[#\?@]/g,Jz=/#/g;function tq(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function eq(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nq(t,e){eq(t),e=sq(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iq(t,e){return eq(t),e=sq(t,e),t.g.has(e)}function rq(t,e,n){nq(t,e),0<n.length&&(t.i=null,t.g.set(sq(t,e),Vj(n)),t.h+=n.length)}function sq(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oq(t){this.l=t||aq,t=xj.PerformanceNavigationTiming?0<(t=xj.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(xj.g&&xj.g.Ga&&xj.g.Ga()&&xj.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wj=tq.prototype).add=function(t,e){eq(this),this.i=null,t=sq(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},wj.forEach=function(t,e){eq(this),this.g.forEach(function(n,i){n.forEach(function(n){t.call(e,n,i,this)},this)},this)},wj.oa=function(){eq(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},wj.W=function(t){eq(this);let e=[];if("string"==typeof t)iq(this,t)&&(e=e.concat(this.g.get(sq(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},wj.set=function(t,e){return eq(this),this.i=null,iq(this,t=sq(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},wj.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},wj.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var aq=10;function lq(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cq(t){return t.h?1:t.g?t.g.size:0}function uq(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hq(t,e){t.g?t.g.add(e):t.h=e}function dq(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pq(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Vj(t.i)}function fq(){}function mq(){this.g=new fq}function gq(t,e,n){const i=n||"";try{Fz(t,function(t,n){let r=t;Tj(t)&&(r=LU(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function yq(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function _q(t){this.l=t.ac||null,this.j=t.jb||!1}function vq(t,e){PU.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bq,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oq.prototype.cancel=function(){if(this.i=pq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},fq.prototype.stringify=function(t){return xj.JSON.stringify(t,void 0)},fq.prototype.parse=function(t){return xj.JSON.parse(t,void 0)},Mj(_q,fz),_q.prototype.g=function(){return new vq(this.l,this.j)},_q.prototype.i=function(t){return function(){return t}}({}),Mj(vq,PU);var bq=0;function wq(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Cq(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kq(t)}function kq(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(wj=vq.prototype).open=function(t,e){if(this.readyState!=bq)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kq(this)},wj.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xj).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},wj.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cq(this)),this.readyState=bq},wj.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kq(this)),this.g&&(this.readyState=3,kq(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==xj.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wq(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},wj.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cq(this):kq(this),3==this.readyState&&wq(this)}},wj.Va=function(t){this.g&&(this.response=this.responseText=t,Cq(this))},wj.Ua=function(t){this.g&&(this.response=t,Cq(this))},wj.ga=function(){this.g&&Cq(this)},wj.setRequestHeader=function(t,e){this.v.append(t,e)},wj.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},wj.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vq.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sq=xj.JSON.parse;function xq(t){PU.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Eq,this.K=this.L=!1}Mj(xq,PU);var Eq="",Iq=/^https?$/i,Tq=["POST","PUT"];function Aq(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rq(t),Oq(t)}function Rq(t){t.D||(t.D=!0,NU(t,"complete"),NU(t,"error"))}function Dq(t){if(t.h&&void 0!==Sj&&(!t.C[1]||4!=Nq(t)||2!=t.aa()))if(t.v&&4==Nq(t))WU(t.Ha,0,t);else if(NU(t,"readystatechange"),4==Nq(t)){t.h=!1;try{const a=t.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.H).match(Vz)[1]||null;if(!r&&xj.self&&xj.self.location){var s=xj.self.location.protocol;r=s.substr(0,s.length-1)}i=!Iq.test(r?r.toLowerCase():"")}n=i}if(n)NU(t,"complete"),NU(t,"success");else{t.m=6;try{var o=2<Nq(t)?t.g.statusText:""}catch(Ia){o=""}t.j=o+" ["+t.aa()+"]",Rq(t)}}finally{Oq(t)}}}function Oq(t,e){if(t.g){Pq(t);const i=t.g,r=t.C[0]?Ej:null;t.g=null,t.C=null,e||NU(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function Pq(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xj.clearTimeout(t.A),t.A=null)}function Nq(t){return t.g?t.g.readyState:0}function Mq(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Eq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(b$){return null}}function Lq(t){let e="";return fU(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Fq(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Lq(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$z(t,e,n))}function Vq(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bq(t){this.Ca=0,this.i=[],this.j=new ez,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vq("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vq("baseRetryDelayMs",5e3,t),this.bb=Vq("retryDelaySeedMs",1e4,t),this.$a=Vq("forwardChannelMaxRetries",2,t),this.ta=Vq("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new oq(t&&t.concurrentRequestLimit),this.Fa=new mq,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function jq(t){if(zq(t),3==t.G){var e=t.U++,n=jz(t.F);$z(n,"SID",t.I),$z(n,"RID",e),$z(n,"TYPE","terminate"),Hq(t,n),(e=new wz(t,t.j,e,void 0)).K=2,e.v=Hz(jz(n)),n=!1,xj.navigator&&xj.navigator.sendBeacon&&(n=xj.navigator.sendBeacon(e.v.toString(),"")),!n&&xj.Image&&((new Image).src=e.v,n=!0),n||(e.g=i$(e.l,null),e.g.da(e.v)),e.F=Date.now(),Dz(e)}e$(t)}function Uq(t){t.g&&(Qq(t),t.g.cancel(),t.g=null)}function zq(t){Uq(t),t.u&&(xj.clearTimeout(t.u),t.u=null),Zq(t),t.h.cancel(),t.m&&("number"==typeof t.m&&xj.clearTimeout(t.m),t.m=null)}function qq(t){lq(t.h)||t.m||(t.m=!0,zU(t.Ja,t),t.C=0)}function $q(t,e){var n;n=e?e.m:t.U++;const i=jz(t.F);$z(i,"SID",t.I),$z(i,"RID",n),$z(i,"AID",t.T),Hq(t,i),t.o&&t.s&&Fq(i,t.o,t.s),n=new wz(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Gq(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),hq(t.h,n),Ez(n,i,e)}function Hq(t,e){t.ia&&fU(t.ia,function(t,n){$z(e,n,t)}),t.l&&Fz({},function(t,n){$z(e,n,t)})}function Gq(t,e,n){n=Math.min(t.i.length,n);var i=t.l?Pj(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].h;const l=r[a].g;if(n-=e,0>n)e=Math.max(0,r[a].h-100),o=!1;else try{gq(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function Kq(t){t.g||t.u||(t.Z=1,zU(t.Ia,t),t.A=0)}function Wq(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=hz(Pj(t.Ia,t),Jq(t,t.A)),t.A++,0))}function Qq(t){null!=t.B&&(xj.clearTimeout(t.B),t.B=null)}function Yq(t){t.g=new wz(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=jz(t.sa);$z(e,"RID","rpc"),$z(e,"SID",t.I),$z(e,"CI",t.L?"0":"1"),$z(e,"AID",t.T),$z(e,"TYPE","xmlhttp"),Hq(t,e),t.o&&t.s&&Fq(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Hz(jz(e)),n.s=null,n.P=!0,Iz(n,t)}function Zq(t){null!=t.v&&(xj.clearTimeout(t.v),t.v=null)}function Xq(t,e){var n=null;if(t.g==e){Zq(t),Qq(t),t.g=null;var i=2}else{if(!uq(t.h,e))return;n=e.D,dq(t.h,e),i=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;NU(i=sz(),new uz(i,n)),qq(t)}else Kq(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==i&&function(t,e){return!(cq(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=hz(Pj(t.Ja,t,e),Jq(t,t.C)),t.C++,0)))}(t,e)||2==i&&Wq(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:t$(t,5);break;case 4:t$(t,10);break;case 3:t$(t,6);break;default:t$(t,2)}}function Jq(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function t$(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=Pj(t.kb,t);n||(n=new Bz("//www.google.com/images/cleardot.gif"),xj.location&&"http"==xj.location.protocol||Uz(n,"https"),Hz(n)),function(t,e){const n=new ez;if(xj.Image){const i=new Image;i.onload=Nj(yq,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Nj(yq,n,i,"TestLoadImage: error",!1,e),i.onabort=Nj(yq,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Nj(yq,n,i,"TestLoadImage: timeout",!1,e),xj.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else cz(2);t.G=0,t.l&&t.l.va(e),e$(t),zq(t)}function e$(t){if(t.G=0,t.la=[],t.l){const e=pq(t.h);0==e.length&&0==t.i.length||(Bj(t.la,e),Bj(t.la,t.i),t.h.i.length=0,Vj(t.i),t.i.length=0),t.l.ua()}}function n$(t,e,n){var i=n instanceof Bz?jz(n):new Bz(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),zz(i,i.m);else{var r=xj.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Bz(null,void 0);i&&Uz(s,i),e&&(s.g=e),r&&zz(s,r),n&&(s.l=n),i=s}return e=t.za,(n=t.D)&&e&&$z(i,n,e),$z(i,"VER",t.ma),Hq(t,i),i}function i$(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xq(n&&t.Da&&!t.ra?new _q({jb:!0}):t.ra)).Ka(t.H),e}function r$(){}function s$(){if(Zj&&!(10<=Number(aU)))throw Error("Environmental error: no available transport.")}function o$(t,e){PU.call(this),this.g=new Bq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!zj(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zj(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new c$(this)}function a$(t){_z.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function l$(){vz.call(this),this.status=1}function c$(t){this.g=t}(wj=xq.prototype).Ka=function(t){this.L=t},wj.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gz.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:gz),this.g.onreadystatechange=Pj(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Aq(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),r=xj.FormData&&t instanceof xj.FormData,!(0<=Fj(Tq,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pq(this),0<this.B&&((this.K=function(t){return Zj&&function(t){var e=oU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=qj(String(Wj)).split("."),n=qj("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=$j(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||$j(0==r[2].length,0==s[2].length)||$j(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}()}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pj(this.qa,this)):this.A=WU(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Aq(this,s)}},wj.qa=function(){void 0!==Sj&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,NU(this,"timeout"),this.abort(8))},wj.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,NU(this,"complete"),NU(this,"abort"),Oq(this))},wj.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oq(this,!0)),xq.X.M.call(this)},wj.Ha=function(){this.s||(this.F||this.v||this.l?Dq(this):this.fb())},wj.fb=function(){Dq(this)},wj.aa=function(){try{return 2<Nq(this)?this.g.status:-1}catch(Qj){return-1}},wj.fa=function(){try{return this.g?this.g.responseText:""}catch(Qj){return""}},wj.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sq(e)}},wj.Ea=function(){return this.m},wj.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wj=Bq.prototype).ma=8,wj.G=1,wj.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new wz(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=mU(s),yU(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Gq(this,r,e),$z(n=jz(this.F),"RID",t),$z(n,"CVER",22),this.D&&$z(n,"X-HTTP-Session-Id",this.D),Hq(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Lq(s)))+"&"+e:this.o&&Fq(n,this.o,s)),hq(this.h,r),this.Ya&&$z(n,"TYPE","init"),this.O?($z(n,"$req",e),$z(n,"SID","null"),r.Z=!0,Ez(r,n,null)):Ez(r,n,e),this.G=2}}else 3==this.G&&(t?$q(this,t):0==this.i.length||lq(this.h)||$q(this))},wj.Ia=function(){if(this.u=null,Yq(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=hz(Pj(this.eb,this),t)}},wj.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cz(10),Uq(this),Yq(this))},wj.cb=function(){null!=this.v&&(this.v=null,Uq(this),Wq(this),cz(19))},wj.kb=function(t){t?(this.j.info("Successfully pinged google.com"),cz(2)):(this.j.info("Failed to ping google.com"),cz(1))},(wj=r$.prototype).xa=function(){},wj.wa=function(){},wj.va=function(){},wj.ua=function(){},wj.Ra=function(){},s$.prototype.g=function(t,e){return new o$(t,e)},Mj(o$,PU),o$.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;cz(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=n$(t,null,t.V),qq(t)},o$.prototype.close=function(){jq(this.g)},o$.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=LU(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&qq(e)},o$.prototype.M=function(){this.g.l=null,delete this.j,jq(this.g),delete this.g,o$.X.M.call(this)},Mj(a$,_z),Mj(l$,vz),Mj(c$,r$),c$.prototype.xa=function(){NU(this.g,"a")},c$.prototype.wa=function(t){NU(this.g,new a$(t))},c$.prototype.va=function(t){NU(this.g,new l$)},c$.prototype.ua=function(){NU(this.g,"b")},s$.prototype.createWebChannel=s$.prototype.g,o$.prototype.send=o$.prototype.u,o$.prototype.open=o$.prototype.m,o$.prototype.close=o$.prototype.close,dz.NO_ERROR=0,dz.TIMEOUT=8,dz.HTTP_ERROR=6,pz.COMPLETE="complete",mz.EventType=yz,yz.OPEN="a",yz.CLOSE="b",yz.ERROR="c",yz.MESSAGE="d",PU.prototype.listen=PU.prototype.N,xq.prototype.listenOnce=xq.prototype.O,xq.prototype.getLastError=xq.prototype.Oa,xq.prototype.getLastErrorCode=xq.prototype.Ea,xq.prototype.getStatus=xq.prototype.aa,xq.prototype.getResponseJson=xq.prototype.Sa,xq.prototype.getResponseText=xq.prototype.fa,xq.prototype.send=xq.prototype.da,xq.prototype.setWithCredentials=xq.prototype.Ka;var u$=kj.createWebChannelTransport=function(){return new s$},h$=kj.getStatEventTarget=function(){return sz()},d$=kj.ErrorCode=dz,p$=kj.EventType=pz,f$=kj.Event=iz,m$=kj.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},g$=kj.FetchXmlHttpFactory=_q,y$=kj.WebChannel=mz,_$=kj.XhrIo=xq;const v$="@firebase/firestore";class b${constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}b$.UNAUTHENTICATED=new b$(null),b$.GOOGLE_CREDENTIALS=new b$("google-credentials-uid"),b$.FIRST_PARTY=new b$("first-party-uid"),b$.MOCK_USER=new b$("mock-user");let w$="9.19.0";const C$=new Ly("@firebase/firestore");function k$(){return C$.logLevel}function S$(t,...e){if(C$.logLevel<=Ry.DEBUG){const n=e.map(I$);C$.debug(`Firestore (${w$}): ${t}`,...n)}}function x$(t,...e){if(C$.logLevel<=Ry.ERROR){const n=e.map(I$);C$.error(`Firestore (${w$}): ${t}`,...n)}}function E$(t,...e){if(C$.logLevel<=Ry.WARN){const n=e.map(I$);C$.warn(`Firestore (${w$}): ${t}`,...n)}}function I$(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function T$(t="Unexpected state"){const e=`FIRESTORE (${w$}) INTERNAL ASSERTION FAILED: `+t;throw x$(e),new Error(e)}function A$(t,e){t||T$()}function R$(t,e){return t}const D$={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O$ extends dy{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class P${constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class N${constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(b$.UNAUTHENTICATED))}shutdown(){}}class L${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class F${constructor(t){this.t=t,this.currentUser=b$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let i=this.i;const r=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let s=new P$;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new P$,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const e=s;t.enqueueRetryable(Yg(function*(){yield e.promise,yield r(n.currentUser)}))},a=t=>{S$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(S$("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new P$)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(S$("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(A$("string"==typeof e.accessToken),new N$(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return A$(null===t||"string"==typeof t),new b$(t)}}class V${constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=b$.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class B${constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new V$(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(b$.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U${constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&S$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.T;return this.T=t.token,S$("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{S$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?i(t):S$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(A$("string"==typeof t.token),this.T=t.token,new j$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z$(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class q${static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=z$(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function $$(t,e){return t<e?-1:t>e?1:0}function H$(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}function G$(t){return t+"\0"}class K${constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new O$(D$.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new O$(D$.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new O$(D$.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O$(D$.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return K$.fromMillis(Date.now())}static fromDate(t){return K$.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new K$(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$$(this.nanoseconds,t.nanoseconds):$$(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W${constructor(t){this.timestamp=t}static fromTimestamp(t){return new W$(t)}static min(){return new W$(new K$(0,0))}static max(){return new W$(new K$(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q${constructor(t,e,n){void 0===e?e=0:e>t.length&&T$(),void 0===n?n=t.length-e:n>t.length-e&&T$(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Q$.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Q$?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Y$ extends Q${construct(t,e,n){return new Y$(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new O$(D$.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Y$(e)}static emptyPath(){return new Y$([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class X$ extends Q${construct(t,e,n){return new X$(t,e,n)}static isValidIdentifier(t){return Z$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),X$.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new X$(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new O$(D$.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new O$(D$.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new O$(D$.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new O$(D$.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new X$(e)}static emptyPath(){return new X$([])}}class J${constructor(t){this.path=t}static fromPath(t){return new J$(Y$.fromString(t))}static fromName(t){return new J$(Y$.fromString(t).popFirst(5))}static empty(){return new J$(Y$.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Y$.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Y$.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J$(new Y$(t.slice()))}}class tH{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}function eH(t){return t.fields.find(t=>2===t.kind)}function nH(t){return t.fields.filter(t=>2!==t.kind)}tH.UNKNOWN_ID=-1;class iH{constructor(t,e){this.fieldPath=t,this.kind=e}}class rH{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new rH(0,aH.min())}}function sH(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=W$.fromTimestamp(1e9===i?new K$(n+1,0):new K$(n,i));return new aH(r,J$.empty(),e)}function oH(t){return new aH(t.readTime,t.key,-1)}class aH{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new aH(W$.min(),J$.empty(),-1)}static max(){return new aH(W$.max(),J$.empty(),-1)}}function lH(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J$.comparator(t.documentKey,e.documentKey),0!==n?n:$$(t.largestBatchId,e.largestBatchId))}const cH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function hH(t){return dH.apply(this,arguments)}function dH(){return(dH=Yg(function*(t){if(t.code!==D$.FAILED_PRECONDITION||t.message!==cH)throw t;S$("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class pH{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&T$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pH((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pH?e:pH.resolve(e)}catch(t){return pH.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pH.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pH.reject(e)}static resolve(t){return new pH((e,n)=>{e(t)})}static reject(t){return new pH((e,n)=>{n(t)})}static waitFor(t){return new pH((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=pH.resolve(!1);for(const n of t)e=e.next(t=>t?pH.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}static mapArray(t,e){return new pH((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next(t=>{s[l]=t,++o,o===r&&n(s)},t=>i(t))}})}static doWhile(t,e){return new pH((n,i)=>{const r=()=>{!0===t()?e().next(()=>{r()},i):n()};r()})}}class fH{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new P$,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new yH(t,e.error)):this.R.resolve()},this.transaction.onerror=e=>{const n=CH(e.target.error);this.R.reject(new yH(t,n))}}static open(t,e,n,i){try{return new fH(e,t.transaction(i,n))}catch(t){throw new yH(e,t)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(S$("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new vH(e)}}class mH{constructor(t,e,n){this.name=t,this.version=e,this.V=n,12.2===mH.S(ay())&&x$("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return S$("SimpleDb","Removing database:",t),bH(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!cy())return!1;if(mH.C())return!0;const t=ay(),e=mH.S(t),n=0<e&&e<10,i=mH.N(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static O(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}$(t){var e=this;return Yg(function*(){return e.db||(S$("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,i)=>{const r=indexedDB.open(e.name,e.version);r.onsuccess=t=>{n(t.target.result)},r.onblocked=()=>{i(new yH(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const n=e.target.error;i("VersionError"===n.name?new O$(D$.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new O$(D$.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new yH(t,n))},r.onupgradeneeded=t=>{S$("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.V.M(t.target.result,r.transaction,t.oldVersion,e.version).next(()=>{S$("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=t=>e.F(t)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,i){var r=this;return Yg(function*(){const s="readonly"===e;let o=0;for(;;){++o;try{r.db=yield r.$(t);const e=fH.open(r.db,t,s?"readonly":"readwrite",n),o=i(e).next(t=>(e.P(),t)).catch(t=>(e.abort(t),pH.reject(t))).toPromise();return o.catch(()=>{}),yield e.v,o}catch(t){const n=t,i="FirebaseError"!==n.name&&o<3;if(S$("SimpleDb","Transaction failed with error:",n.message,"Retrying:",i),r.close(),!i)return Promise.reject(n)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gH{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return bH(this.L.delete())}}class yH extends O${constructor(t,e){super(D$.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function _H(t){return"IndexedDbTransactionError"===t.name}class vH{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(S$("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(S$("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bH(n)}add(t){return S$("SimpleDb","ADD",this.store.name,t,t),bH(this.store.add(t))}get(t){return bH(this.store.get(t)).next(e=>(void 0===e&&(e=null),S$("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return S$("SimpleDb","DELETE",this.store.name,t),bH(this.store.delete(t))}count(){return S$("SimpleDb","COUNT",this.store.name),bH(this.store.count())}j(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.W(t,(t,n)=>{e.push(n)}).next(()=>e)}{const t=this.store.getAll(n.range);return new pH((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}})}}H(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new pH((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}})}J(t,e){S$("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.Y=!1;const i=this.cursor(n);return this.W(i,(t,e,n)=>n.delete())}Z(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.W(i,e)}X(t){const e=this.cursor({});return new pH((n,i)=>{e.onerror=t=>{const e=CH(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next(t=>{t?i.continue():n()}):n()}})}W(t,e){const n=[];return new pH((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new gH(r),o=e(r.primaryKey,r.value,s);if(o instanceof pH){const t=o.catch(t=>(s.done(),pH.reject(t)));n.push(t)}s.isDone?i():null===s.K?r.continue():r.continue(s.K)}}).next(()=>pH.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.Y?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function bH(t){return new pH((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=CH(t.target.error);n(e)}})}let wH=!1;function CH(t){const e=mH.S(ay());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new O$("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wH||(wH=!0,setTimeout(()=>{throw t},0)),t}}return t}class kH{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;S$("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,Yg(function*(){e.task=null;try{S$("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(t){_H(t)?S$("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):yield hH(t)}yield e.et(6e4)}))}}class SH{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return Yg(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.st(n,t))})()}st(t,e){const n=new Set;let i=e,r=!0;return pH.doWhile(()=>!0===r&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(e=>{if(null!==e&&!n.has(e))return S$("IndexBackiller",`Processing collection: ${e}`),this.it(t,e,i).next(t=>{i-=t,n.add(e)});r=!1})).next(()=>e-i)}it(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,n).next(n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(t,r).next(()=>this.rt(i,n)).next(n=>(S$("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(t,e,n))).next(()=>r.size)}))}rt(t,e){let n=t;return e.changes.forEach((t,e)=>{const i=oH(e);lH(i,n)>0&&(n=i)}),new aH(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}let xH=(()=>{class t{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return t.ct=-1,t})();function EH(t){return null==t}function IH(t){return 0===t&&1/t==-1/0}function TH(t){return"number"==typeof t&&Number.isInteger(t)&&!IH(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function AH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DH(e)),e=RH(t.get(n),e);return DH(e)}function RH(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function DH(t){return t+"\x01\x01"}function OH(t){const e=t.length;if(A$(e>=2),2===e)return A$("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Y$.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&T$(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=t.substring(s,e),r+="\0";break;case"\x11":r+=t.substring(s,e+1);break;default:T$()}s=e+2}return new Y$(i)}const PH=["userId","batchId"];function NH(t,e){return[t,AH(e)]}function MH(t,e,n){return[t,AH(e),n]}const LH={},FH=["prefixPath","collectionGroup","readTime","documentId"],VH=["prefixPath","collectionGroup","documentId"],BH=["collectionGroup","readTime","prefixPath","documentId"],jH=["canonicalId","targetId"],UH=["targetId","path"],zH=["path","targetId"],qH=["collectionId","parent"],$H=["indexId","uid"],HH=["uid","sequenceNumber"],GH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KH=["indexId","uid","orderedDocumentKey"],WH=["userId","collectionPath","documentId"],QH=["userId","collectionPath","largestBatchId"],YH=["userId","collectionGroup","largestBatchId"],ZH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XH=[...ZH,"documentOverlays"],JH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tG=JH,eG=[...tG,"indexConfiguration","indexState","indexEntries"];class nG extends uH{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function iG(t,e){const n=R$(t);return mH.O(n.at,e)}function rG(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sG(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class aG{constructor(t,e){this.comparator=t,this.root=e||cG.EMPTY}insert(t,e){return new aG(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,cG.BLACK,null,null))}remove(t){return new aG(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cG.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lG(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lG(this.root,t,this.comparator,!1)}getReverseIterator(){return new lG(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lG(this.root,t,this.comparator,!0)}}class lG{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cG{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:cG.RED,this.left=null!=i?i:cG.EMPTY,this.right=null!=r?r:cG.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new cG(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cG.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return cG.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cG.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cG.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw T$();if(this.right.isRed())throw T$();const t=this.left.check();if(t!==this.right.check())throw T$();return t+(this.isRed()?0:1)}}cG.EMPTY=null,cG.RED=!0,cG.BLACK=!1,cG.EMPTY=new class{constructor(){this.size=0}get key(){throw T$()}get value(){throw T$()}get color(){throw T$()}get left(){throw T$()}get right(){throw T$()}copy(t,e,n,i,r){return this}insert(t,e,n){return new cG(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uG{constructor(t){this.comparator=t,this.data=new aG(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hG(this.data.getIterator())}getIteratorFrom(t){return new hG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof uG))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new uG(this.comparator);return e.data=t,e}}class hG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dG(t){return t.hasNext()?t.getNext():void 0}class pG{constructor(t){this.fields=t,t.sort(X$.comparator)}static empty(){return new pG([])}unionWith(t){let e=new uG(X$.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new pG(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return H$(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class fG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}let mG=(()=>{class t{constructor(t){this.binaryString=t}static fromBase64String(e){const n=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new fG("Invalid base64 string: "+t):t}}(e);return new t(n)}static fromUint8Array(e){const n=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $$(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}return t.EMPTY_BYTE_STRING=new t(""),t})();const gG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yG(t){if(A$(!!t),"string"==typeof t){let e=0;const n=gG.exec(t);if(A$(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_G(t.seconds),nanos:_G(t.nanos)}}function _G(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vG(t){return"string"==typeof t?mG.fromBase64String(t):mG.fromUint8Array(t)}function bG(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wG(t){const e=t.mapValue.fields.__previous_value__;return bG(e)?wG(e):e}function CG(t){const e=yG(t.mapValue.fields.__local_write_time__.timestampValue);return new K$(e.seconds,e.nanos)}class kG{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class SG{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new SG("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof SG&&t.projectId===this.projectId&&t.database===this.database}}const xG={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},EG={nullValue:"NULL_VALUE"};function IG(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bG(t)?4:UG(t)?9007199254740991:10:T$()}function TG(t,e){if(t===e)return!0;const n=IG(t);if(n!==IG(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return CG(t).isEqual(CG(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=yG(t.timestampValue),i=yG(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return vG(t.bytesValue).isEqual(vG(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return _G(t.geoPointValue.latitude)===_G(e.geoPointValue.latitude)&&_G(t.geoPointValue.longitude)===_G(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return _G(t.integerValue)===_G(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=_G(t.doubleValue),i=_G(e.doubleValue);return n===i?IH(n)===IH(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return H$(t.arrayValue.values||[],e.arrayValue.values||[],TG);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(rG(n)!==rG(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!TG(n[r],i[r])))return!1;return!0}(t,e);default:return T$()}}function AG(t,e){return void 0!==(t.values||[]).find(t=>TG(t,e))}function RG(t,e){if(t===e)return 0;const n=IG(t),i=IG(e);if(n!==i)return $$(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $$(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=_G(t.integerValue||t.doubleValue),i=_G(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return DG(t.timestampValue,e.timestampValue);case 4:return DG(CG(t),CG(e));case 5:return $$(t.stringValue,e.stringValue);case 6:return function(t,e){const n=vG(t),i=vG(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=$$(n[r],i[r]);if(0!==t)return t}return $$(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=$$(_G(t.latitude),_G(e.latitude));return 0!==n?n:$$(_G(t.longitude),_G(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=RG(n[r],i[r]);if(t)return t}return $$(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===xG.mapValue&&e===xG.mapValue)return 0;if(t===xG.mapValue)return 1;if(e===xG.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=$$(i[o],s[o]);if(0!==t)return t;const e=RG(n[i[o]],r[s[o]]);if(0!==e)return e}return $$(i.length,s.length)}(t.mapValue,e.mapValue);default:throw T$()}}function DG(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $$(t,e);const n=yG(t),i=yG(e),r=$$(n.seconds,i.seconds);return 0!==r?r:$$(n.nanos,i.nanos)}function OG(t){return PG(t)}function PG(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=yG(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vG(t.bytesValue).toBase64():"referenceValue"in t?J$.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=PG(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${PG(t.fields[r])}`;return n+"}"}(t.mapValue):T$();var e}function NG(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function MG(t){return!!t&&"integerValue"in t}function LG(t){return!!t&&"arrayValue"in t}function FG(t){return!!t&&"nullValue"in t}function VG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function BG(t){return!!t&&"mapValue"in t}function jG(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sG(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=jG(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jG(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UG(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function zG(t){return"nullValue"in t?EG:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?NG(SG.empty(),J$.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:T$()}function qG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?NG(SG.empty(),J$.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?xG:T$()}function $G(t,e){const n=RG(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function HG(t,e){const n=RG(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class GG{constructor(t){this.value=t}static empty(){return new GG({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!BG(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jG(e)}setAll(t){let e=X$.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=jG(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());BG(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return TG(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];BG(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){sG(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new GG(jG(this.value))}}function KG(t){const e=[];return sG(t.fields,(t,n)=>{const i=new X$([t]);if(BG(n)){const t=KG(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new pG(e)}class WG{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new WG(t,0,W$.min(),W$.min(),W$.min(),GG.empty(),0)}static newFoundDocument(t,e,n,i){return new WG(t,1,e,W$.min(),n,i,0)}static newNoDocument(t,e){return new WG(t,2,e,W$.min(),W$.min(),GG.empty(),0)}static newUnknownDocument(t,e){return new WG(t,3,e,W$.min(),W$.min(),GG.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(W$.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=GG.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=GG.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof WG&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new WG(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class QG{constructor(t,e){this.position=t,this.inclusive=e}}function YG(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?J$.comparator(J$.fromName(o.referenceValue),n.key):RG(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ZG(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!TG(t.position[n],e.position[n]))return!1;return!0}class XG{constructor(t,e="asc"){this.field=t,this.dir=e}}function JG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class tK{}class eK extends tK{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new hK(t,e,n):"array-contains"===e?new mK(t,n):"in"===e?new gK(t,n):"not-in"===e?new yK(t,n):"array-contains-any"===e?new _K(t,n):new eK(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new dK(t,n):new pK(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(RG(e,this.value)):null!==e&&IG(this.value)===IG(e)&&this.matchesComparison(RG(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return T$()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nK extends tK{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new nK(t,e)}matches(t){return iK(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(t=>t.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function iK(t){return"and"===t.op}function rK(t){return"or"===t.op}function sK(t){return oK(t)&&iK(t)}function oK(t){for(const e of t.filters)if(e instanceof nK)return!1;return!0}function aK(t){if(t instanceof eK)return t.field.canonicalString()+t.op.toString()+OG(t.value);if(sK(t))return t.filters.map(t=>aK(t)).join(",");{const e=t.filters.map(t=>aK(t)).join(",");return`${t.op}(${e})`}}function lK(t,e){return t instanceof eK?function(t,e){return e instanceof eK&&t.op===e.op&&t.field.isEqual(e.field)&&TG(t.value,e.value)}(t,e):t instanceof nK?function(t,e){return e instanceof nK&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,i)=>t&&lK(n,e.filters[i]),!0)}(t,e):void T$()}function cK(t,e){const n=t.filters.concat(e);return nK.create(n,t.op)}function uK(t){return t instanceof eK?function(t){return`${t.field.canonicalString()} ${t.op} ${OG(t.value)}`}(t):t instanceof nK?function(t){return t.op.toString()+" {"+t.getFilters().map(uK).join(" ,")+"}"}(t):"Filter"}class hK extends eK{constructor(t,e,n){super(t,e,n),this.key=J$.fromName(n.referenceValue)}matches(t){const e=J$.comparator(t.key,this.key);return this.matchesComparison(e)}}class dK extends eK{constructor(t,e){super(t,"in",e),this.keys=fK(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class pK extends eK{constructor(t,e){super(t,"not-in",e),this.keys=fK(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function fK(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>J$.fromName(t.referenceValue))}class mK extends eK{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return LG(e)&&AG(e.arrayValue,this.value)}}class gK extends eK{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&AG(this.value.arrayValue,e)}}class yK extends eK{constructor(t,e){super(t,"not-in",e)}matches(t){if(AG(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!AG(this.value.arrayValue,e)}}class _K extends eK{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!LG(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>AG(this.value.arrayValue,t))}}class vK{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function bK(t,e=null,n=[],i=[],r=null,s=null,o=null){return new vK(t,e,n,i,r,s,o)}function wK(t){const e=R$(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>aK(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),EH(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>OG(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>OG(t)).join(",")),e.ft=t}return e.ft}function CK(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lK(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZG(t.startAt,e.startAt)&&ZG(t.endAt,e.endAt)}function kK(t){return J$.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function SK(t,e){return t.filters.filter(t=>t instanceof eK&&t.field.isEqual(e))}function xK(t,e,n){let i=EG,r=!0;for(const s of SK(t,e)){let t=EG,e=!0;switch(s.op){case"<":case"<=":t=zG(s.value);break;case"==":case"in":case">=":t=s.value;break;case">":t=s.value,e=!1;break;case"!=":case"not-in":t=EG}$G({value:i,inclusive:r},{value:t,inclusive:e})<0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];$G({value:i,inclusive:r},{value:t,inclusive:n.inclusive})<0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}function EK(t,e,n){let i=xG,r=!0;for(const s of SK(t,e)){let t=xG,e=!0;switch(s.op){case">=":case">":t=qG(s.value),e=!1;break;case"==":case"in":case"<=":t=s.value;break;case"<":t=s.value,e=!1;break;case"!=":case"not-in":t=xG}HG({value:i,inclusive:r},{value:t,inclusive:e})>0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];HG({value:i,inclusive:r},{value:t,inclusive:n.inclusive})>0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}class IK{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this.wt=null}}function TK(t,e,n,i,r,s,o,a){return new IK(t,e,n,i,r,s,o,a)}function AK(t){return new IK(t)}function RK(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function DK(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function OK(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function PK(t){return null!==t.collectionGroup}function NK(t){const e=R$(t);if(null===e.dt){e.dt=[];const t=OK(e),n=DK(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new XG(t)),e.dt.push(new XG(X$.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new XG(X$.keyField(),t))}}}return e.dt}function MK(t){const e=R$(t);if(!e.wt)if("F"===e.limitType)e.wt=bK(e.path,e.collectionGroup,NK(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of NK(e))t.push(new XG(r.field,"desc"===r.dir?"asc":"desc"));const n=e.endAt?new QG(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new QG(e.startAt.position,e.startAt.inclusive):null;e.wt=bK(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.wt}function LK(t,e){e.getFirstInequalityField(),OK(t);const n=t.filters.concat([e]);return new IK(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function FK(t,e,n){return new IK(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function VK(t,e){return CK(MK(t),MK(e))&&t.limitType===e.limitType}function BK(t){return`${wK(MK(t))}|lt:${t.limitType}`}function jK(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>uK(t)).join(", ")}]`),EH(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>OG(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>OG(t)).join(",")),`Target(${e})`}(MK(t))}; limitType=${t.limitType})`}function UK(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):J$.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of NK(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=YG(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,NK(t),e)||t.endAt&&!function(t,e,n){const i=YG(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,NK(t),e))}(t,e)}function zK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qK(t){return(e,n)=>{let i=!1;for(const r of NK(t)){const t=$K(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function $K(t,e,n){const i=t.field.isKeyField()?J$.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?RG(i,r):T$()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return T$()}}class HK{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){sG(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return oG(this.inner)}size(){return this.innerSize}}const GK=new aG(J$.comparator);function KK(){return GK}const WK=new aG(J$.comparator);function QK(...t){let e=WK;for(const n of t)e=e.insert(n.key,n);return e}function YK(t){let e=WK;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ZK(){return JK()}function XK(){return JK()}function JK(){return new HK(t=>t.toString(),(t,e)=>t.isEqual(e))}const tW=new aG(J$.comparator),eW=new uG(J$.comparator);function nW(...t){let e=eW;for(const n of t)e=e.add(n);return e}const iW=new uG($$);function rW(){return iW}function sW(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:IH(e)?"-0":e}}function oW(t){return{integerValue:""+t}}function aW(t,e){return TH(e)?oW(e):sW(t,e)}class lW{constructor(){this._=void 0}}function cW(t,e,n){return t instanceof dW?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof pW?fW(t,e):t instanceof mW?gW(t,e):function(t,e){const n=hW(t,e),i=_W(n)+_W(t._t);return MG(n)&&MG(t._t)?oW(i):sW(t.serializer,i)}(t,e)}function uW(t,e,n){return t instanceof pW?fW(t,e):t instanceof mW?gW(t,e):n}function hW(t,e){return t instanceof yW?MG(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class dW extends lW{}class pW extends lW{constructor(t){super(),this.elements=t}}function fW(t,e){const n=vW(e);for(const i of t.elements)n.some(t=>TG(t,i))||n.push(i);return{arrayValue:{values:n}}}class mW extends lW{constructor(t){super(),this.elements=t}}function gW(t,e){let n=vW(e);for(const i of t.elements)n=n.filter(t=>!TG(t,i));return{arrayValue:{values:n}}}class yW extends lW{constructor(t,e){super(),this.serializer=t,this._t=e}}function _W(t){return _G(t.integerValue||t.doubleValue)}function vW(t){return LG(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bW{constructor(t,e){this.field=t,this.transform=e}}class wW{constructor(t,e){this.version=t,this.transformResults=e}}class CW{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new CW}static exists(t){return new CW(void 0,t)}static updateTime(t){return new CW(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kW(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class SW{}function xW(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new MW(t.key,CW.none()):new RW(t.key,t.data,CW.none());{const n=t.data,i=GG.empty();let r=new uG(X$.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new DW(t.key,i,new pG(r.toArray()),CW.none())}}function EW(t,e,n){t instanceof RW?function(t,e,n){const i=t.value.clone(),r=PW(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof DW?function(t,e,n){if(!kW(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=PW(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(OW(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function IW(t,e,n,i){return t instanceof RW?function(t,e,n,i){if(!kW(t.precondition,e))return n;const r=t.value.clone(),s=NW(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof DW?function(t,e,n,i){if(!kW(t.precondition,e))return n;const r=NW(t.fieldTransforms,i,e),s=e.data;return s.setAll(OW(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,i):function(t,e,n){return kW(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function TW(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=hW(i.transform,t||null);null!=r&&(null===n&&(n=GG.empty()),n.set(i.field,r))}return n||null}function AW(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&H$(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof pW&&e instanceof pW||t instanceof mW&&e instanceof mW?H$(t.elements,e.elements,TG):t instanceof yW&&e instanceof yW?TG(t._t,e._t):t instanceof dW&&e instanceof dW}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class RW extends SW{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class DW extends SW{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function OW(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function PW(t,e,n){const i=new Map;A$(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,uW(o,a,n[r]))}return i}function NW(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,cW(t,s,e))}return i}class MW extends SW{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LW extends SW{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FW{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&EW(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=IW(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=IW(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=XK();return this.mutations.forEach(i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=xW(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(W$.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),nW())}isEqual(t){return this.batchId===t.batchId&&H$(this.mutations,t.mutations,(t,e)=>AW(t,e))&&H$(this.baseMutations,t.baseMutations,(t,e)=>AW(t,e))}}class VW{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){A$(t.mutations.length===n.length);let i=tW;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new VW(t,e,n,i)}}class BW{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jW{constructor(t){this.count=t}}var UW,zW;function qW(t){switch(t){default:return T$();case D$.CANCELLED:case D$.UNKNOWN:case D$.DEADLINE_EXCEEDED:case D$.RESOURCE_EXHAUSTED:case D$.INTERNAL:case D$.UNAVAILABLE:case D$.UNAUTHENTICATED:return!1;case D$.INVALID_ARGUMENT:case D$.NOT_FOUND:case D$.ALREADY_EXISTS:case D$.PERMISSION_DENIED:case D$.FAILED_PRECONDITION:case D$.ABORTED:case D$.OUT_OF_RANGE:case D$.UNIMPLEMENTED:case D$.DATA_LOSS:return!0}}function $W(t){if(void 0===t)return x$("GRPC error has no .code"),D$.UNKNOWN;switch(t){case UW.OK:return D$.OK;case UW.CANCELLED:return D$.CANCELLED;case UW.UNKNOWN:return D$.UNKNOWN;case UW.DEADLINE_EXCEEDED:return D$.DEADLINE_EXCEEDED;case UW.RESOURCE_EXHAUSTED:return D$.RESOURCE_EXHAUSTED;case UW.INTERNAL:return D$.INTERNAL;case UW.UNAVAILABLE:return D$.UNAVAILABLE;case UW.UNAUTHENTICATED:return D$.UNAUTHENTICATED;case UW.INVALID_ARGUMENT:return D$.INVALID_ARGUMENT;case UW.NOT_FOUND:return D$.NOT_FOUND;case UW.ALREADY_EXISTS:return D$.ALREADY_EXISTS;case UW.PERMISSION_DENIED:return D$.PERMISSION_DENIED;case UW.FAILED_PRECONDITION:return D$.FAILED_PRECONDITION;case UW.ABORTED:return D$.ABORTED;case UW.OUT_OF_RANGE:return D$.OUT_OF_RANGE;case UW.UNIMPLEMENTED:return D$.UNIMPLEMENTED;case UW.DATA_LOSS:return D$.DATA_LOSS;default:return T$()}}(zW=UW||(UW={}))[zW.OK=0]="OK",zW[zW.CANCELLED=1]="CANCELLED",zW[zW.UNKNOWN=2]="UNKNOWN",zW[zW.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zW[zW.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zW[zW.NOT_FOUND=5]="NOT_FOUND",zW[zW.ALREADY_EXISTS=6]="ALREADY_EXISTS",zW[zW.PERMISSION_DENIED=7]="PERMISSION_DENIED",zW[zW.UNAUTHENTICATED=16]="UNAUTHENTICATED",zW[zW.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zW[zW.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zW[zW.ABORTED=10]="ABORTED",zW[zW.OUT_OF_RANGE=11]="OUT_OF_RANGE",zW[zW.UNIMPLEMENTED=12]="UNIMPLEMENTED",zW[zW.INTERNAL=13]="INTERNAL",zW[zW.UNAVAILABLE=14]="UNAVAILABLE",zW[zW.DATA_LOSS=15]="DATA_LOSS";class HW{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return GW}static getOrCreateInstance(){return null===GW&&(GW=new HW),GW}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let GW=null;class KW{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,WW.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new KW(W$.min(),i,rW(),KK(),nW())}}class WW{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new WW(n,e,nW(),nW(),nW())}}class QW{constructor(t,e,n,i){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=i}}class YW{constructor(t,e){this.targetId=t,this.Et=e}}class ZW{constructor(t,e,n=mG.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class XW{constructor(){this.At=0,this.Rt=eQ(),this.vt=mG.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=nW(),e=nW(),n=nW();return this.Rt.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:T$()}}),new WW(this.vt,this.bt,t,e,n)}xt(){this.Pt=!1,this.Rt=eQ()}Nt(t,e){this.Pt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class JW{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=KK(),this.qt=tQ(),this.Ut=new uG($$)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}zt(t){this.forEachTarget(t,e=>{const n=this.jt(e);switch(t.state){case 0:this.Wt(e)&&n.Dt(t.resumeToken);break;case 1:n.$t(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.$t(),n.Vt||this.removeTarget(e);break;case 3:this.Wt(e)&&(n.Mt(),n.Dt(t.resumeToken));break;case 4:this.Wt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:T$()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((t,n)=>{this.Wt(n)&&e(n)})}Jt(t){var e;const n=t.targetId,i=t.Et.count,r=this.Yt(n);if(r){const s=r.target;if(kK(s))if(0===i){const t=new J$(s.path);this.Qt(n,t,WG.newNoDocument(t,W$.min()))}else A$(1===i);else{const r=this.Zt(n);r!==i&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(e=HW.instance)||void 0===e||e.notifyOnExistenceFilterMismatch({localCacheCount:r,existenceFilterCount:t.Et.count}))}}}Xt(t){const e=new Map;this.Bt.forEach((n,i)=>{const r=this.Yt(i);if(r){if(n.current&&kK(r.target)){const e=new J$(r.target.path);null!==this.Lt.get(e)||this.te(i,e)||this.Qt(i,e,WG.newNoDocument(e,t))}n.St&&(e.set(i,n.Ct()),n.xt())}});let n=nW();this.qt.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.Yt(t);return!e||2===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.Lt.forEach((e,n)=>n.setReadTime(t));const i=new KW(t,e,this.Ut,this.Lt,n);return this.Lt=KK(),this.qt=tQ(),this.Ut=new uG($$),i}Gt(t,e){if(!this.Wt(t))return;const n=this.te(t,e.key)?2:0;this.jt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,e)?i.Nt(e,1):i.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Zt(t){const e=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let e=this.Bt.get(t);return e||(e=new XW,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new uG($$),this.qt=this.qt.insert(t,e)),e}Wt(t){const e=null!==this.Yt(t);return e||S$("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new XW),this.Ft.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.Ft.getRemoteKeysForTarget(t).has(e)}}function tQ(){return new aG(J$.comparator)}function eQ(){return new aG(J$.comparator)}const nQ={asc:"ASCENDING",desc:"DESCENDING"},iQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rQ={and:"AND",or:"OR"};class sQ{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function oQ(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lQ(t,e){return oQ(t,e.toTimestamp())}function cQ(t){return A$(!!t),W$.fromTimestamp(function(t){const e=yG(t);return new K$(e.seconds,e.nanos)}(t))}function uQ(t,e){return function(t){return new Y$(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function hQ(t){const e=Y$.fromString(t);return A$(PQ(e)),e}function dQ(t,e){return uQ(t.databaseId,e.path)}function pQ(t,e){const n=hQ(e);if(n.get(1)!==t.databaseId.projectId)throw new O$(D$.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O$(D$.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J$(yQ(n))}function fQ(t,e){return uQ(t.databaseId,e)}function mQ(t){const e=hQ(t);return 4===e.length?Y$.emptyPath():yQ(e)}function gQ(t){return new Y$(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yQ(t){return A$(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _Q(t,e,n){return{name:dQ(t,e),fields:n.value.mapValue.fields}}function vQ(t,e,n){const i=pQ(t,e.name),r=cQ(e.updateTime),s=e.createTime?cQ(e.createTime):W$.min(),o=new GG({mapValue:{fields:e.fields}}),a=WG.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bQ(t,e){let n;if(e instanceof RW)n={update:_Q(t,e.key,e.value)};else if(e instanceof MW)n={delete:dQ(t,e.key)};else if(e instanceof DW)n={update:_Q(t,e.key,e.data),updateMask:OQ(e.fieldMask)};else{if(!(e instanceof LW))return T$();n={verify:dQ(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof dW)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pW)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mW)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yW)return{fieldPath:e.field.canonicalString(),increment:n._t};throw T$()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:lQ(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:T$()}(t,e.precondition)),n}function wQ(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?CW.updateTime(cQ(t.updateTime)):void 0!==t.exists?CW.exists(t.exists):CW.none()}(e.currentDocument):CW.none(),i=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(A$("REQUEST_TIME"===e.setToServerValue),n=new dW):"appendMissingElements"in e?n=new pW(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new mW(e.removeAllFromArray.values||[]):"increment"in e?n=new yW(t,e.increment):T$();const i=X$.fromServerFormat(e.fieldPath);return new bW(i,n)}(t,e)):[];if(e.update){const r=pQ(t,e.update.name),s=new GG({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){return new pG((t.fieldPaths||[]).map(t=>X$.fromServerFormat(t)))}(e.updateMask);return new DW(r,s,t,n,i)}return new RW(r,s,n,i)}if(e.delete){const i=pQ(t,e.delete);return new MW(i,n)}if(e.verify){const i=pQ(t,e.verify);return new LW(i,n)}return T$()}function CQ(t,e){return{documents:[fQ(t,e.path)]}}function kQ(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=fQ(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fQ(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return DQ(nK.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:AQ(t.field),direction:EQ(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.useProto3Json||EH(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function SQ(t){let e=mQ(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){A$(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=xQ(t);return e instanceof nK&&sK(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new XG(RQ(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,EH(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){return new QG(t.values||[],!!t.before)}(n.startAt));let c=null;return n.endAt&&(c=function(t){return new QG(t.values||[],!t.before)}(n.endAt)),TK(e,r,o,s,a,"F",l,c)}function xQ(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=RQ(t.unaryFilter.field);return eK.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=RQ(t.unaryFilter.field);return eK.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=RQ(t.unaryFilter.field);return eK.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=RQ(t.unaryFilter.field);return eK.create(r,"!=",{nullValue:"NULL_VALUE"});default:return T$()}}(t):void 0!==t.fieldFilter?function(t){return eK.create(RQ(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return T$()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return nK.create(t.compositeFilter.filters.map(t=>xQ(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return T$()}}(t.compositeFilter.op))}(t):T$()}function EQ(t){return nQ[t]}function IQ(t){return iQ[t]}function TQ(t){return rQ[t]}function AQ(t){return{fieldPath:t.canonicalString()}}function RQ(t){return X$.fromServerFormat(t.fieldPath)}function DQ(t){return t instanceof eK?function(t){if("=="===t.op){if(VG(t.value))return{unaryFilter:{field:AQ(t.field),op:"IS_NAN"}};if(FG(t.value))return{unaryFilter:{field:AQ(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(VG(t.value))return{unaryFilter:{field:AQ(t.field),op:"IS_NOT_NAN"}};if(FG(t.value))return{unaryFilter:{field:AQ(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:AQ(t.field),op:IQ(t.op),value:t.value}}}(t):t instanceof nK?function(t){const e=t.getFilters().map(t=>DQ(t));return 1===e.length?e[0]:{compositeFilter:{op:TQ(t.op),filters:e}}}(t):T$()}function OQ(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PQ(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class NQ{constructor(t,e,n,i,r=W$.min(),s=W$.min(),o=mG.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new NQ(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new NQ(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new NQ(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class MQ{constructor(t){this.se=t}}function LQ(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:FQ(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(t,e){return{name:dQ(t,e.key),fields:e.data.value.mapValue.fields,updateTime:oQ(t,e.version.toTimestamp()),createTime:oQ(t,e.createTime.toTimestamp())}}(t.se,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:VQ(e.version)};else{if(!e.isUnknownDocument())return T$();i.unknownDocument={path:n.path.toArray(),version:VQ(e.version)}}return i}function FQ(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function VQ(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function BQ(t){const e=new K$(t.seconds,t.nanoseconds);return W$.fromTimestamp(e)}function jQ(t,e){const n=(e.baseMutations||[]).map(e=>wQ(t.se,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(e=>wQ(t.se,e)),r=K$.fromMillis(e.localWriteTimeMs);return new FW(e.batchId,r,n,i)}function UQ(t){const e=BQ(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?BQ(t.lastLimboFreeSnapshotVersion):W$.min();let i;var r;return void 0!==t.query.documents?(A$(1===(r=t.query).documents.length),i=MK(AK(mQ(r.documents[0])))):i=function(t){return MK(SQ(t))}(t.query),new NQ(i,t.targetId,0,t.lastListenSequenceNumber,e,n,mG.fromBase64String(t.resumeToken))}function zQ(t,e){const n=VQ(e.snapshotVersion),i=VQ(e.lastLimboFreeSnapshotVersion);let r;r=kK(e.target)?CQ(t.se,e.target):kQ(t.se,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wK(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function qQ(t){const e=SQ({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?FK(e,e.limit,"L"):e}function $Q(t,e){return new BW(e.largestBatchId,wQ(t.se,e.overlayMutation))}function HQ(t,e){const n=e.path.lastSegment();return[t,AH(e.path.popLast()),n]}function GQ(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:VQ(i.readTime),documentKey:AH(i.documentKey.path),largestBatchId:i.largestBatchId}}class KQ{getBundleMetadata(t,e){return WQ(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:BQ(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return WQ(t).put({bundleId:(n=e).id,createTime:VQ(cQ(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return QQ(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:qQ(e.bundledQuery),readTime:BQ(e.readTime)};var e})}saveNamedQuery(t,e){return QQ(t).put(function(t){return{name:t.name,readTime:VQ(cQ(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function WQ(t){return iG(t,"bundles")}function QQ(t){return iG(t,"namedQueries")}class YQ{constructor(t,e){this.serializer=t,this.userId=e}static ie(t,e){return new YQ(t,e.uid||"")}getOverlay(t,e){return ZQ(t).get(HQ(this.userId,e)).next(t=>t?$Q(this.serializer,t):null)}getOverlays(t,e){const n=ZK();return pH.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){const i=[];return n.forEach((n,r)=>{const s=new BW(e,r);i.push(this.re(t,s))}),pH.waitFor(i)}removeOverlaysForBatchId(t,e,n){const i=new Set;e.forEach(t=>i.add(AH(t.getCollectionPath())));const r=[];return i.forEach(e=>{const i=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);r.push(ZQ(t).J("collectionPathOverlayIndex",i))}),pH.waitFor(r)}getOverlaysForCollection(t,e,n){const i=ZK(),r=AH(e),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ZQ(t).j("collectionPathOverlayIndex",s).next(t=>{for(const e of t){const t=$Q(this.serializer,e);i.set(t.getKey(),t)}return i})}getOverlaysForCollectionGroup(t,e,n,i){const r=ZK();let s;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ZQ(t).Z({index:"collectionGroupOverlayIndex",range:o},(t,e,n)=>{const o=$Q(this.serializer,e);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>r)}re(t,e){return ZQ(t).put(function(t,e,n){const[i,r,s]=HQ(e,n.mutation.key);return{userId:e,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bQ(t.se,n.mutation)}}(this.serializer,this.userId,e))}}function ZQ(t){return iG(t,"documentOverlays")}let XQ=(()=>{class t{constructor(){}oe(t,e){this.ue(t,e),e.ce()}ue(t,e){if("nullValue"in t)this.ae(e,5);else if("booleanValue"in t)this.ae(e,10),e.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(e,15),e.he(_G(t.integerValue));else if("doubleValue"in t){const n=_G(t.doubleValue);isNaN(n)?this.ae(e,13):(this.ae(e,15),IH(n)?e.he(0):e.he(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ae(e,20),"string"==typeof n?e.le(n):(e.le(`${n.seconds||""}`),e.he(n.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,e),this.de(e);else if("bytesValue"in t)this.ae(e,30),e.we(vG(t.bytesValue)),this.de(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ae(e,45),e.he(n.latitude||0),e.he(n.longitude||0)}else"mapValue"in t?UG(t)?this.ae(e,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,e),this.de(e)):"arrayValue"in t?(this.ge(t.arrayValue,e),this.de(e)):T$()}fe(t,e){this.ae(e,25),this.ye(t,e)}ye(t,e){e.le(t)}me(t,e){const n=t.fields||{};this.ae(e,55);for(const i of Object.keys(n))this.fe(i,e),this.ue(n[i],e)}ge(t,e){const n=t.values||[];this.ae(e,50);for(const i of n)this.ue(i,e)}_e(t,e){this.ae(e,37),J$.fromName(t).path.forEach(t=>{this.ae(e,60),this.ye(t,e)})}ae(t,e){t.he(e)}de(t){t.he(2)}}return t.pe=new t,t})();function JQ(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function tY(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const i=JQ(255&t[n]);if(e+=i,8!==i)break}return e}(t);return Math.ceil(e/8)}class eY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Te(n.value),n=e.next();this.Ee()}Ae(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Re(n.value),n=e.next();this.ve()}be(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Te(t);else if(t<2048)this.Te(960|t>>>6),this.Te(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Te(480|t>>>12),this.Te(128|63&t>>>6),this.Te(128|63&t);else{const t=e.codePointAt(0);this.Te(240|t>>>18),this.Te(128|63&t>>>12),this.Te(128|63&t>>>6),this.Te(128|63&t)}}this.Ee()}Pe(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Re(t);else if(t<2048)this.Re(960|t>>>6),this.Re(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Re(480|t>>>12),this.Re(128|63&t>>>6),this.Re(128|63&t);else{const t=e.codePointAt(0);this.Re(240|t>>>18),this.Re(128|63&t>>>12),this.Re(128|63&t>>>6),this.Re(128|63&t)}}this.ve()}Ve(t){const e=this.Se(t),n=tY(e);this.De(1+n),this.buffer[this.position++]=255&n;for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Ce(t){const e=this.Se(t),n=tY(e);this.De(1+n),this.buffer[this.position++]=~(255&n);for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let i=1;i<e.length;++i)e[i]^=n?255:0;return e}Te(t){const e=255&t;0===e?(this.Ne(0),this.Ne(255)):255===e?(this.Ne(255),this.Ne(0)):this.Ne(e)}Re(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class nY{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class iY{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class rY{constructor(){this.Me=new eY,this.Fe=new nY(this.Me),this.Be=new iY(this.Me)}seed(t){this.Me.seed(t)}Le(t){return 0===t?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class sY{constructor(t,e,n,i){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=i}qe(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new sY(this.indexId,this.documentKey,this.arrayValue,n)}}function oY(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=aY(t.arrayValue,e.arrayValue),0!==n?n:(n=aY(t.directionalValue,e.directionalValue),0!==n?n:J$.comparator(t.documentKey,e.documentKey)))}function aY(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}class lY{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const e of t.filters){const t=e;t.isInequality()?this.Ge=t:this.Ke.push(t)}}Qe(t){A$(t.collectionGroup===this.collectionId);const e=eH(t);if(void 0!==e&&!this.ze(e))return!1;const n=nH(t);let i=0,r=0;for(;i<n.length&&this.ze(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Ge){const t=n[i];if(!this.je(this.Ge,t)||!this.We(this.Ue[r++],t))return!1;++i}for(;i<n.length;++i){const t=n[i];if(r>=this.Ue.length||!this.We(this.Ue[r++],t))return!1}return!0}ze(t){for(const e of this.Ke)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function cY(t){var e,n;if(A$(t instanceof eK||t instanceof nK),t instanceof eK){if(t instanceof gK){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(e=>eK.create(t.field,"==",e)))||[];return nK.create(i,"or")}return t}const i=t.filters.map(t=>cY(t));return nK.create(i,t.op)}function uY(t){if(0===t.getFilters().length)return[];const e=fY(cY(t));return A$(pY(e)),hY(e)||dY(e)?[e]:e.getFilters()}function hY(t){return t instanceof eK}function dY(t){return t instanceof nK&&sK(t)}function pY(t){return hY(t)||dY(t)||function(t){if(t instanceof nK&&rK(t)){for(const e of t.getFilters())if(!hY(e)&&!dY(e))return!1;return!0}return!1}(t)}function fY(t){if(A$(t instanceof eK||t instanceof nK),t instanceof eK)return t;if(1===t.filters.length)return fY(t.filters[0]);const e=t.filters.map(t=>fY(t));let n=nK.create(e,t.op);return n=yY(n),pY(n)?n:(A$(n instanceof nK),A$(iK(n)),A$(n.filters.length>1),n.filters.reduce((t,e)=>mY(t,e)))}function mY(t,e){let n;return A$(t instanceof eK||t instanceof nK),A$(e instanceof eK||e instanceof nK),n=t instanceof eK?e instanceof eK?function(t,e){return nK.create([t,e],"and")}(t,e):gY(t,e):e instanceof eK?gY(e,t):function(t,e){if(A$(t.filters.length>0&&e.filters.length>0),iK(t)&&iK(e))return cK(t,e.getFilters());const n=rK(t)?t:e,i=rK(t)?e:t,r=n.filters.map(t=>mY(t,i));return nK.create(r,"or")}(t,e),yY(n)}function gY(t,e){if(iK(e))return cK(e,t.getFilters());{const n=e.filters.map(e=>mY(t,e));return nK.create(n,"or")}}function yY(t){if(A$(t instanceof eK||t instanceof nK),t instanceof eK)return t;const e=t.getFilters();if(1===e.length)return yY(e[0]);if(oK(t))return t;const n=e.map(t=>yY(t)),i=[];return n.forEach(e=>{e instanceof eK?i.push(e):e instanceof nK&&(e.op===t.op?i.push(...e.filters):i.push(e))}),1===i.length?i[0]:nK.create(i,t.op)}class _Y{constructor(){this.He=new vY}addToCollectionParentIndex(t,e){return this.He.add(e),pH.resolve()}getCollectionParents(t,e){return pH.resolve(this.He.getEntries(e))}addFieldIndex(t,e){return pH.resolve()}deleteFieldIndex(t,e){return pH.resolve()}getDocumentsMatchingTarget(t,e){return pH.resolve(null)}getIndexType(t,e){return pH.resolve(0)}getFieldIndexes(t,e){return pH.resolve([])}getNextCollectionGroupToUpdate(t){return pH.resolve(null)}getMinOffset(t,e){return pH.resolve(aH.min())}getMinOffsetFromCollectionGroup(t,e){return pH.resolve(aH.min())}updateCollectionGroup(t,e,n){return pH.resolve()}updateIndexEntries(t,e){return pH.resolve()}}class vY{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new uG(Y$.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new uG(Y$.comparator)).toArray()}}const bY=new Uint8Array(0);class wY{constructor(t,e){this.user=t,this.databaseId=e,this.Je=new vY,this.Ye=new HK(t=>wK(t),(t,e)=>CK(t,e)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Je.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.Je.add(e)});const r={collectionId:n,parent:AH(i)};return CY(t).put(r)}return pH.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[G$(e),""],!1,!0);return CY(t).j(i).next(t=>{for(const i of t){if(i.collectionId!==e)break;n.push(OH(i.parent))}return n})}addFieldIndex(t,e){const n=SY(t),i=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(t=>[t.fieldPath.canonicalString(),t.kind])}}(e);delete i.indexId;const r=n.add(i);if(e.indexState){const n=xY(t);return r.next(t=>{n.put(GQ(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return r.next()}deleteFieldIndex(t,e){const n=SY(t),i=xY(t),r=kY(t);return n.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const n=kY(t);let i=!0;const r=new Map;return pH.forEach(this.Ze(e),e=>this.Xe(t,e).next(t=>{i&&(i=!!t),r.set(e,t)})).next(()=>{if(i){let t=nW();const i=[];return pH.forEach(r,(r,s)=>{var o;S$("IndexedDbIndexManager",`Using index ${o=r,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(t=>`${t.fieldPath}:${t.kind}`).join(",")}`} to execute ${wK(e)}`);const a=function(t,e){const n=eH(e);if(void 0===n)return null;for(const i of SK(t,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(t,e){const n=new Map;for(const i of nH(e))for(const e of SK(t,i.fieldPath))switch(e.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(s,r),c=function(t,e){const n=[];let i=!0;for(const r of nH(e)){const e=0===r.kind?xK(t,r.fieldPath,t.startAt):EK(t,r.fieldPath,t.startAt);n.push(e.value),i&&(i=e.inclusive)}return new QG(n,i)}(s,r),u=function(t,e){const n=[];let i=!0;for(const r of nH(e)){const e=0===r.kind?EK(t,r.fieldPath,t.endAt):xK(t,r.fieldPath,t.endAt);n.push(e.value),i&&(i=e.inclusive)}return new QG(n,i)}(s,r),h=this.tn(r,s,c),d=this.tn(r,s,u),p=this.en(r,s,l),f=this.nn(r.indexId,a,h,c.inclusive,d,u.inclusive,p);return pH.forEach(f,r=>n.H(r,e.limit).next(e=>{e.forEach(e=>{const n=J$.fromSegments(e.documentKey);t.has(n)||(t=t.add(n),i.push(n))})}))}).next(()=>i)}return pH.resolve(null)})}Ze(t){let e=this.Ye.get(t);return e||(e=0===t.filters.length?[t]:uY(nK.create(t.filters,"and")).map(e=>bK(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,e),e)}nn(t,e,n,i,r,s,o){const a=(null!=e?e.length:1)*Math.max(n.length,r.length),l=a/(null!=e?e.length:1),c=[];for(let u=0;u<a;++u){const a=e?this.sn(e[u/l]):bY,h=this.rn(t,a,n[u%l],i),d=this.on(t,a,r[u%l],s),p=o.map(e=>this.rn(t,a,e,!0));c.push(...this.createRange(h,d,p))}return c}rn(t,e,n,i){const r=new sY(t,J$.empty(),e,n);return i?r:r.qe()}on(t,e,n,i){const r=new sY(t,J$.empty(),e,n);return i?r.qe():r}Xe(t,e){const n=new lY(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(t=>{let e=null;for(const i of t)n.Qe(i)&&(!e||i.fields.length>e.fields.length)&&(e=i);return e})}getIndexType(t,e){let n=2;const i=this.Ze(e);return pH.forEach(i,e=>this.Xe(t,e).next(t=>{t?0!==n&&t.fields.length<function(t){let e=new uG(X$.comparator),n=!1;for(const i of t.filters)for(const t of i.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:e=e.add(t.field));for(const i of t.orderBy)i.field.isKeyField()||(e=e.add(i.field));return e.size+(n?1:0)}(e)&&(n=1):n=0})).next(()=>function(t){return null!==t.limit}(e)&&i.length>1&&2===n?1:n)}un(t,e){const n=new rY;for(const i of nH(t)){const t=e.data.field(i.fieldPath);if(null==t)return null;const r=n.Le(i.kind);XQ.pe.oe(t,r)}return n.$e()}sn(t){const e=new rY;return XQ.pe.oe(t,e.Le(0)),e.$e()}cn(t,e){const n=new rY;return XQ.pe.oe(NG(this.databaseId,e),n.Le(function(t){const e=nH(t);return 0===e.length?0:e[e.length-1].kind}(t))),n.$e()}en(t,e,n){if(null===n)return[];let i=[];i.push(new rY);let r=0;for(const s of nH(t)){const t=n[r++];for(const n of i)if(this.an(e,s.fieldPath)&&LG(t))i=this.hn(i,s,t);else{const e=n.Le(s.kind);XQ.pe.oe(t,e)}}return this.ln(i)}tn(t,e,n){return this.en(t,e,n.position)}ln(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].$e();return e}hn(t,e,n){const i=[...t],r=[];for(const s of n.arrayValue.values||[])for(const t of i){const n=new rY;n.seed(t.$e()),XQ.pe.oe(s,n.Le(e.kind)),r.push(n)}return r}an(t,e){return!!t.filters.find(t=>t instanceof eK&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(t,e){const n=SY(t),i=xY(t);return(e?n.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.j()).next(t=>{const e=[];return pH.forEach(t,t=>i.get([t.indexId,this.uid]).next(n=>{e.push(function(t,e){const n=e?new rH(e.sequenceNumber,new aH(BQ(e.readTime),new J$(OH(e.documentKey)),e.largestBatchId)):rH.empty(),i=t.fields.map(([t,e])=>new iH(X$.fromServerFormat(t),e));return new tH(t.indexId,t.collectionGroup,i,n)}(t,n))})).next(()=>e)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(t=>0===t.length?null:(t.sort((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:$$(t.collectionGroup,e.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(t,e,n){const i=SY(t),r=xY(t);return this.fn(t).next(t=>i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(e=>pH.forEach(e,e=>r.put(GQ(e.indexId,this.user,t,n)))))}updateIndexEntries(t,e){const n=new Map;return pH.forEach(e,(e,i)=>{const r=n.get(e.collectionGroup);return(r?pH.resolve(r):this.getFieldIndexes(t,e.collectionGroup)).next(r=>(n.set(e.collectionGroup,r),pH.forEach(r,n=>this.dn(t,e,n).next(e=>{const r=this.wn(i,n);return e.isEqual(r)?pH.resolve():this._n(t,i,n,e,r)}))))})}mn(t,e,n,i){return kY(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(n,e.key),documentKey:e.key.path.toArray()})}gn(t,e,n,i){return kY(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(n,e.key),e.key.path.toArray()])}dn(t,e,n){const i=kY(t);let r=new uG(oY);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,e)])},(t,i)=>{r=r.add(new sY(n.indexId,e,i.arrayValue,i.directionalValue))}).next(()=>r)}wn(t,e){let n=new uG(oY);const i=this.un(e,t);if(null==i)return n;const r=eH(e);if(null!=r){const s=t.data.field(r.fieldPath);if(LG(s))for(const r of s.arrayValue.values||[])n=n.add(new sY(e.indexId,t.key,this.sn(r),i))}else n=n.add(new sY(e.indexId,t.key,bY,i));return n}_n(t,e,n,i,r){S$("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,i,r){const s=t.getIterator(),o=e.getIterator();let a=dG(s),l=dG(o);for(;a||l;){let t=!1,e=!1;if(a&&l){const i=n(a,l);i<0?e=!0:i>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(i(l),l=dG(o)):e?(r(a),a=dG(s)):(a=dG(s),l=dG(o))}}(i,r,oY,i=>{s.push(this.mn(t,e,n,i))},i=>{s.push(this.gn(t,e,n,i))}),pH.waitFor(s)}fn(t){let e=1;return xY(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,n,i)=>{i.done(),e=n.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((t,e)=>oY(t,e)).filter((t,e,n)=>!e||0!==oY(t,n[e-1]));const i=[];i.push(t);for(const s of n){const n=oY(s,t),r=oY(s,e);if(0===n)i[0]=t.qe();else if(n>0&&r<0)i.push(s),i.push(s.qe());else if(r>0)break}i.push(e);const r=[];for(let s=0;s<i.length;s+=2){if(this.yn(i[s],i[s+1]))return[];r.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,bY,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,bY,[]]))}return r}yn(t,e){return oY(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(EY)}getMinOffset(t,e){return pH.mapArray(this.Ze(e),e=>this.Xe(t,e).next(t=>t||T$())).next(EY)}}function CY(t){return iG(t,"collectionParents")}function kY(t){return iG(t,"indexEntries")}function SY(t){return iG(t,"indexConfiguration")}function xY(t){return iG(t,"indexState")}function EY(t){A$(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;lH(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new aH(e.readTime,e.documentKey,n)}const IY={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class TY{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new TY(t,TY.DEFAULT_COLLECTION_PERCENTILE,TY.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AY(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Z({range:o},(t,e,n)=>(a++,n.delete()));s.push(l.next(()=>{A$(1===a)}));const c=[];for(const u of n.mutations){const t=MH(e,u.key.path,n.batchId);s.push(r.delete(t)),c.push(u.key)}return pH.waitFor(s).next(()=>c)}function RY(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw T$();e=t.noDocument}return JSON.stringify(e).length}TY.DEFAULT_COLLECTION_PERCENTILE=10,TY.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,TY.DEFAULT=new TY(41943040,TY.DEFAULT_COLLECTION_PERCENTILE,TY.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),TY.DISABLED=new TY(-1,0,0);class DY{constructor(t,e,n,i){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=i,this.pn={}}static ie(t,e,n,i){A$(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new DY(r,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return PY(t).Z({index:"userMutationsIndex",range:n},(t,n,i)=>{e=!1,i.done()}).next(()=>e)}addMutationBatch(t,e,n,i){const r=NY(t),s=PY(t);return s.add({}).next(o=>{A$("number"==typeof o);const a=new FW(o,e,n,i),l=function(t,e,n){const i=n.baseMutations.map(e=>bQ(t.se,e)),r=n.mutations.map(e=>bQ(t.se,e));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,a),c=[];let u=new uG((t,e)=>$$(t.canonicalString(),e.canonicalString()));for(const t of i){const e=MH(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(r.put(e,LH))}return u.forEach(e=>{c.push(this.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.pn[o]=a.keys()}),pH.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return PY(t).get(e).next(t=>t?(A$(t.userId===this.userId),jQ(this.serializer,t)):null)}In(t,e){return this.pn[e]?pH.resolve(this.pn[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.pn[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return PY(t).Z({index:"userMutationsIndex",range:i},(t,e,i)=>{e.userId===this.userId&&(A$(e.batchId>=n),r=jQ(this.serializer,e)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return PY(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(t,e,i)=>{n=e.batchId,i.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return PY(t).j("userMutationsIndex",e).next(t=>t.map(t=>jQ(this.serializer,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=NH(this.userId,e.path),i=IDBKeyRange.lowerBound(n),r=[];return NY(t).Z({range:i},(n,i,s)=>{const[o,a,l]=n,c=OH(a);if(o===this.userId&&e.path.isEqual(c))return PY(t).get(l).next(t=>{if(!t)throw T$();A$(t.userId===this.userId),r.push(jQ(this.serializer,t))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new uG($$);const i=[];return e.forEach(e=>{const r=NH(this.userId,e.path),s=IDBKeyRange.lowerBound(r),o=NY(t).Z({range:s},(t,i,r)=>{const[s,o,a]=t,l=OH(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):r.done()});i.push(o)}),pH.waitFor(i).next(()=>this.Tn(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,r=NH(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new uG($$);return NY(t).Z({range:s},(t,e,r)=>{const[s,a,l]=t,c=OH(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()}).next(()=>this.Tn(t,o))}Tn(t,e){const n=[],i=[];return e.forEach(e=>{i.push(PY(t).get(e).next(t=>{if(null===t)throw T$();A$(t.userId===this.userId),n.push(jQ(this.serializer,t))}))}),pH.waitFor(i).next(()=>n)}removeMutationBatch(t,e){return AY(t.at,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.En(e.batchId)}),pH.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pH.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return NY(t).Z({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=OH(t[1]);i.push(e)}else n.done()}).next(()=>{A$(0===i.length)})})}containsKey(t,e){return OY(t,this.userId,e)}An(t){return MY(t).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OY(t,e,n){const i=NH(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return NY(t).Z({range:s,Y:!0},(t,n,i)=>{const[s,a,l]=t;s===e&&a===r&&(o=!0),i.done()}).next(()=>o)}function PY(t){return iG(t,"mutations")}function NY(t){return iG(t,"documentMutations")}function MY(t){return iG(t,"mutationQueues")}class LY{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new LY(0)}static bn(){return new LY(-1)}}class FY{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Pn(t).next(e=>{const n=new LY(e.highestTargetId);return e.highestTargetId=n.next(),this.Vn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(t=>W$.fromTimestamp(new K$(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Pn(t).next(i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Vn(t,i)))}addTargetData(t,e){return this.Sn(t,e).next(()=>this.Pn(t).next(n=>(n.targetCount+=1,this.Dn(e,n),this.Vn(t,n))))}updateTargetData(t,e){return this.Sn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>VY(t).delete(e.targetId)).next(()=>this.Pn(t)).next(e=>(A$(e.targetCount>0),e.targetCount-=1,this.Vn(t,e)))}removeTargets(t,e,n){let i=0;const r=[];return VY(t).Z((s,o)=>{const a=UQ(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(t,a)))}).next(()=>pH.waitFor(r)).next(()=>i)}forEachTarget(t,e){return VY(t).Z((t,n)=>{const i=UQ(n);e(i)})}Pn(t){return BY(t).get("targetGlobalKey").next(t=>(A$(null!==t),t))}Vn(t,e){return BY(t).put("targetGlobalKey",e)}Sn(t,e){return VY(t).put(zQ(this.serializer,e))}Dn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Pn(t).next(t=>t.targetCount)}getTargetData(t,e){const n=wK(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return VY(t).Z({range:i,index:"queryTargetsIndex"},(t,n,i)=>{const s=UQ(n);CK(e,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(t,e,n){const i=[],r=jY(t);return e.forEach(e=>{const s=AH(e.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(t,n,e))}),pH.waitFor(i)}removeMatchingKeys(t,e,n){const i=jY(t);return pH.forEach(e,e=>{const r=AH(e.path);return pH.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=jY(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=jY(t);let r=nW();return i.Z({range:n,Y:!0},(t,e,n)=>{const i=OH(t[1]),s=new J$(i);r=r.add(s)}).next(()=>r)}containsKey(t,e){const n=AH(e.path),i=IDBKeyRange.bound([n],[G$(n)],!1,!0);let r=0;return jY(t).Z({index:"documentTargetsIndex",Y:!0,range:i},([t,e],n,i)=>{0!==t&&(r++,i.done())}).next(()=>r>0)}ne(t,e){return VY(t).get(e).next(t=>t?UQ(t):null)}}function VY(t){return iG(t,"targets")}function BY(t){return iG(t,"targetGlobal")}function jY(t){return iG(t,"targetDocuments")}function UY([t,e],[n,i]){const r=$$(t,n);return 0===r?$$(e,i):r}class zY{constructor(t){this.Cn=t,this.buffer=new uG(UY),this.xn=0}Nn(){return++this.xn}kn(t){const e=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();UY(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class qY{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(t){var e=this;S$("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,Yg(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(t){_H(t)?S$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield hH(t)}yield e.$n(3e5)}))}}class $Y{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.Fn(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return pH.resolve(xH.ct);const n=new zY(e);return this.Mn.forEachTarget(t,t=>n.kn(t.sequenceNumber)).next(()=>this.Mn.Bn(t,t=>n.kn(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.Mn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(S$("LruGarbageCollector","Garbage collection skipped; disabled"),pH.resolve(IY)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(S$("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IY):this.Ln(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,e){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(S$("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),k$()<=Ry.DEBUG&&S$("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),pH.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}class HY{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new $Y(t,e)}(this,e)}Fn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}qn(t){let e=0;return this.Bn(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Bn(t,e){return this.Un(t,(t,n)=>e(n))}addReference(t,e,n){return GY(t,n)}removeReference(t,e,n){return GY(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return GY(t,e)}Kn(t,e){return function(t,e){let n=!1;return MY(t).X(i=>OY(t,i,e).next(t=>(t&&(n=!0),pH.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Un(t,(s,o)=>{if(o<=e){const e=this.Kn(t,s).next(e=>{if(!e)return r++,n.getEntry(t,s).next(()=>(n.removeEntry(s,W$.min()),jY(t).delete([0,AH(s.path)])))});i.push(e)}}).next(()=>pH.waitFor(i)).next(()=>n.apply(t)).next(()=>r)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return GY(t,e)}Un(t,e){const n=jY(t);let i,r=xH.ct;return n.Z({index:"documentTargetsIndex"},([t,n],{path:s,sequenceNumber:o})=>{0===t?(r!==xH.ct&&e(new J$(OH(i)),r),r=o,i=s):r=xH.ct}).next(()=>{r!==xH.ct&&e(new J$(OH(i)),r)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function GY(t,e){return jY(t).put(function(t,e){return{targetId:0,path:AH(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}class KY{constructor(){this.changes=new HK(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,WG.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?pH.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WY{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return XY(t).put(n)}removeEntry(t,e,n){return XY(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],FQ(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Gn(t,n)))}getEntry(t,e){let n=WG.newInvalidDocument(e);return XY(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(JY(e))},(t,i)=>{n=this.Qn(e,i)}).next(()=>n)}zn(t,e){let n={size:0,document:WG.newInvalidDocument(e)};return XY(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(JY(e))},(t,i)=>{n={document:this.Qn(e,i),size:RY(i)}}).next(()=>n)}getEntries(t,e){let n=KK();return this.jn(t,e,(t,e)=>{const i=this.Qn(t,e);n=n.insert(t,i)}).next(()=>n)}Wn(t,e){let n=KK(),i=new aG(J$.comparator);return this.jn(t,e,(t,e)=>{const r=this.Qn(t,e);n=n.insert(t,r),i=i.insert(t,RY(e))}).next(()=>({documents:n,Hn:i}))}jn(t,e,n){if(e.isEmpty())return pH.resolve();let i=new uG(eZ);e.forEach(t=>i=i.add(t));const r=IDBKeyRange.bound(JY(i.first()),JY(i.last())),s=i.getIterator();let o=s.getNext();return XY(t).Z({index:"documentKeyIndex",range:r},(t,e,i)=>{const r=J$.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&eZ(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,e),o=s.hasNext()?s.getNext():null),o?i.G(JY(o)):i.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,n,i){const r=e.path,s=[r.popLast().toArray(),r.lastSegment(),FQ(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return XY(t).j(IDBKeyRange.bound(s,o,!0)).next(t=>{let n=KK();for(const r of t){const t=this.Qn(J$.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);t.isFoundDocument()&&(UK(e,t)||i.has(t.key))&&(n=n.insert(t.key,t))}return n})}getAllFromCollectionGroup(t,e,n,i){let r=KK();const s=tZ(e,n),o=tZ(e,aH.max());return XY(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(t,e,n)=>{const s=this.Qn(J$.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);r=r.insert(s.key,s),r.size===i&&n.done()}).next(()=>r)}newChangeBuffer(t){return new YY(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return ZY(t).get("remoteDocumentGlobalKey").next(t=>(A$(!!t),t))}Gn(t,e){return ZY(t).put("remoteDocumentGlobalKey",e)}Qn(t,e){if(e){const t=function(t,e){let n;if(e.document)n=vQ(t.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=J$.fromSegments(e.noDocument.path),i=BQ(e.noDocument.readTime);n=WG.newNoDocument(t,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return T$();{const t=J$.fromSegments(e.unknownDocument.path),i=BQ(e.unknownDocument.version);n=WG.newUnknownDocument(t,i)}}return e.readTime&&n.setReadTime(function(t){const e=new K$(t[0],t[1]);return W$.fromTimestamp(e)}(e.readTime)),n}(this.serializer,e);if(!t.isNoDocument()||!t.version.isEqual(W$.min()))return t}return WG.newInvalidDocument(t)}}function QY(t){return new WY(t)}class YY extends KY{constructor(t,e){super(),this.Jn=t,this.trackRemovals=e,this.Yn=new HK(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,i=new uG((t,e)=>$$(t.canonicalString(),e.canonicalString()));return this.changes.forEach((r,s)=>{const o=this.Yn.get(r);if(e.push(this.Jn.removeEntry(t,r,o.readTime)),s.isValidDocument()){const a=LQ(this.Jn.serializer,s);i=i.add(r.path.popLast());const l=RY(a);n+=l-o.size,e.push(this.Jn.addEntry(t,r,a))}else if(n-=o.size,this.trackRemovals){const n=LQ(this.Jn.serializer,s.convertToNoDocument(W$.min()));e.push(this.Jn.addEntry(t,r,n))}}),i.forEach(n=>{e.push(this.Jn.indexManager.addToCollectionParentIndex(t,n))}),e.push(this.Jn.updateMetadata(t,n)),pH.waitFor(e)}getFromCache(t,e){return this.Jn.zn(t,e).next(t=>(this.Yn.set(e,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(t,e){return this.Jn.Wn(t,e).next(({documents:t,Hn:e})=>(e.forEach((e,n)=>{this.Yn.set(e,{size:n,readTime:t.get(e).readTime})}),t))}}function ZY(t){return iG(t,"remoteDocumentGlobal")}function XY(t){return iG(t,"remoteDocumentsV14")}function JY(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tZ(t,e){const n=e.documentKey.path.toArray();return[t,FQ(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eZ(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=$$(n[s],i[s]),r)return r;return r=$$(n.length,i.length),r||(r=$$(n[n.length-2],i[i.length-2]),r||$$(n[n.length-1],i[i.length-1]))}class nZ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class iZ{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&IW(n.mutation,t,pG.empty(),K$.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,nW()).next(()=>e))}getLocalViewOfDocuments(t,e,n=nW()){const i=ZK();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(t=>{let e=QK();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=ZK();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,nW()))}populateOverlays(t,e,n){const i=[];return n.forEach(t=>{e.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,i){let r=KK();const s=JK(),o=JK();return e.forEach((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof DW)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),IW(o.mutation,e,o.mutation.getFieldMask(),K$.now())):s.set(e.key,pG.empty())}),this.recalculateAndSaveOverlays(t,r).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return o.set(t,new nZ(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(t,e){const n=JK();let i=new aG((t,e)=>t-e),r=nW();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const r of t)r.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||pG.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||nW()).add(t);i=i.insert(r.batchId,a)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=XK();l.forEach(t=>{if(!r.has(t)){const i=xW(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return pH.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n){return function(t){return J$.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):PK(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):pH.resolve(ZK());let o=-1,a=r;return s.next(e=>pH.forEach(e,(e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?pH.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,r)).next(()=>this.computeViews(t,a,e,nW())).next(t=>({batchId:o,changes:YK(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new J$(e)).next(t=>{let e=QK();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=QK();return this.indexManager.getCollectionParents(t,i).next(s=>pH.forEach(s,s=>{const o=function(t,e){return new IK(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next(t=>{t.forEach((t,e)=>{r=r.insert(t,e)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i))).next(t=>{i.forEach((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,WG.newInvalidDocument(i)))});let n=QK();return t.forEach((t,r)=>{const s=i.get(t);void 0!==s&&IW(s.mutation,r,pG.empty(),K$.now()),UK(e,r)&&(n=n.insert(t,r))}),n})}}class rZ{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return pH.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:cQ(n.createTime)}),pH.resolve()}getNamedQuery(t,e){return pH.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:qQ(t.bundledQuery),readTime:cQ(t.readTime)}}(e)),pH.resolve()}}class sZ{constructor(){this.overlays=new aG(J$.comparator),this.ts=new Map}getOverlay(t,e){return pH.resolve(this.overlays.get(e))}getOverlays(t,e){const n=ZK();return pH.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,i)=>{this.re(t,e,i)}),pH.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.ts.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.ts.delete(n)),pH.resolve()}getOverlaysForCollection(t,e,n){const i=ZK(),r=e.length+1,s=new J$(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return pH.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new aG((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=ZK(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ZK(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>o.set(t,e)),!(o.size()>=i)););return pH.resolve(o)}re(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.ts.get(i.largestBatchId).delete(n.key);this.ts.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new BW(e,n));let r=this.ts.get(e);void 0===r&&(r=nW(),this.ts.set(e,r)),this.ts.set(e,r.add(n.key))}}class oZ{constructor(){this.es=new uG(aZ.ns),this.ss=new uG(aZ.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,e){const n=new aZ(t,e);this.es=this.es.add(n),this.ss=this.ss.add(n)}os(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.us(new aZ(t,e))}cs(t,e){t.forEach(t=>this.removeReference(t,e))}hs(t){const e=new J$(new Y$([])),n=new aZ(e,t),i=new aZ(e,t+1),r=[];return this.ss.forEachInRange([n,i],t=>{this.us(t),r.push(t.key)}),r}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const e=new J$(new Y$([])),n=new aZ(e,t),i=new aZ(e,t+1);let r=nW();return this.ss.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new aZ(t,0),n=this.es.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class aZ{constructor(t,e){this.key=t,this.ds=e}static ns(t,e){return J$.comparator(t.key,e.key)||$$(t.ds,e.ds)}static rs(t,e){return $$(t.ds,e.ds)||J$.comparator(t.key,e.key)}}class lZ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this._s=new uG(aZ.ns)}checkEmpty(t){return pH.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.ws;this.ws++;const s=new FW(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this._s=this._s.add(new aZ(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return pH.resolve(s)}lookupMutationBatch(t,e){return pH.resolve(this.gs(e))}getNextMutationBatchAfterBatchId(t,e){const n=this.ys(e+1),i=n<0?0:n;return pH.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pH.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return pH.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new aZ(e,0),i=new aZ(e,Number.POSITIVE_INFINITY),r=[];return this._s.forEachInRange([n,i],t=>{const e=this.gs(t.ds);r.push(e)}),pH.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new uG($$);return e.forEach(t=>{const e=new aZ(t,0),i=new aZ(t,Number.POSITIVE_INFINITY);this._s.forEachInRange([e,i],t=>{n=n.add(t.ds)})}),pH.resolve(this.ps(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;J$.isDocumentKey(r)||(r=r.child(""));const s=new aZ(new J$(r),0);let o=new uG($$);return this._s.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ds)),!0)},s),pH.resolve(this.ps(o))}ps(t){const e=[];return t.forEach(t=>{const n=this.gs(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){A$(0===this.Is(e.batchId,"removed")),this.mutationQueue.shift();let n=this._s;return pH.forEach(e.mutations,i=>{const r=new aZ(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=n})}En(t){}containsKey(t,e){const n=new aZ(e,0),i=this._s.firstAfterOrEqual(n);return pH.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return pH.resolve()}Is(t,e){return this.ys(t)}ys(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}gs(t){const e=this.ys(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class cZ{constructor(t){this.Ts=t,this.docs=new aG(J$.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Ts(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return pH.resolve(n?n.document.mutableCopy():WG.newInvalidDocument(e))}getEntries(t,e){let n=KK();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():WG.newInvalidDocument(t))}),pH.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=KK();const s=e.path,o=new J$(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||lH(oH(o),n)<=0||(i.has(o.key)||UK(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return pH.resolve(r)}getAllFromCollectionGroup(t,e,n,i){T$()}Es(t,e){return pH.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new uZ(this)}getSize(t){return pH.resolve(this.size)}}class uZ extends KY{constructor(t){super(),this.Jn=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(n)}),pH.waitFor(e)}getFromCache(t,e){return this.Jn.getEntry(t,e)}getAllFromCache(t,e){return this.Jn.getEntries(t,e)}}class hZ{constructor(t){this.persistence=t,this.As=new HK(t=>wK(t),CK),this.lastRemoteSnapshotVersion=W$.min(),this.highestTargetId=0,this.Rs=0,this.vs=new oZ,this.targetCount=0,this.bs=LY.vn()}forEachTarget(t,e){return this.As.forEach((t,n)=>e(n)),pH.resolve()}getLastRemoteSnapshotVersion(t){return pH.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pH.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),pH.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Rs&&(this.Rs=e),pH.resolve()}Sn(t){this.As.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new LY(e),this.highestTargetId=e),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,e){return this.Sn(e),this.targetCount+=1,pH.resolve()}updateTargetData(t,e){return this.Sn(e),pH.resolve()}removeTargetData(t,e){return this.As.delete(e.target),this.vs.hs(e.targetId),this.targetCount-=1,pH.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.As.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.As.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),pH.waitFor(r).next(()=>i)}getTargetCount(t){return pH.resolve(this.targetCount)}getTargetData(t,e){const n=this.As.get(e)||null;return pH.resolve(n)}addMatchingKeys(t,e,n){return this.vs.os(e,n),pH.resolve()}removeMatchingKeys(t,e,n){this.vs.cs(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),pH.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.vs.hs(e),pH.resolve()}getMatchingKeysForTargetId(t,e){const n=this.vs.fs(e);return pH.resolve(n)}containsKey(t,e){return pH.resolve(this.vs.containsKey(e))}}class dZ{constructor(t,e){this.Ps={},this.overlays={},this.Vs=new xH(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new hZ(this),this.indexManager=new _Y,this.remoteDocumentCache=function(t){return new cZ(t)}(t=>this.referenceDelegate.Cs(t)),this.serializer=new MQ(e),this.xs=new rZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sZ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Ps[t.toKey()];return n||(n=new lZ(e,this.referenceDelegate),this.Ps[t.toKey()]=n),n}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,e,n){S$("MemoryPersistence","Starting transaction:",t);const i=new pZ(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next(t=>this.referenceDelegate.ks(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Os(t,e){return pH.or(Object.values(this.Ps).map(n=>()=>n.containsKey(t,e)))}}class pZ extends uH{constructor(t){super(),this.currentSequenceNumber=t}}class fZ{constructor(t){this.persistence=t,this.$s=new oZ,this.Ms=null}static Fs(t){return new fZ(t)}get Bs(){if(this.Ms)return this.Ms;throw T$()}addReference(t,e,n){return this.$s.addReference(n,e),this.Bs.delete(n.toString()),pH.resolve()}removeReference(t,e,n){return this.$s.removeReference(n,e),this.Bs.add(n.toString()),pH.resolve()}markPotentiallyOrphaned(t,e){return this.Bs.add(e.toString()),pH.resolve()}removeTarget(t,e){this.$s.hs(e.targetId).forEach(t=>this.Bs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Bs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Ns(){this.Ms=new Set}ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pH.forEach(this.Bs,n=>{const i=J$.fromPath(n);return this.Ls(t,i).next(t=>{t||e.removeEntry(i,W$.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ls(t,e).next(t=>{t?this.Bs.delete(e.toString()):this.Bs.add(e.toString())})}Cs(t){return 0}Ls(t,e){return pH.or([()=>pH.resolve(this.$s.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class mZ{constructor(t){this.serializer=t}M(t,e,n,i){const r=new fH("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PH,{unique:!0}),t.createObjectStore("documentMutations")}(t),gZ(t),function(t){t.createObjectStore("remoteDocuments")}(t));let s=pH.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),gZ(t)),s=s.next(()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:W$.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store("mutations").j().next(n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PH,{unique:!0});const i=e.store("mutations"),r=n.map(t=>i.put(t));return pH.waitFor(r)})}(t,r))),s=s.next(()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&i>=5&&(s=s.next(()=>this.qs(r))),n<6&&i>=6&&(s=s.next(()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Us(r)))),n<7&&i>=7&&(s=s.next(()=>this.Ks(r))),n<8&&i>=8&&(s=s.next(()=>this.Gs(t,r))),n<9&&i>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&i>=10&&(s=s.next(()=>this.Qs(r))),n<11&&i>=11&&(s=s.next(()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&i>=12&&(s=s.next(()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:WH});e.createIndex("collectionPathOverlayIndex",QH,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",YH,{unique:!1})}(t)})),n<13&&i>=13&&(s=s.next(()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:FH});e.createIndex("documentKeyIndex",VH),e.createIndex("collectionGroupIndex",BH)}(t)).next(()=>this.zs(t,r)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(s=s.next(()=>this.js(t,r))),n<15&&i>=15&&(s=s.next(()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:$H}).createIndex("sequenceNumberIndex",HH,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:GH}).createIndex("documentKeyIndex",KH,{unique:!1})}(t))),s}Us(t){let e=0;return t.store("remoteDocuments").Z((t,n)=>{e+=RY(n)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}qs(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.j().next(e=>pH.forEach(e,e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",i).next(n=>pH.forEach(n,n=>{A$(n.userId===e.userId);const i=jQ(this.serializer,n);return AY(t,e.userId,i).next(()=>{})}))}))}Ks(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(t=>{const i=[];return n.Z((n,r)=>{const s=new Y$(n),o=function(t){return[0,AH(t)]}(s);i.push(e.get(o).next(n=>n?pH.resolve():(n=>e.put({targetId:0,path:AH(n),sequenceNumber:t.highestListenSequenceNumber}))(s)))}).next(()=>pH.waitFor(i))})}Gs(t,e){t.createObjectStore("collectionParents",{keyPath:qH});const n=e.store("collectionParents"),i=new vY,r=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:AH(i)})}};return e.store("remoteDocuments").Z({Y:!0},(t,e)=>{const n=new Y$(t);return r(n.popLast())}).next(()=>e.store("documentMutations").Z({Y:!0},([t,e,n],i)=>{const s=OH(e);return r(s.popLast())}))}Qs(t){const e=t.store("targets");return e.Z((t,n)=>{const i=UQ(n),r=zQ(this.serializer,i);return e.put(r)})}zs(t,e){const n=e.store("remoteDocuments"),i=[];return n.Z((t,n)=>{const r=e.store("remoteDocumentsV14"),s=(o=n,o.document?new J$(Y$.fromString(o.document.name).popFirst(5)):o.noDocument?J$.fromSegments(o.noDocument.path):o.unknownDocument?J$.fromSegments(o.unknownDocument.path):T$()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))}).next(()=>pH.waitFor(i))}js(t,e){const n=e.store("mutations"),i=QY(this.serializer),r=new dZ(fZ.Fs,this.serializer.se);return n.j().next(t=>{const n=new Map;return t.forEach(t=>{var e;let i=null!==(e=n.get(t.userId))&&void 0!==e?e:nW();jQ(this.serializer,t).keys().forEach(t=>i=i.add(t)),n.set(t.userId,i)}),pH.forEach(n,(t,n)=>{const s=new b$(n),o=YQ.ie(this.serializer,s),a=r.getIndexManager(s),l=DY.ie(s,this.serializer,a,r.referenceDelegate);return new iZ(i,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new nG(e,xH.ct),t).next()})})}}function gZ(t){t.createObjectStore("targetDocuments",{keyPath:UH}).createIndex("documentTargetsIndex",zH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jH,{unique:!0}),t.createObjectStore("targetGlobal")}const yZ="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _Z{constructor(t,e,n,i,r,s,o,a,l,c,u=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Ws=r,this.window=s,this.document=o,this.Hs=l,this.Js=c,this.Ys=u,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=t=>Promise.resolve(),!_Z.D())throw new O$(D$.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HY(this,i),this.si=e+"main",this.serializer=new MQ(a),this.ii=new mH(this.si,this.Ys,new mZ(this.serializer)),this.Ds=new FY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QY(this.serializer),this.xs=new KQ,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===c&&x$("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O$(D$.FAILED_PRECONDITION,yZ);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new xH(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){var e=this;return this.ni=function(){var n=Yg(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(function(){var e=Yg(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget(Yg(function*(){e.started&&(yield e.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bZ(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(e=>this.isPrimary&&!e?this.di(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(_H(t))return S$("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return S$("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return vZ(t).get("owner").next(t=>pH.resolve(this._i(t)))}mi(t){return bZ(t).delete(this.clientId)}gi(){var t=this;return Yg(function*(){if(t.isPrimary&&!t.yi(t.ei,18e5)){t.ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=iG(e,"clientMetadata");return n.j().next(e=>{const i=t.pi(e,18e5),r=e.filter(t=>-1===i.indexOf(t));return pH.forEach(r,t=>n.delete(t.clientId)).next(()=>r)})}).catch(()=>[]);if(t.ri)for(const n of e)t.ri.removeItem(t.Ii(n.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?pH.resolve(!0):vZ(t).get("owner").next(e=>{if(null!==e&&this.yi(e.leaseTimestampMs,5e3)&&!this.Ti(e.ownerId)){if(this._i(e)&&this.networkEnabled)return!0;if(!this._i(e)){if(!e.allowTabSynchronization)throw new O$(D$.FAILED_PRECONDITION,yZ);return!1}}return!(!this.networkEnabled||!this.inForeground)||bZ(t).j().next(t=>void 0===this.pi(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&S$("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return Yg(function*(){t.Ss=!1,t.Ei(),t.ti&&(t.ti.cancel(),t.ti=null),t.Ai(),t.Ri(),yield t.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new nG(e,xH.ct);return t.di(n).next(()=>t.mi(n))}),t.ii.close(),t.vi()})()}pi(t,e){return t.filter(t=>this.yi(t.updateTimeMs,e)&&!this.Ti(t.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>bZ(t).j().next(t=>this.pi(t,18e5).map(t=>t.clientId)))}get started(){return this.Ss}getMutationQueue(t,e){return DY.ie(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new wY(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return YQ.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,e,n){S$("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",r=15===(s=this.Ys)?eG:14===s?tG:13===s?JH:12===s?XH:11===s?ZH:void T$();var s;let o;return this.ii.runTransaction(t,i,r,i=>(o=new nG(i,this.Vs?this.Vs.next():xH.ct),"readwrite-primary"===e?this.li(o).next(t=>!!t||this.fi(o)).next(e=>{if(!e)throw x$(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new O$(D$.FAILED_PRECONDITION,cH);return n(o)}).next(t=>this.wi(o).next(()=>t)):this.Pi(o).next(()=>n(o)))).then(t=>(o.raiseOnCommittedEvent(),t))}Pi(t){return vZ(t).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O$(D$.FAILED_PRECONDITION,yZ)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vZ(t).put("owner",e)}static D(){return mH.D()}di(t){const e=vZ(t);return e.get("owner").next(t=>this._i(t)?(S$("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pH.resolve())}yi(t,e){const n=Date.now();return!(t<n-e||t>n&&(x$(`Detected an update time that is in the future: ${t} > ${n}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;!function(){var t;const e=null===(t=iy())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var e;try{const n=null!==(null===(e=this.ri)||void 0===e?void 0:e.getItem(this.Ii(t)));return S$("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return x$("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(Mj){x$("Failed to set zombie client id.",Mj)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(Mj){}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function vZ(t){return iG(t,"owner")}function bZ(t){return iG(t,"clientMetadata")}function wZ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class CZ{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Vi=n,this.Si=i}static Di(t,e){let n=nW(),i=nW();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new CZ(t,e.fromCache,n,i)}}class kZ{constructor(){this.Ci=!1}initialize(t,e){this.xi=t,this.indexManager=e,this.Ci=!0}getDocumentsMatchingQuery(t,e,n,i){return this.Ni(t,e).next(r=>r||this.ki(t,e,i,n)).next(n=>n||this.Oi(t,e))}Ni(t,e){if(RK(e))return pH.resolve(null);let n=MK(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=FK(e,null,"F"),n=MK(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const r=nW(...i);return this.xi.getDocuments(t,r).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.$i(e,i);return this.Mi(e,s,r,n.readTime)?this.Ni(t,FK(e,null,"F")):this.Fi(t,s,e,n)}))})))}ki(t,e,n,i){return RK(e)||i.isEqual(W$.min())?this.Oi(t,e):this.xi.getDocuments(t,n).next(r=>{const s=this.$i(e,r);return this.Mi(e,s,n,i)?this.Oi(t,e):(k$()<=Ry.DEBUG&&S$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jK(e)),this.Fi(t,s,e,sH(i,-1)))})}$i(t,e){let n=new uG(qK(t));return e.forEach((e,i)=>{UK(t,i)&&(n=n.add(i))}),n}Mi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Oi(t,e){return k$()<=Ry.DEBUG&&S$("QueryEngine","Using full collection scan to execute query:",jK(e)),this.xi.getDocumentsMatchingQuery(t,e,aH.min())}Fi(t,e,n,i){return this.xi.getDocumentsMatchingQuery(t,n,i).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}class SZ{constructor(t,e,n,i){this.persistence=t,this.Bi=e,this.serializer=i,this.Li=new aG($$),this.qi=new HK(t=>wK(t),CK),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(n)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iZ(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Li))}}function xZ(t,e,n,i){return new SZ(t,e,n,i)}function EZ(t,e){return IZ.apply(this,arguments)}function IZ(){return(IZ=Yg(function*(t,e){const n=R$(t);return yield n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(r=>(i=r,n.Gi(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const r=[],s=[];let o=nW();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next(t=>({Qi:t,removedBatchIds:r,addedBatchIds:s}))})})})).apply(this,arguments)}function TZ(t,e){const n=R$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.Ki.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=pH.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);A$(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=nW();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,i))})}function AZ(t){const e=R$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function RZ(t,e){const n=R$(t),i=e.snapshotVersion;let r=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.Ki.newChangeBuffer({trackRemovals:!0});r=n.Li;const o=[];e.targetChanges.forEach((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Ds.removeMatchingKeys(t,s.removedDocuments,a).next(()=>n.Ds.addMatchingKeys(t,s.addedDocuments,a)));let c=l.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?c=c.withResumeToken(mG.EMPTY_BYTE_STRING,W$.min()).withLastLimboFreeSnapshotVersion(W$.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ds.updateTargetData(t,c))});let a=KK(),l=nW();if(e.documentUpdates.forEach(i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(DZ(t,s,e.documentUpdates).next(t=>{a=t.zi,l=t.ji})),!i.isEqual(W$.min())){const e=n.Ds.getLastRemoteSnapshotVersion(t).next(e=>n.Ds.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return pH.waitFor(o).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,a,l)).next(()=>a)}).then(t=>(n.Li=r,t))}function DZ(t,e,n){let i=nW(),r=nW();return n.forEach(t=>i=i.add(t)),e.getEntries(t,i).next(t=>{let i=KK();return n.forEach((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(W$.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):S$("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{zi:i,ji:r}})}function OZ(t,e){const n=R$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function PZ(t,e){const n=R$(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.Ds.getTargetData(t,e).next(r=>r?(i=r,pH.resolve(i)):n.Ds.allocateTargetId(t).next(r=>(i=new NQ(e,r,0,t.currentSequenceNumber),n.Ds.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.Li.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(t.targetId,t),n.qi.set(e,t.targetId)),t})}function NZ(t,e,n){return MZ.apply(this,arguments)}function MZ(){return(MZ=Yg(function*(t,e,n){const i=R$(t),r=i.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!_H(t))throw t;S$("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)})).apply(this,arguments)}function LZ(t,e,n){const i=R$(t);let r=W$.min(),s=nW();return i.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const i=R$(t),r=i.qi.get(n);return void 0!==r?pH.resolve(i.Li.get(r)):i.Ds.getTargetData(e,n)}(i,t,MK(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.Bi.getDocumentsMatchingQuery(t,e,n?r:W$.min(),n?s:nW())).next(t=>(BZ(i,zK(e),t),{documents:t,Wi:s})))}function FZ(t,e){const n=R$(t),i=R$(n.Ds),r=n.Li.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",t=>i.ne(t,e).next(t=>t?t.target:null))}function VZ(t,e){const n=R$(t),i=n.Ui.get(e)||W$.min();return n.persistence.runTransaction("Get new document changes","readonly",t=>n.Ki.getAllFromCollectionGroup(t,e,sH(i,-1),Number.MAX_SAFE_INTEGER)).then(t=>(BZ(n,e,t),t))}function BZ(t,e,n){let i=t.Ui.get(e)||W$.min();n.forEach((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)}),t.Ui.set(e,i)}function jZ(){return(jZ=Yg(function*(t,e,n,i){const r=R$(t);let s=nW(),o=KK();for(const c of n){const t=e.Hi(c.metadata.name);c.document&&(s=s.add(t));const n=e.Ji(c);n.setReadTime(e.Yi(c.metadata.readTime)),o=o.insert(t,n)}const a=r.Ki.newChangeBuffer({trackRemovals:!0}),l=yield PZ(r,function(t){return MK(AK(Y$.fromString(`__bundle__/docs/${t}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",t=>DZ(t,a,o).next(e=>(a.apply(t),e)).next(e=>r.Ds.removeMatchingKeysForTargetId(t,l.targetId).next(()=>r.Ds.addMatchingKeys(t,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(t,e.zi,e.ji)).next(()=>e.zi)))})).apply(this,arguments)}function UZ(t,e){return zZ.apply(this,arguments)}function zZ(){return(zZ=Yg(function*(t,e,n=nW()){const i=yield PZ(t,MK(qQ(e.bundledQuery))),r=R$(t);return r.persistence.runTransaction("Save named query","readwrite",t=>{const s=cQ(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.xs.saveNamedQuery(t,e);const o=i.withResumeToken(mG.EMPTY_BYTE_STRING,s);return r.Li=r.Li.insert(o.targetId,o),r.Ds.updateTargetData(t,o).next(()=>r.Ds.removeMatchingKeysForTargetId(t,i.targetId)).next(()=>r.Ds.addMatchingKeys(t,n,i.targetId)).next(()=>r.xs.saveNamedQuery(t,e))})})).apply(this,arguments)}function qZ(t,e){return`firestore_clients_${t}_${e}`}function $Z(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function HZ(t,e){return`firestore_targets_${t}_${e}`}class GZ{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static Zi(t,e,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new O$(i.error.code,i.error.message))),s?new GZ(t,e,i.state,r):(x$("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class KZ{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Zi(t,e){const n=JSON.parse(e);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new O$(n.error.code,n.error.message))),r?new KZ(t,n.state,i):(x$("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class WZ{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=rW();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=TH(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new WZ(t,r):(x$("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class QZ{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new QZ(e.clientId,e.onlineState):(x$("SharedClientState",`Failed to parse online state: ${t}`),null)}}class YZ{constructor(){this.activeTargetIds=rW()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZZ{constructor(t,e,n,i,r){this.window=t,this.Ws=e,this.persistenceKey=n,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new aG($$),this.started=!1,this.ur=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.cr=qZ(this.persistenceKey,this.nr),this.ar=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new YZ),this.hr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this._r=function(t){return`firestore_bundle_loaded_v2_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return Yg(function*(){const e=yield t.syncEngine.bi();for(const i of e){if(i===t.nr)continue;const e=t.getItem(qZ(t.persistenceKey,i));if(e){const n=WZ.Zi(i,e);n&&(t.rr=t.rr.insert(n.clientId,n))}}t.mr();const n=t.storage.getItem(t.wr);if(n){const e=t.gr(n);e&&t.yr(e)}for(const i of t.ur)t.ir(i);t.ur=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let e=!1;return this.rr.forEach((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,e,n){this.Ir(t,e,n),this.Tr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(HZ(this.persistenceKey,t));if(n){const i=KZ.Zi(t,n);i&&(e=i.state)}}return this.Er.tr(t),this.mr(),e}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(HZ(this.persistenceKey,t))}updateQueryState(t,e,n){this.Ar(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.Tr(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return S$("SharedClientState","READ",t,e),e}setItem(t,e){S$("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){S$("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){var e=this;const n=t;if(n.storageArea===this.storage){if(S$("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void x$("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Yg(function*(){if(e.started){if(null!==n.key)if(e.hr.test(n.key)){if(null==n.newValue){const t=e.br(n.key);return e.Pr(t,null)}{const t=e.Vr(n.key,n.newValue);if(t)return e.Pr(t.clientId,t)}}else if(e.lr.test(n.key)){if(null!==n.newValue){const t=e.Sr(n.key,n.newValue);if(t)return e.Dr(t)}}else if(e.dr.test(n.key)){if(null!==n.newValue){const t=e.Cr(n.key,n.newValue);if(t)return e.Nr(t)}}else if(n.key===e.wr){if(null!==n.newValue){const t=e.gr(n.newValue);if(t)return e.yr(t)}}else if(n.key===e.ar){const t=function(t){let e=xH.ct;if(null!=t)try{const n=JSON.parse(t);A$("number"==typeof n),e=n}catch(t){x$("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue);t!==xH.ct&&e.sequenceNumberHandler(t)}else if(n.key===e._r){const t=e.kr(n.newValue);yield Promise.all(t.map(t=>e.syncEngine.Or(t)))}}else e.ur.push(n)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,e,n){const i=new GZ(this.currentUser,t,e,n),r=$Z(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Xi())}Tr(t){const e=$Z(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Rr(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:t}))}Ar(t,e,n){const i=HZ(this.persistenceKey,t),r=new KZ(t,e,n);this.setItem(i,r.Xi())}vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}br(t){const e=this.hr.exec(t);return e?e[1]:null}Vr(t,e){const n=this.br(t);return WZ.Zi(n,e)}Sr(t,e){const n=this.lr.exec(t),i=Number(n[1]);return GZ.Zi(new b$(void 0!==n[2]?n[2]:null),i,e)}Cr(t,e){const n=this.dr.exec(t),i=Number(n[1]);return KZ.Zi(i,e)}gr(t){return QZ.Zi(t)}kr(t){return JSON.parse(t)}Dr(t){var e=this;return Yg(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);S$("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,e){const n=e?this.rr.insert(t,e):this.rr.remove(t),i=this.pr(this.rr),r=this.pr(n),s=[],o=[];return r.forEach(t=>{i.has(t)||s.push(t)}),i.forEach(t=>{r.has(t)||o.push(t)}),this.syncEngine.Fr(s,o).then(()=>{this.rr=n})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let e=rW();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class XZ{constructor(){this.Br=new YZ,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,e,n){this.Lr[t]=e}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new YZ,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JZ{qr(t){}shutdown(){}}class tX{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){S$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){S$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eX=null;function nX(){return null===eX?eX=268435456+Math.round(2147483648*Math.random()):eX++,"0x"+eX.toString(16)}const iX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rX{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}const sX="WebChannelConnection";class oX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.ro=(t.ssl?"https":"http")+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,e,n,i,r){const s=nX(),o=this.ao(t,e);S$("RestConnection",`Sending RPC '${t}' ${s}:`,o,n);const a={};return this.ho(a,i,r),this.lo(t,o,a,n).then(e=>(S$("RestConnection",`Received RPC '${t}' ${s}: `,e),e),e=>{throw E$("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e})}fo(t,e,n,i,r,s){return this.co(t,e,n,i,r)}ho(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+w$,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}ao(t,e){return`${this.ro}/v1/${e}:${iX[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,n,i){const r=nX();return new Promise((s,o)=>{const a=new _$;a.setWithCredentials(!0),a.listenOnce(p$.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case d$.NO_ERROR:const e=a.getResponseJson();S$(sX,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(e)),s(e);break;case d$.TIMEOUT:S$(sX,`RPC '${t}' ${r} timed out`),o(new O$(D$.DEADLINE_EXCEEDED,"Request time out"));break;case d$.HTTP_ERROR:const n=a.getStatus();if(S$(sX,`RPC '${t}' ${r} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(D$).indexOf(e)>=0?e:D$.UNKNOWN}(e.status);o(new O$(t,e.message))}else o(new O$(D$.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new O$(D$.UNAVAILABLE,"Connection failed."));break;default:T$()}}finally{S$(sX,`RPC '${t}' ${r} completed.`)}});const l=JSON.stringify(i);S$(sX,`RPC '${t}' ${r} sending request:`,i),a.send(e,"POST",l,n,15)})}wo(t,e,n){const i=nX(),r=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=u$(),o=h$(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new g$({})),this.ho(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const l=r.join("");S$(sX,`Creating RPC '${t}' stream ${i}: ${l}`,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const d=new rX({Wr:e=>{h?S$(sX,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(u||(S$(sX,`Opening RPC '${t}' stream ${i} transport.`),c.open(),u=!0),S$(sX,`RPC '${t}' stream ${i} sending:`,e),c.send(e))},Hr:()=>c.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return p(c,y$.EventType.OPEN,()=>{h||S$(sX,`RPC '${t}' stream ${i} transport opened.`)}),p(c,y$.EventType.CLOSE,()=>{h||(h=!0,S$(sX,`RPC '${t}' stream ${i} transport closed`),d.so())}),p(c,y$.EventType.ERROR,e=>{h||(h=!0,E$(sX,`RPC '${t}' stream ${i} transport errored:`,e),d.so(new O$(D$.UNAVAILABLE,"The operation could not be completed")))}),p(c,y$.EventType.MESSAGE,e=>{var n;if(!h){const r=e.data[0];A$(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){S$(sX,`RPC '${t}' stream ${i} received error:`,o);const e=o.status;let n=function(t){const e=UW[t];if(void 0!==e)return $W(e)}(e),r=o.message;void 0===n&&(n=D$.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),h=!0,d.so(new O$(n,r)),c.close()}else S$(sX,`RPC '${t}' stream ${i} received:`,r),d.io(r)}}),p(o,f$.STAT_EVENT,e=>{e.stat===m$.PROXY?S$(sX,`RPC '${t}' stream ${i} detected buffering proxy`):e.stat===m$.NOPROXY&&S$(sX,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.no()},0),d}}function aX(){return"undefined"!=typeof window?window:null}function lX(){return"undefined"!=typeof document?document:null}function cX(t){return new sQ(t,!0)}class uX{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Ws=t,this.timerId=e,this._o=n,this.mo=i,this.yo=r,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),i=Math.max(0,e-n);i>0&&S$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class hX{constructor(t,e,n,i,r,s,o,a){this.Ws=t,this.bo=n,this.Po=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new uX(t,e)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var t=this;return Yg(function*(){t.xo()&&(yield t.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}Mo(){var t=this;return Yg(function*(){if(t.No())return t.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(t,e){var n=this;return Yg(function*(){n.Bo(),n.Lo(),n.Co.cancel(),n.Vo++,4!==t?n.Co.reset():e&&e.code===D$.RESOURCE_EXHAUSTED?(x$(e.toString()),x$("Using maximum backoff delay to prevent overloading the backend."),n.Co.Eo()):e&&e.code===D$.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.qo(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.Vo===e&&this.Ko(t,n)},e=>{t(()=>{const t=new O$(D$.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Go(t)})})}Ko(t,e){const n=this.Uo(this.Vo);this.stream=this.Qo(t,e),this.stream.Jr(()=>{n(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(t=>{n(()=>this.Go(t))}),this.stream.onMessage(t=>{n(()=>this.onMessage(t))})}ko(){var t=this;this.state=5,this.Co.Ao(Yg(function*(){t.state=0,t.start()}))}Go(t){return S$("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Ws.enqueueAndForget(()=>this.Vo===t?e():(S$("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dX extends hX{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}Qo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.Co.reset();const e=function(t,e){let n;if("targetChange"in e){const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:T$()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(A$(void 0===e||"string"==typeof e),mG.fromBase64String(e||"")):(A$(void 0===e||e instanceof Uint8Array),mG.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?D$.UNKNOWN:$W(t.code);return new O$(e,t.message||"")}(o);n=new ZW(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=pQ(t,i.document.name),s=cQ(i.document.updateTime),o=i.document.createTime?cQ(i.document.createTime):W$.min(),a=new GG({mapValue:{fields:i.document.fields}}),l=WG.newFoundDocument(r,s,o,a);n=new QW(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=pQ(t,i.document),s=i.readTime?cQ(i.readTime):W$.min(),o=WG.newNoDocument(r,s);n=new QW([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=pQ(t,i.document);n=new QW([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return T$();{const t=e.filter,i=new jW(t.count||0);n=new YW(t.targetId,i)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return W$.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?W$.min():e.readTime?cQ(e.readTime):W$.min()}(t);return this.listener.zo(e,n)}jo(t){const e={};e.database=gQ(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;return n=kK(i)?{documents:CQ(t,i)}:{query:kQ(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=aQ(t,e.resumeToken):e.snapshotVersion.compareTo(W$.min())>0&&(n.readTime=oQ(t,e.snapshotVersion.toTimestamp())),n}(this.serializer,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return T$()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Fo(e)}Wo(t){const e={};e.database=gQ(this.serializer),e.removeTarget=t,this.Fo(e)}}class pX extends hX{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(A$(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const e=function(t,e){return t&&t.length>0?(A$(void 0!==e),t.map(t=>function(t,e){let n=cQ(t.updateTime?t.updateTime:e);return n.isEqual(W$.min())&&(n=cQ(e)),new wW(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=cQ(t.commitTime);return this.listener.Zo(n,e)}return A$(!t.writeResults||0===t.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=gQ(this.serializer),this.Fo(t)}Yo(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>bQ(this.serializer,t))};this.Fo(e)}}class fX extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new O$(D$.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,n){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.co(t,e,n,i,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===D$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new O$(D$.UNKNOWN,t.toString())})}fo(t,e,n,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.fo(t,e,n,r,s,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===D$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new O$(D$.UNKNOWN,t.toString())})}terminate(){this.eu=!0}}class mX{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,"Online"===t&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(x$(e),this.ru=!1):S$("OnlineStateTracker",e)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class gX{constructor(t,e,n,i,r){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=r,this._u.qr(t=>{n.enqueueAndForget(Yg(function*(){var t;IX(s)&&(S$("RemoteStore","Restarting streams for network reachability change."),yield(t=Yg(function*(t){const e=R$(t);e.du.add(4),yield vX(e),e.mu.set("Unknown"),e.du.delete(4),yield yX(e)}),function(e){return t.apply(this,arguments)})(s))}))}),this.mu=new mX(n,i)}}function yX(t){return _X.apply(this,arguments)}function _X(){return(_X=Yg(function*(t){if(IX(t))for(const e of t.wu)yield e(!0)})).apply(this,arguments)}function vX(t){return bX.apply(this,arguments)}function bX(){return(bX=Yg(function*(t){for(const e of t.wu)yield e(!1)})).apply(this,arguments)}function wX(t,e){const n=R$(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),EX(n)?xX(n):nJ(n).No()&&kX(n,e))}function CX(t,e){const n=R$(t),i=nJ(n);n.fu.delete(e),i.No()&&SX(n,e),0===n.fu.size&&(i.No()?i.$o():IX(n)&&n.mu.set("Unknown"))}function kX(t,e){t.gu.Ot(e.targetId),nJ(t).jo(e)}function SX(t,e){t.gu.Ot(e),nJ(t).Wo(e)}function xX(t){t.gu=new JW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),nJ(t).start(),t.mu.ou()}function EX(t){return IX(t)&&!nJ(t).xo()&&t.fu.size>0}function IX(t){return 0===R$(t).du.size}function TX(t){t.gu=void 0}function AX(t){return RX.apply(this,arguments)}function RX(){return(RX=Yg(function*(t){t.fu.forEach((e,n)=>{kX(t,e)})})).apply(this,arguments)}function DX(t,e){return OX.apply(this,arguments)}function OX(){return(OX=Yg(function*(t,e){TX(t),EX(t)?(t.mu.au(e),xX(t)):t.mu.set("Unknown")})).apply(this,arguments)}function PX(t,e,n){return NX.apply(this,arguments)}function NX(){return(NX=Yg(function*(t,e,n){if(t.mu.set("Online"),e instanceof ZW&&2===e.state&&e.cause)try{yield(i=Yg(function*(t,e){const n=e.cause;for(const i of e.targetIds)t.fu.has(i)&&(yield t.remoteSyncer.rejectListen(i,n),t.fu.delete(i),t.gu.removeTarget(i))}),function(t,e){return i.apply(this,arguments)})(t,e)}catch(n){S$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield MX(t,n)}else if(e instanceof QW?t.gu.Kt(e):e instanceof YW?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(W$.min()))try{const e=yield AZ(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.gu.Xt(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.fu.get(i);r&&t.fu.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.fu.get(e);if(!n)return;t.fu.set(e,n.withResumeToken(mG.EMPTY_BYTE_STRING,n.snapshotVersion)),SX(t,e);const i=new NQ(n.target,e,1,n.sequenceNumber);kX(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(e){S$("RemoteStore","Failed to raise snapshot:",e),yield MX(t,e)}var i})).apply(this,arguments)}function MX(t,e,n){return LX.apply(this,arguments)}function LX(){return(LX=Yg(function*(t,e,n){if(!_H(e))throw e;t.du.add(1),yield vX(t),t.mu.set("Offline"),n||(n=()=>AZ(t.localStore)),t.asyncQueue.enqueueRetryable(Yg(function*(){S$("RemoteStore","Retrying IndexedDB access"),yield n(),t.du.delete(1),yield yX(t)}))})).apply(this,arguments)}function FX(t,e){return e().catch(n=>MX(t,n,e))}function VX(t){return BX.apply(this,arguments)}function BX(){return(BX=Yg(function*(t){const e=R$(t),n=iJ(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;jX(e);)try{const t=yield OZ(e.localStore,i);if(null===t){0===e.lu.length&&n.$o();break}i=t.batchId,UX(e,t)}catch(t){yield MX(e,t)}zX(e)&&qX(e)})).apply(this,arguments)}function jX(t){return IX(t)&&t.lu.length<10}function UX(t,e){t.lu.push(e);const n=iJ(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function zX(t){return IX(t)&&!iJ(t).xo()&&t.lu.length>0}function qX(t){iJ(t).start()}function $X(t){return HX.apply(this,arguments)}function HX(){return(HX=Yg(function*(t){iJ(t).tu()})).apply(this,arguments)}function GX(t){return KX.apply(this,arguments)}function KX(){return(KX=Yg(function*(t){const e=iJ(t);for(const n of t.lu)e.Yo(n.mutations)})).apply(this,arguments)}function WX(t,e,n){return QX.apply(this,arguments)}function QX(){return(QX=Yg(function*(t,e,n){const i=t.lu.shift(),r=VW.from(i,e,n);yield FX(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield VX(t)})).apply(this,arguments)}function YX(t,e){return ZX.apply(this,arguments)}function ZX(){return(ZX=Yg(function*(t,e){var n;e&&iJ(t).Jo&&(yield(n=Yg(function*(t,e){if(qW(n=e.code)&&n!==D$.ABORTED){const n=t.lu.shift();iJ(t).Oo(),yield FX(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield VX(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),zX(t)&&qX(t)})).apply(this,arguments)}function XX(t,e){return JX.apply(this,arguments)}function JX(){return(JX=Yg(function*(t,e){const n=R$(t);n.asyncQueue.verifyOperationInProgress(),S$("RemoteStore","RemoteStore received new credentials");const i=IX(n);n.du.add(3),yield vX(n),i&&n.mu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),yield yX(n)})).apply(this,arguments)}function tJ(t,e){return eJ.apply(this,arguments)}function eJ(){return(eJ=Yg(function*(t,e){const n=R$(t);e?(n.du.delete(2),yield yX(n)):e||(n.du.add(2),yield vX(n),n.mu.set("Unknown"))})).apply(this,arguments)}function nJ(t){return t.yu||(t.yu=function(t,e,n){const i=R$(t);return i.nu(),new dX(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Jr:AX.bind(null,t),Zr:DX.bind(null,t),zo:PX.bind(null,t)}),t.wu.push(function(){var e=Yg(function*(e){e?(t.yu.Oo(),EX(t)?xX(t):t.mu.set("Unknown")):(yield t.yu.stop(),TX(t))});return function(t){return e.apply(this,arguments)}}())),t.yu}function iJ(t){return t.pu||(t.pu=function(t,e,n){const i=R$(t);return i.nu(),new pX(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Jr:$X.bind(null,t),Zr:YX.bind(null,t),Xo:GX.bind(null,t),Zo:WX.bind(null,t)}),t.wu.push(function(){var e=Yg(function*(e){e?(t.pu.Oo(),yield VX(t)):(yield t.pu.stop(),t.lu.length>0&&(S$("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))});return function(t){return e.apply(this,arguments)}}())),t.pu}class rJ{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new P$,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new rJ(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O$(D$.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sJ(t,e){if(x$("AsyncQueue",`${e}: ${t}`),_H(t))return new O$(D$.UNAVAILABLE,`${e}: ${t}`);throw t}class oJ{constructor(t){this.comparator=t?(e,n)=>t(e,n)||J$.comparator(e.key,n.key):(t,e)=>J$.comparator(t.key,e.key),this.keyedMap=QK(),this.sortedSet=new aG(this.comparator)}static emptySet(t){return new oJ(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof oJ))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new oJ;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class aJ{constructor(){this.Iu=new aG(J$.comparator)}track(t){const e=t.doc.key,n=this.Iu.get(e);n?0!==t.type&&3===n.type?this.Iu=this.Iu.insert(e,t):3===t.type&&1!==n.type?this.Iu=this.Iu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Iu=this.Iu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Iu=this.Iu.remove(e):1===t.type&&2===n.type?this.Iu=this.Iu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):T$():this.Iu=this.Iu.insert(e,t)}Tu(){const t=[];return this.Iu.inorderTraversal((e,n)=>{t.push(n)}),t}}class lJ{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new lJ(t,e,oJ.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&VK(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class cJ{constructor(){this.Eu=void 0,this.listeners=[]}}class uJ{constructor(){this.queries=new HK(t=>BK(t),VK),this.onlineState="Unknown",this.Au=new Set}}function hJ(t,e){return dJ.apply(this,arguments)}function dJ(){return(dJ=Yg(function*(t,e){const n=R$(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new cJ),r)try{s.Eu=yield n.onListen(i)}catch(t){const n=sJ(t,`Initialization of query '${jK(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&yJ(n)})).apply(this,arguments)}function pJ(t,e){return fJ.apply(this,arguments)}function fJ(){return(fJ=Yg(function*(t,e){const n=R$(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)})).apply(this,arguments)}function mJ(t,e){const n=R$(t);let i=!1;for(const r of e){const t=n.queries.get(r.query);if(t){for(const e of t.listeners)e.vu(r)&&(i=!0);t.Eu=r}}i&&yJ(n)}function gJ(t,e,n){const i=R$(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function yJ(t){t.Au.forEach(t=>{t.next()})}class _J{constructor(t,e,n){this.query=t,this.bu=e,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}vu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new lJ(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),e=!0):this.Du(t,this.onlineState)&&(this.Cu(t),e=!0),this.Vu=t,e}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let e=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),e=!0),e}Du(t,e){return!t.fromCache||(!this.options.xu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Su(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(t){t=lJ.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}class vJ{constructor(t,e){this.Nu=t,this.byteLength=e}ku(){return"metadata"in this.Nu}}class bJ{constructor(t){this.serializer=t}Hi(t){return pQ(this.serializer,t)}Ji(t){return t.metadata.exists?vQ(this.serializer,t.document,!1):WG.newNoDocument(this.Hi(t.metadata.name),this.Yi(t.metadata.readTime))}Yi(t){return cQ(t)}}class wJ{constructor(t,e,n){this.Ou=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CJ(t)}$u(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Nu.namedQuery)this.queries.push(t.Nu.namedQuery);else if(t.Nu.documentMetadata){this.documents.push({metadata:t.Nu.documentMetadata}),t.Nu.documentMetadata.exists||++e;const n=Y$.fromString(t.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.Nu.document&&(this.documents[this.documents.length-1].document=t.Nu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,n=new bJ(this.serializer);for(const i of t)if(i.metadata.queries){const t=n.Hi(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||nW()).add(t);e.set(n,i)}}return e}complete(){var t=this;return Yg(function*(){const e=yield function(t,e,n,i){return jZ.apply(this,arguments)}(t.localStore,new bJ(t.serializer),t.documents,t.Ou.id),n=t.Mu(t.documents);for(const i of t.queries)yield UZ(t.localStore,i,n.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Fu:t.collectionGroups,Bu:e}})()}}function CJ(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class kJ{constructor(t){this.key=t}}class SJ{constructor(t){this.key=t}}class xJ{constructor(t,e){this.query=t,this.Lu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=nW(),this.mutatedKeys=nW(),this.Ku=qK(t),this.Gu=new oJ(this.Ku)}get Qu(){return this.Lu}zu(t,e){const n=e?e.ju:new aJ,i=e?e.Gu:this.Gu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const c=i.get(t),u=UK(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Wu(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Ku(u,a)>0||l&&this.Ku(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Gu:s,ju:n,Mi:o,mutatedKeys:r}}Wu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const r=t.ju.Tu();r.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return T$()}};return n(t)-n(e)}(t.type,e.type)||this.Ku(t.doc,e.doc)),this.Hu(n);const s=e?this.Ju():[],o=0===this.Uu.size&&this.current?1:0,a=o!==this.qu;return this.qu=o,0!==r.length||a?{snapshot:new lJ(this.query,t.Gu,i,r,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:s}:{Yu:s}}Ru(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new aJ,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=nW(),this.Gu.forEach(t=>{this.Zu(t.key)&&(this.Uu=this.Uu.add(t.key))});const e=[];return t.forEach(t=>{this.Uu.has(t)||e.push(new SJ(t))}),this.Uu.forEach(n=>{t.has(n)||e.push(new kJ(n))}),e}Xu(t){this.Lu=t.Wi,this.Uu=nW();const e=this.zu(t.documents);return this.applyChanges(e,!0)}tc(){return lJ.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class EJ{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class IJ{constructor(t){this.key=t,this.ec=!1}}class TJ{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.nc={},this.sc=new HK(t=>BK(t),VK),this.ic=new Map,this.rc=new Set,this.oc=new aG(J$.comparator),this.uc=new Map,this.cc=new oZ,this.ac={},this.hc=new Map,this.lc=LY.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function AJ(t,e){return RJ.apply(this,arguments)}function RJ(){return(RJ=Yg(function*(t,e){const n=v0(t);let i,r;const s=n.sc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const t=yield PZ(n.localStore,MK(e));n.isPrimaryClient&&wX(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=yield DJ(n,e,i,"current"===s,t.resumeToken)}return r})).apply(this,arguments)}function DJ(t,e,n,i,r){return OJ.apply(this,arguments)}function OJ(){return(OJ=Yg(function*(t,e,n,i,r){t.dc=(e,n,i)=>{return(r=Yg(function*(t,e,n,i){let r=e.view.zu(n);r.Mi&&(r=yield LZ(t.localStore,e.query,!1).then(({documents:t})=>e.view.zu(t,r)));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return YJ(t,e.targetId,o.Yu),o.snapshot}),function(t,e,n,i){return r.apply(this,arguments)})(t,e,n,i);var r};const s=yield LZ(t.localStore,e,!0),o=new xJ(e,s.Wi),a=o.zu(s.documents),l=WW.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);YJ(t,n,c.Yu);const u=new EJ(e,n,o);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot})).apply(this,arguments)}function PJ(t,e){return NJ.apply(this,arguments)}function NJ(){return(NJ=Yg(function*(t,e){const n=R$(t),i=n.sc.get(e),r=n.ic.get(i.targetId);if(r.length>1)return n.ic.set(i.targetId,r.filter(t=>!VK(t,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield NZ(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),CX(n.remoteStore,i.targetId),WJ(n,i.targetId)}).catch(hH))):(WJ(n,i.targetId),yield NZ(n.localStore,i.targetId,!0))})).apply(this,arguments)}function MJ(){return(MJ=Yg(function*(t,e,n){const i=b0(t);try{const t=yield function(t,e){const n=R$(t),i=K$.now(),r=e.reduce((t,e)=>t.add(e.key),nW());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let a=KK(),l=nW();return n.Ki.getEntries(t,r).next(t=>{a=t,a.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,a)).next(r=>{s=r;const o=[];for(const t of e){const e=TW(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new DW(t.key,e,KG(e.value.mapValue),CW.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)}).next(e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)})}).then(()=>({batchId:o.batchId,changes:YK(s)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.ac[t.currentUser.toKey()];i||(i=new aG($$)),i=i.insert(e,n),t.ac[t.currentUser.toKey()]=i}(i,t.batchId,n),yield JJ(i,t.changes),yield VX(i.remoteStore)}catch(t){const e=sJ(t,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function LJ(t,e){return FJ.apply(this,arguments)}function FJ(){return(FJ=Yg(function*(t,e){const n=R$(t);try{const t=yield RZ(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.uc.get(e);i&&(A$(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.ec=!0:t.modifiedDocuments.size>0?A$(i.ec):t.removedDocuments.size>0&&(A$(i.ec),i.ec=!1))}),yield JJ(n,t,e)}catch(t){yield hH(t)}})).apply(this,arguments)}function VJ(t,e,n){const i=R$(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.sc.forEach((n,i)=>{const r=i.view.Ru(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=R$(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.listeners)r.Ru(e)&&(i=!0)}),i&&yJ(n)}(i.eventManager,e),t.length&&i.nc.zo(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function BJ(t,e,n){return jJ.apply(this,arguments)}function jJ(){return(jJ=Yg(function*(t,e,n){const i=R$(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.uc.get(e),s=r&&r.key;if(s){let t=new aG(J$.comparator);t=t.insert(s,WG.newNoDocument(s,W$.min()));const n=nW().add(s),r=new KW(W$.min(),new Map,new uG($$),t,n);yield LJ(i,r),i.oc=i.oc.remove(s),i.uc.delete(e),XJ(i)}else yield NZ(i.localStore,e,!1).then(()=>WJ(i,e,n)).catch(hH)})).apply(this,arguments)}function UJ(t,e){return zJ.apply(this,arguments)}function zJ(){return(zJ=Yg(function*(t,e){const n=R$(t),i=e.batch.batchId;try{const t=yield TZ(n.localStore,e);KJ(n,i,null),GJ(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield JJ(n,t)}catch(t){yield hH(t)}})).apply(this,arguments)}function qJ(t,e,n){return $J.apply(this,arguments)}function $J(){return($J=Yg(function*(t,e,n){const i=R$(t);try{const t=yield function(t,e){const n=R$(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(A$(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}(i.localStore,e);KJ(i,e,n),GJ(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield JJ(i,t)}catch(n){yield hH(n)}})).apply(this,arguments)}function HJ(){return(HJ=Yg(function*(t,e){const n=R$(t);IX(n.remoteStore)||S$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=R$(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const i=n.hc.get(t)||[];i.push(e),n.hc.set(t,i)}catch(t){const n=sJ(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}})).apply(this,arguments)}function GJ(t,e){(t.hc.get(e)||[]).forEach(t=>{t.resolve()}),t.hc.delete(e)}function KJ(t,e,n){const i=R$(t);let r=i.ac[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function WJ(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ic.get(e))t.sc.delete(i),n&&t.nc.wc(i,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(e=>{t.cc.containsKey(e)||QJ(t,e)})}function QJ(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(CX(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),XJ(t))}function YJ(t,e,n){for(const i of n)i instanceof kJ?(t.cc.addReference(i.key,e),ZJ(t,i)):i instanceof SJ?(S$("SyncEngine","Document no longer in limbo: "+i.key),t.cc.removeReference(i.key,e),t.cc.containsKey(i.key)||QJ(t,i.key)):T$()}function ZJ(t,e){const n=e.key,i=n.path.canonicalString();t.oc.get(n)||t.rc.has(i)||(S$("SyncEngine","New document in limbo: "+n),t.rc.add(i),XJ(t))}function XJ(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new J$(Y$.fromString(e)),i=t.lc.next();t.uc.set(i,new IJ(n)),t.oc=t.oc.insert(n,i),wX(t.remoteStore,new NQ(MK(AK(n.path)),i,2,xH.ct))}}function JJ(t,e,n){return t0.apply(this,arguments)}function t0(){return(t0=Yg(function*(t,e,n){const i=R$(t),r=[],s=[],o=[];var a;i.sc.isEmpty()||(i.sc.forEach((t,a)=>{o.push(i.dc(a,e,n).then(t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=CZ.Di(a.targetId,t);s.push(e)}}))}),yield Promise.all(o),i.nc.zo(r),yield(a=Yg(function*(t,e){const n=R$(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>pH.forEach(e,e=>pH.forEach(e.Vi,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>pH.forEach(e.Si,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!_H(t))throw t;S$("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Li.get(t),i=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Li=n.Li.insert(t,i)}}}),function(t,e){return a.apply(this,arguments)})(i.localStore,s))})).apply(this,arguments)}function e0(t,e){return n0.apply(this,arguments)}function n0(){return(n0=Yg(function*(t,e){const n=R$(t);if(!n.currentUser.isEqual(e)){S$("SyncEngine","User change. New user:",e.toKey());const t=yield EZ(n.localStore,e);n.currentUser=e,function(t,e){t.hc.forEach(t=>{t.forEach(t=>{t.reject(new O$(D$.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.hc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield JJ(n,t.Qi)}})).apply(this,arguments)}function i0(t,e){const n=R$(t),i=n.uc.get(e);if(i&&i.ec)return nW().add(i.key);{let t=nW();const i=n.ic.get(e);if(!i)return t;for(const e of i){const i=n.sc.get(e);t=t.unionWith(i.view.Qu)}return t}}function r0(t,e){return s0.apply(this,arguments)}function s0(){return(s0=Yg(function*(t,e){const n=R$(t),i=yield LZ(n.localStore,e.query,!0),r=e.view.Xu(i);return n.isPrimaryClient&&YJ(n,e.targetId,r.Yu),r})).apply(this,arguments)}function o0(t,e){return a0.apply(this,arguments)}function a0(){return(a0=Yg(function*(t,e){const n=R$(t);return VZ(n.localStore,e).then(t=>JJ(n,t))})).apply(this,arguments)}function l0(t,e,n,i){return c0.apply(this,arguments)}function c0(){return(c0=Yg(function*(t,e,n,i){const r=R$(t),s=yield function(t,e){const n=R$(t),i=R$(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>i.In(t,e).next(e=>e?n.localDocuments.getDocuments(t,e):pH.resolve(null)))}(r.localStore,e);null!==s?("pending"===n?yield VX(r.remoteStore):"acknowledged"===n||"rejected"===n?(KJ(r,e,i||null),GJ(r,e),function(t,e){R$(R$(t).mutationQueue).En(e)}(r.localStore,e)):T$(),yield JJ(r,s)):S$("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function u0(){return(u0=Yg(function*(t,e){const n=R$(t);if(v0(n),b0(n),!0===e&&!0!==n.fc){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield h0(n,t.toArray());n.fc=!0,yield tJ(n.remoteStore,!0);for(const i of e)wX(n.remoteStore,i)}else if(!1===e&&!1!==n.fc){const t=[];let e=Promise.resolve();n.ic.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?t.push(r):e=e.then(()=>(WJ(n,r),NZ(n.localStore,r,!0))),CX(n.remoteStore,r)}),yield e,yield h0(n,t),function(t){const e=R$(t);e.uc.forEach((t,n)=>{CX(e.remoteStore,n)}),e.cc.ls(),e.uc=new Map,e.oc=new aG(J$.comparator)}(n),n.fc=!1,yield tJ(n.remoteStore,!1)}})).apply(this,arguments)}function h0(t,e,n){return d0.apply(this,arguments)}function d0(){return(d0=Yg(function*(t,e,n){const i=R$(t),r=[],s=[];for(const o of e){let t;const e=i.ic.get(o);if(e&&0!==e.length){t=yield PZ(i.localStore,MK(e[0]));for(const t of e){const e=i.sc.get(t),n=yield r0(i,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield FZ(i.localStore,o);t=yield PZ(i.localStore,e),yield DJ(i,p0(e),o,!1,t.resumeToken)}r.push(t)}return i.nc.zo(s),r})).apply(this,arguments)}function p0(t){return TK(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function f0(t){const e=R$(t);return R$(R$(e.localStore).persistence).bi()}function m0(t,e,n,i){return g0.apply(this,arguments)}function g0(){return(g0=Yg(function*(t,e,n,i){const r=R$(t);if(r.fc)return void S$("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const t=yield VZ(r.localStore,zK(s[0])),i=KW.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,mG.EMPTY_BYTE_STRING);yield JJ(r,t,i);break}case"rejected":yield NZ(r.localStore,e,!0),WJ(r,e,i);break;default:T$()}})).apply(this,arguments)}function y0(t,e,n){return _0.apply(this,arguments)}function _0(){return(_0=Yg(function*(t,e,n){const i=v0(t);if(i.fc){for(const t of e){if(i.ic.has(t)){S$("SyncEngine","Adding an already active target "+t);continue}const e=yield FZ(i.localStore,t),n=yield PZ(i.localStore,e);yield DJ(i,p0(e),n.targetId,!1,n.resumeToken),wX(i.remoteStore,n)}for(const t of n)i.ic.has(t)&&(yield NZ(i.localStore,t,!1).then(()=>{CX(i.remoteStore,t),WJ(i,t)}).catch(hH))}})).apply(this,arguments)}function v0(t){const e=R$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LJ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BJ.bind(null,e),e.nc.zo=mJ.bind(null,e.eventManager),e.nc.wc=gJ.bind(null,e.eventManager),e}function b0(t){const e=R$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qJ.bind(null,e),e}class w0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return Yg(function*(){e.serializer=cX(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return xZ(this.persistence,new kZ,t.initialUser,this.serializer)}createPersistence(t){return new dZ(fZ.Fs,this.serializer)}createSharedClientState(t){return new XZ}terminate(){var t=this;return Yg(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class C0 extends w0{constructor(t,e,n){super(),this.mc=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return Yg(function*(){yield e().call(n,t),yield n.mc.initialize(n,t),yield b0(n.mc.syncEngine),yield VX(n.mc.remoteStore),yield n.persistence.hi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return xZ(this.persistence,new kZ,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new qY(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new SH(e,this.persistence);return new kH(t.asyncQueue,n)}createPersistence(t){const e=wZ(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?TY.withCacheSize(this.cacheSizeBytes):TY.DEFAULT;return new _Z(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,aX(),lX(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new XZ}}class k0 extends C0{constructor(t,e){super(t,e,!1),this.mc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return Yg(function*(){yield e().call(n,t);const i=n.mc.syncEngine;n.sharedClientState instanceof ZZ&&(n.sharedClientState.syncEngine={$r:l0.bind(null,i),Mr:m0.bind(null,i),Fr:y0.bind(null,i),bi:f0.bind(null,i),Or:o0.bind(null,i)},yield n.sharedClientState.start()),yield n.persistence.hi(function(){var t=Yg(function*(t){yield function(t,e){return u0.apply(this,arguments)}(n.mc.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start():t||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(t&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():t||n.indexBackfillerScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}createSharedClientState(t){const e=aX();if(!ZZ.D(e))throw new O$(D$.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=wZ(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ZZ(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class S0{initialize(t,e){var n=this;return Yg(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>VJ(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=e0.bind(null,n.syncEngine),yield tJ(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new uJ}createDatastore(t){const e=cX(t.databaseInfo.databaseId),n=new oX(t.databaseInfo);return function(t,e,n,i){return new fX(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>VJ(this.syncEngine,t,0),s=tX.D()?new tX:new JZ,new gX(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new TJ(t,e,n,i,r,s);return o&&(a.fc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=Yg(function*(t){const e=R$(t);S$("RemoteStore","RemoteStore shutting down."),e.du.add(5),yield vX(e),e._u.shutdown(),e.mu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function x0(t,e=10240){let n=0;return{read:()=>Yg(function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})(),cancel:()=>Yg(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class E0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):x$("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class I0{constructor(t,e){this.Ic=t,this.serializer=e,this.metadata=new P$,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(t=>{t&&t.ku()?this.metadata.resolve(t.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.Nu)}`))},t=>this.metadata.reject(t))}close(){return this.Ic.cancel()}getMetadata(){var t=this;return Yg(function*(){return t.metadata.promise})()}_c(){var t=this;return Yg(function*(){return yield t.getMetadata(),t.Ec()})()}Ec(){var t=this;return Yg(function*(){const e=yield t.Ac();if(null===e)return null;const n=t.Tc.decode(e),i=Number(n);isNaN(i)&&t.Rc(`length string (${n}) is not valid number`);const r=yield t.vc(i);return new vJ(JSON.parse(r),e.length+i)})()}bc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ac(){var t=this;return Yg(function*(){for(;t.bc()<0&&!(yield t.Pc()););if(0===t.buffer.length)return null;const e=t.bc();e<0&&t.Rc("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}vc(t){var e=this;return Yg(function*(){for(;e.buffer.length<t;)(yield e.Pc())&&e.Rc("Reached the end of bundle when more is expected.");const n=e.Tc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}Rc(t){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${t}`)}Pc(){var t=this;return Yg(function*(){const e=yield t.Ic.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class T0{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return Yg(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new O$(D$.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(i=Yg(function*(t,e){const n=R$(t),i=gQ(n.serializer)+"/documents",r={documents:e.map(t=>dQ(n.serializer,t))},s=yield n.fo("BatchGetDocuments",i,r,e.length),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){A$(!!e.found);const n=pQ(t,e.found.name),i=cQ(e.found.updateTime),r=e.found.createTime?cQ(e.found.createTime):W$.min(),s=new GG({mapValue:{fields:e.found.fields}});return WG.newFoundDocument(n,i,r,s)}(t,e):"missing"in e?function(t,e){A$(!!e.missing),A$(!!e.readTime);const n=pQ(t,e.missing),i=cQ(e.readTime);return WG.newNoDocument(n,i)}(t,e):T$()}(n.serializer,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());A$(!!e),a.push(e)}),a}),function(t,e){return i.apply(this,arguments)})(e.datastore,t);var i;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new MW(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return Yg(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const i=J$.fromPath(n);t.mutations.push(new LW(i,t.precondition(i)))}),yield(n=Yg(function*(t,e){const n=R$(t),i=gQ(n.serializer)+"/documents",r={writes:e.map(t=>bQ(n.serializer,t))};yield n.co("Commit",i,r)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw T$();e=W$.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new O$(D$.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(W$.min())?CW.exists(!1):CW.updateTime(e):CW.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(W$.min()))throw new O$(D$.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return CW.updateTime(e)}return CW.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class A0{constructor(t,e,n,i,r){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=i,this.deferred=r,this.Vc=n.maxAttempts,this.Co=new uX(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var t=this;this.Co.Ao(Yg(function*(){const e=new T0(t.datastore),n=t.Dc(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.Cc(e)}))}).catch(e=>{t.Cc(e)})}))}Dc(t){try{const e=this.updateFunction(t);return!EH(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!qW(e)}return!1}}class R0{constructor(t,e,n,i){var r=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=b$.UNAUTHENTICATED,this.clientId=q$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var t=Yg(function*(t){S$("FirestoreClient","Received user=",t.uid),yield r.authCredentialListener(t),r.user=t});return function(e){return t.apply(this,arguments)}}()),this.appCheckCredentials.start(n,t=>(S$("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}getConfiguration(){var t=this;return Yg(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O$(D$.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new P$;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Yg(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const t=sJ(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function D0(t,e){return O0.apply(this,arguments)}function O0(){return(O0=Yg(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S$("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var t=Yg(function*(t){i.isEqual(t)||(yield EZ(e.localStore,t),i=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})).apply(this,arguments)}function P0(t,e){return N0.apply(this,arguments)}function N0(){return(N0=Yg(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield L0(t);S$("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(t=>XX(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>XX(e.remoteStore,n)),t._onlineComponents=e})).apply(this,arguments)}function M0(t){return"FirebaseError"===t.name?t.code===D$.FAILED_PRECONDITION||t.code===D$.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function L0(t){return F0.apply(this,arguments)}function F0(){return(F0=Yg(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!M0(n))throw n;E$("Error using user provided cache. Falling back to memory cache: "+n),yield D0(t,new w0)}}else S$("FirestoreClient","Using default OfflineComponentProvider"),yield D0(t,new w0);return t._offlineComponents})).apply(this,arguments)}function V0(t){return B0.apply(this,arguments)}function B0(){return(B0=Yg(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S$("FirestoreClient","Using user provided OnlineComponentProvider"),yield P0(t,t._uninitializedComponentsProvider._online)):(S$("FirestoreClient","Using default OnlineComponentProvider"),yield P0(t,new S0))),t._onlineComponents})).apply(this,arguments)}function j0(t){return L0(t).then(t=>t.persistence)}function U0(t){return L0(t).then(t=>t.localStore)}function z0(t){return V0(t).then(t=>t.remoteStore)}function q0(t){return V0(t).then(t=>t.syncEngine)}function $0(t){return H0.apply(this,arguments)}function H0(){return(H0=Yg(function*(t){const e=yield V0(t),n=e.eventManager;return n.onListen=AJ.bind(null,e.syncEngine),n.onUnlisten=PJ.bind(null,e.syncEngine),n})).apply(this,arguments)}function G0(t,e,n={}){const i=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e,n,i,r){const s=new E0({next:s=>{e.enqueueAndForget(()=>pJ(t,o));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new O$(D$.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new O$(D$.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new _J(AK(n.path),s,{includeMetadataChanges:!0,xu:!0});return hJ(t,o)}(yield $0(t),t.asyncQueue,e,n,i)})),i.promise}function K0(t,e,n={}){const i=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e,n,i,r){const s=new E0({next:n=>{e.enqueueAndForget(()=>pJ(t,o)),n.fromCache&&"server"===i.source?r.reject(new O$(D$.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new _J(n,s,{includeMetadataChanges:!0,xu:!0});return hJ(t,o)}(yield $0(t),t.asyncQueue,e,n,i)})),i.promise}const W0=new Map;function Q0(t,e,n){if(!n)throw new O$(D$.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y0(t){if(!J$.isDocumentKey(t))throw new O$(D$.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z0(t){if(J$.isDocumentKey(t))throw new O$(D$.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":T$()}function J0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O$(D$.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=X0(t);throw new O$(D$.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function t1(t,e){if(e<=0)throw new O$(D$.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class e1{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new O$(D$.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new O$(D$.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new O$(D$.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n1{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O$(D$.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new O$(D$.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new M$;switch(t.type){case"firstParty":return new B$(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new O$(D$.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=W0.get(t);e&&(S$("ComponentProvider","Removing Datastore"),W0.delete(t),e.terminate())}(this),Promise.resolve()}}function i1(t,e,n,i={}){var r;const s=(t=J0(t,n1))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&E$("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=b$.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ty(JSON.stringify({alg:"none",type:"JWT"})),ty(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new O$(D$.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new b$(s)}t._authCredentials=new L$(new N$(e,n))}}class r1{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new o1(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new r1(this.firestore,t,this._key)}}class s1{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new s1(this.firestore,t,this._query)}}class o1 extends s1{constructor(t,e,n){super(t,e,AK(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new r1(this.firestore,null,new J$(t))}withConverter(t){return new o1(this.firestore,t,this._path)}}function a1(t,e,...n){if(t=Sy(t),1===arguments.length&&(e=q$.A()),Q0("doc","path",e),t instanceof n1){const i=Y$.fromString(e,...n);return Y0(i),new r1(t,null,new J$(i))}{if(!(t instanceof r1||t instanceof o1))throw new O$(D$.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Y$.fromString(e,...n));return Y0(i),new r1(t.firestore,t instanceof o1?t.converter:null,new J$(i))}}function l1(t,e){return t=Sy(t),e=Sy(e),(t instanceof r1||t instanceof o1)&&(e instanceof r1||e instanceof o1)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function c1(t,e){return t=Sy(t),e=Sy(e),t instanceof s1&&e instanceof s1&&t.firestore===e.firestore&&VK(t._query,e._query)&&t.converter===e.converter}class u1{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new uX(this,"async_queue_retry"),this.qc=()=>{const t=lX();t&&S$("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const t=lX();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const e=lX();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const e=new P$;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return Yg(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(Mj){if(!_H(Mj))throw Mj;S$("AsyncQueue","Operation failed with retryable error: "+Mj)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const e=this.Nc.then(()=>(this.Fc=!0,t().catch(t=>{throw this.Mc=t,this.Fc=!1,x$("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.Fc=!1,t))));return this.Nc=e,e}enqueueAfterDelay(t,e,n){this.Uc(),this.Lc.indexOf(t)>-1&&(e=0);const i=rJ.createAndSchedule(this,t,e,n,t=>this.Qc(t));return this.$c.push(i),i}Uc(){this.Mc&&T$()}verifyOperationInProgress(){}zc(){var t=this;return Yg(function*(){let e;do{e=t.Nc,yield e}while(e!==t.Nc)})()}jc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function h1(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(t)}class d1{constructor(){this._progressObserver={},this._taskCompletionResolver=new P$,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class p1 extends n1{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new u1,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||m1(this),this._firestoreClient.terminate()}}function f1(t){return t._firestoreClient||m1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function m1(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new kG(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new R0(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function g1(t,e,n){const i=new P$;return t.asyncQueue.enqueue(Yg(function*(){try{yield D0(t,n),yield P0(t,e),i.resolve()}catch(t){const n=t;if(!M0(n))throw n;E$("Error enabling indexeddb cache. Falling back to memory cache: "+n),i.reject(n)}})).then(()=>i.promise)}function y1(t){if(t._initialized||t._terminated)throw new O$(D$.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _1{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _1(mG.fromBase64String(t))}catch(t){throw new O$(D$.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new _1(mG.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class v1{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new O$(D$.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new X$(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class b1{constructor(t){this._methodName=t}}class w1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new O$(D$.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new O$(D$.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $$(this._lat,t._lat)||$$(this._long,t._long)}}const C1=/^__.*__$/;class k1{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new DW(t,this.data,this.fieldMask,e,this.fieldTransforms):new RW(t,this.data,e,this.fieldTransforms)}}class S1{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new DW(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw T$()}}class E1{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Jc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new E1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Zc({path:n,ta:!1});return i.ea(t),i}na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Zc({path:n,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return G1(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(0===t.length)throw this.ia("Document fields must not be empty");if(x1(this.Yc)&&C1.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class I1{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||cX(t)}ua(t,e,n,i=!1){return new E1({Yc:t,methodName:e,oa:n,path:X$.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T1(t){const e=t._freezeSettings(),n=cX(t._databaseId);return new I1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A1(t,e,n,i,r,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,r);z1("Data must be an object, but it was:",o,i);const a=j1(i,o);let l,c;if(s.merge)l=new pG(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=q1(e,i,n);if(!o.contains(r))throw new O$(D$.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);K1(t,r)||t.push(r)}l=new pG(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new k1(new GG(a),l,c)}class R1 extends b1{_toFieldTransform(t){if(2!==t.Yc)throw t.ia(1===t.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof R1}}function D1(t,e,n){return new E1({Yc:3,oa:e.settings.oa,methodName:t._methodName,ta:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class O1 extends b1{_toFieldTransform(t){return new bW(t.path,new dW)}isEqual(t){return t instanceof O1}}class P1 extends b1{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=D1(this,t,!0),n=this.ca.map(t=>B1(t,e)),i=new pW(n);return new bW(t.path,i)}isEqual(t){return this===t}}class N1 extends b1{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=D1(this,t,!0),n=this.ca.map(t=>B1(t,e)),i=new mW(n);return new bW(t.path,i)}isEqual(t){return this===t}}class M1 extends b1{constructor(t,e){super(t),this.aa=e}_toFieldTransform(t){const e=new yW(t.serializer,aW(t.serializer,this.aa));return new bW(t.path,e)}isEqual(t){return this===t}}function L1(t,e,n,i){const r=t.ua(1,e,n);z1("Data must be an object, but it was:",r,i);const s=[],o=GG.empty();sG(i,(t,i)=>{const a=H1(e,t,n);i=Sy(i);const l=r.na(a);if(i instanceof R1)s.push(a);else{const t=B1(i,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new pG(s);return new S1(o,a,r.fieldTransforms)}function F1(t,e,n,i,r,s){const o=t.ua(1,e,n),a=[q1(e,i,n)],l=[r];if(s.length%2!=0)throw new O$(D$.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(q1(e,s[d])),l.push(s[d+1]);const c=[],u=GG.empty();for(let d=a.length-1;d>=0;--d)if(!K1(c,a[d])){const t=a[d];let e=l[d];e=Sy(e);const n=o.na(t);if(e instanceof R1)c.push(t);else{const i=B1(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new pG(c);return new S1(u,h,o.fieldTransforms)}function V1(t,e,n,i=!1){return B1(n,t.ua(i?4:3,e))}function B1(t,e){if(U1(t=Sy(t)))return z1("Unsupported field value:",e,t),j1(t,e);if(t instanceof b1)return function(t,e){if(!x1(e.Yc))throw e.ia(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ia(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=B1(r,e.sa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Sy(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aW(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=K$.fromDate(t);return{timestampValue:oQ(e.serializer,n)}}if(t instanceof K$){const n=new K$(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:oQ(e.serializer,n)}}if(t instanceof w1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _1)return{bytesValue:aQ(e.serializer,t._byteString)};if(t instanceof r1){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.ia(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uQ(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ia(`Unsupported field value: ${X0(t)}`)}(t,e)}function j1(t,e){const n={};return oG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sG(t,(t,i)=>{const r=B1(i,e.Xc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function U1(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof K$||t instanceof w1||t instanceof _1||t instanceof r1||t instanceof b1)}function z1(t,e,n){if(!U1(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=X0(n);throw e.ia("an object"===i?t+" a custom object":t+" "+i)}}function q1(t,e,n){if((e=Sy(e))instanceof v1)return e._internalPath;if("string"==typeof e)return H1(t,e);throw G1("Field path arguments must be of type string or ",t,!1,void 0,n)}const $1=new RegExp("[~\\*/\\[\\]]");function H1(t,e,n){if(e.search($1)>=0)throw G1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v1(...e.split("."))._internalPath}catch(i){throw G1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function G1(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new O$(D$.INVALID_ARGUMENT,a+t+l)}function K1(t,e){return t.some(t=>t.isEqual(e))}class W1{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new r1(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Y1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Q1 extends W1{data(){return super.data()}}function Y1(t,e){return"string"==typeof e?H1(t,e):e instanceof v1?e._internalPath:e._delegate._internalPath}function Z1(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new O$(D$.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X1{}class J1 extends X1{}class t2 extends J1{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new t2(t,e,n)}_apply(t){const e=this._parse(t);return c2(t._query,e),new s1(t.firestore,t.converter,LK(t._query,e))}_parse(t){const e=T1(t.firestore);return function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new O$(D$.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){l2(o,s);const e=[];for(const n of o)e.push(a2(i,t,n));a={arrayValue:{values:e}}}else a=a2(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||l2(o,s),a=V1(n,"where",o,"in"===s||"not-in"===s);return eK.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class e2 extends X1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new e2(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:nK.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)c2(n,r),n=LK(n,r)}(t._query,e),new s1(t.firestore,t.converter,LK(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class n2 extends J1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n2(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new O$(D$.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new O$(D$.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new XG(e,n);return function(t,e){if(null===DK(t)){const n=OK(t);null!==n&&u2(0,n,e.field)}}(t,i),i}(t._query,this._field,this._direction);return new s1(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new IK(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class i2 extends J1{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new i2(t,e,n)}_apply(t){return new s1(t.firestore,t.converter,FK(t._query,this._limit,this._limitType))}}class r2 extends J1{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new r2(t,e,n)}_apply(t){const e=o2(t,this.type,this._docOrFields,this._inclusive);return new s1(t.firestore,t.converter,function(t,e){return new IK(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}class s2 extends J1{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new s2(t,e,n)}_apply(t){const e=o2(t,this.type,this._docOrFields,this._inclusive);return new s1(t.firestore,t.converter,function(t,e){return new IK(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function o2(t,e,n,i){if(n[0]=Sy(n[0]),n[0]instanceof W1)return function(t,e,n,i,r){if(!i)throw new O$(D$.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of NK(t))if(o.field.isKeyField())s.push(NG(e,i.key));else{const t=i.data.field(o.field);if(bG(t))throw new O$(D$.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new O$(D$.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new QG(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=T1(t.firestore);return function(t,e,n,i,r,s){const o=t.explicitOrderBy;if(r.length>o.length)throw new O$(D$.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new O$(D$.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof s}`);if(!PK(t)&&-1!==s.indexOf("/"))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(Y$.fromString(s));if(!J$.isDocumentKey(n))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new J$(n);a.push(NG(e,r))}else{const t=V1(n,i,s);a.push(t)}}return new QG(a,s)}(t._query,t.firestore._databaseId,r,e,n,i)}}function a2(t,e,n){if("string"==typeof(n=Sy(n))){if(""===n)throw new O$(D$.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PK(e)&&-1!==n.indexOf("/"))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Y$.fromString(n));if(!J$.isDocumentKey(i))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NG(t,new J$(i))}if(n instanceof r1)return NG(t,n._key);throw new O$(D$.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${X0(n)}.`)}function l2(t,e){if(!Array.isArray(t)||0===t.length)throw new O$(D$.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c2(t,e){if(e.isInequality()){const n=OK(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=DK(t);null!==r&&u2(0,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new O$(D$.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function u2(t,e,n){if(!n.isEqual(e))throw new O$(D$.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class h2{convertValue(t,e="none"){switch(IG(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _G(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vG(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw T$()}}convertObject(t,e){const n={};return sG(t.fields,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertGeoPoint(t){return new w1(_G(t.latitude),_G(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=wG(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(CG(t));default:return null}}convertTimestamp(t){const e=yG(t);return new K$(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Y$.fromString(t);A$(PQ(n));const i=new SG(n.get(1),n.get(3)),r=new J$(n.popFirst(5));return i.isEqual(e)||x$(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}function d2(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class p2 extends h2{constructor(t){super(),this.firestore=t}convertBytes(t){return new _1(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new r1(this.firestore,null,e)}}class f2{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class m2 extends W1{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new g2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Y1("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class g2 extends m2{data(t={}){return super.data(t)}}class y2{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new f2(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new g2(this._firestore,this._userDataWriter,n.key,n,new f2(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new O$(D$.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new g2(t._firestore,t._userDataWriter,n.doc.key,n.doc,new f2(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new g2(t._firestore,t._userDataWriter,e.doc.key,e.doc,new f2(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:_2(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return T$()}}class v2 extends h2{constructor(t){super(),this.firestore=t}convertBytes(t){return new _1(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new r1(this.firestore,null,e)}}function b2(t,...e){var n,i,r;t=Sy(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||h1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(h1(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let l,c,u;if(t instanceof r1)c=J0(t.firestore,p1),u=AK(t._key.path),l={next:n=>{e[o]&&e[o](C2(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=J0(t,s1);c=J0(n.firestore,p1),u=n._query;const i=new v2(c);l={next:t=>{e[o]&&e[o](new y2(c,i,n,t))},error:e[o+1],complete:e[o+2]},Z1(t._query)}return function(t,e,n,i){const r=new E0(i),s=new _J(e,r,n);return t.asyncQueue.enqueueAndForget(Yg(function*(){return hJ(yield $0(t),s)})),()=>{r.yc(),t.asyncQueue.enqueueAndForget(Yg(function*(){return pJ(yield $0(t),s)}))}}(f1(c),u,a,l)}function w2(t,e){return function(t,e){const n=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e,n){return MJ.apply(this,arguments)}(yield q0(t),e,n)})),n.promise}(f1(t),e)}function C2(t,e,n){const i=n.docs.get(e._key),r=new v2(t);return new m2(t,r,e._key,i,new f2(n.hasPendingWrites,n.fromCache),e.converter)}const k2={maxAttempts:5};class S2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=T1(t)}set(t,e,n){this._verifyNotCommitted();const i=x2(t,this._firestore),r=d2(i.converter,e,n),s=A1(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,CW.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const r=x2(t,this._firestore);let s;return s="string"==typeof(e=Sy(e))||e instanceof v1?F1(this._dataReader,"WriteBatch.update",r._key,e,n,i):L1(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(s.toMutation(r._key,CW.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=x2(t,this._firestore);return this._mutations=this._mutations.concat(new MW(e._key,CW.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O$(D$.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function x2(t,e){if((t=Sy(t)).firestore!==e)throw new O$(D$.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class E2 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=T1(t)}get(t){const e=x2(t,this._firestore),n=new p2(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return T$();const i=t[0];if(i.isFoundDocument())return new W1(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new W1(this._firestore,n,e._key,null,e.converter);throw T$()})}set(t,e,n){const i=x2(t,this._firestore),r=d2(i.converter,e,n),s=A1(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(t,e,n,...i){const r=x2(t,this._firestore);let s;return s="string"==typeof(e=Sy(e))||e instanceof v1?F1(this._dataReader,"Transaction.update",r._key,e,n,i):L1(this._dataReader,"Transaction.update",r._key,e),this._transaction.update(r._key,s),this}delete(t){const e=x2(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=x2(t,this._firestore),n=new v2(this._firestore);return super.get(t).then(t=>new m2(this._firestore,n,e._key,t._document,new f2(!1,!1),e.converter))}}!function(t,e=!0){w$="9.19.1",c_(new xy("firestore",(t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new p1(new F$(t.getProvider("auth-internal")),new U$(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new O$(D$.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new SG(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),__(v$,"3.10.0",t),__(v$,"3.10.0","esm2017")}();var I2={includeMetadataChanges:!1};function T2(t,e){return void 0===e&&(e=I2),new b(function(n){return{unsubscribe:b2(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function A2(t){return T2(t,{includeMetadataChanges:!0})}function R2(t,e){void 0===e&&(e={});var n=t.data();return t.exists()&&"object"==typeof n&&null!==n?(e.idField&&(n[e.idField]=t.id),n):n}var D2=["added","modified","removed"];function O2(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var s=t.slice();return s.splice.apply(s,bj([e,n],i)),s}var P2=function(){return _(sd(void 0),t=>t.lift(new gL))},N2=function(t,e){return JSON.stringify(t.metadata)===JSON.stringify(e.metadata)};function M2(t,e){return void 0===e&&(e={}),T2(t,{includeMetadataChanges:!0}).pipe(P2(),T(function(t){var e=t[0],n=t[1],i=n.docChanges();return e&&!N2(e,n)&&n.docs.forEach(function(t,n){var r=i.find(function(e){return l1(e.doc.ref,t.ref)});if(r){if(N2(r.doc,t))return}else{var s=null==e?void 0:e.docs.find(function(e){return l1(e.ref,t.ref)});if(s&&N2(s,t))return}i.push({oldIndex:n,newIndex:n,type:"modified",doc:t})}),i}),(n=e.events||D2,cd(function(t){for(var e=!1,i=0;i<t.length;i++)if(n&&n.indexOf(t[i].type)>=0){e=!0;break}return e})),_(P2(),cd(function(t){return t[1].length>0||void 0===t[0]}),T(function(t){return t[1]})));var n}function L2(t){return T2(t,{includeMetadataChanges:!0}).pipe(T(function(t){return t.docs}))}class F2{constructor(t){return t}}const V2="firestore";zC(0,300).pipe(md(()=>V(DC(V2))),$C());const B2=new Xn("angularfire2.firestore-instances");function j2(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new F2(i)}}const U2={provide:class{constructor(){return DC(V2)}},deps:[[new wi,B2]]},z2={provide:F2,useFactory:function(t,e){const n=RC(V2,t,e);return n&&new F2(n)},deps:[[new wi,B2],KC]};let q2=(()=>{class t{constructor(){__("angularfire",kC.full,"fst")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[z2,U2]}),t})();function $2(t,...e){return{ngModule:q2,providers:[{provide:B2,useFactory:j2(t),multi:!0,deps:[Fc,go,MC,WC,[new wi,GT],[new wi,Hk],...e]}]}}UC(M2,!0),UC(L2,!0),UC(function(t,e){return void 0===e&&(e={}),M2(t,e).pipe(od(function(t,n){return function(t,e,n){return void 0===n&&(n=D2),e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!l1(t[e.newIndex].doc.ref,e.doc.ref))return O2(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||l1(t[e.oldIndex].doc.ref,e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return O2(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&l1(t[e.oldIndex].doc.ref,e.doc.ref))return O2(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n,e.events)},[]),iR())},!0),UC(function(t,e){return void 0===e&&(e={}),M2(t,e).pipe(od(function(t,e){return bj(bj([],t),e)},[]))},!0);const H2=UC(function(t,e){return void 0===e&&(e={}),L2(t).pipe(T(function(t){return t.map(function(t){return R2(t,e)})}))},!0),G2=(UC(A2,!0),UC(function(t,e){return void 0===e&&(e={}),A2(t).pipe(T(function(t){return R2(t,e)}))},!0),UC(R2,!0),UC(T2,!0),UC(function(t,e){const n=J0(t.firestore,p1),i=a1(t),r=d2(t.converter,e);return w2(n,[A1(T1(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,CW.exists(!1))]).then(()=>i)},!0)),K2=(UC(function(...t){return new N1("arrayRemove",t)},!0),UC(function(...t){return new P1("arrayUnion",t)},!0),UC(function(t){if(t._initialized&&!t._terminated)throw new O$(D$.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new P$;return t._queue.enqueueAndForgetEvenWhileRestricted(Yg(function*(){try{yield(n=Yg(function*(t){if(!mH.D())return Promise.resolve();const e=t+"main";yield mH.delete(e)}),function(t){return n.apply(this,arguments)})(wZ(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var n})),e.promise},!0),UC(function(t,e,...n){if(t=Sy(t),Q0("collection","path",e),t instanceof n1){const i=Y$.fromString(e,...n);return Z0(i),new o1(t,null,i)}{if(!(t instanceof r1||t instanceof o1))throw new O$(D$.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Y$.fromString(e,...n));return Z0(i),new o1(t.firestore,null,i)}},!0)),W2=(UC(function(t,e){if(t=J0(t,n1),Q0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O$(D$.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new s1(t,null,function(t){return new IK(Y$.emptyPath(),t)}(e))},!0),UC(i1,!0),UC(function(t){return w2(J0(t.firestore,p1),[new MW(t._key,CW.none())])},!0)),Q2=(UC(function(){return new R1("deleteField")},!0),UC(function(t){return function(t){return t.asyncQueue.enqueue(Yg(function*(){const e=yield j0(t),n=yield z0(t);return e.setNetworkEnabled(!1),(i=Yg(function*(t){const e=R$(t);e.du.add(0),yield vX(e),e.mu.set("Offline")}),function(t){return i.apply(this,arguments)})(n);var i}))}(f1(t=J0(t,p1)))},!0),UC(a1,!0)),Y2=(UC(function(){return new v1("__name__")},!0),UC(function(t,e){y1(t=J0(t,p1));const n=f1(t);if(n._uninitializedComponentsProvider)throw new O$(D$.FAILED_PRECONDITION,"SDK cache is already specified.");E$("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new S0;return g1(n,r,new C0(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))},!0),UC(function(t){y1(t=J0(t,p1));const e=f1(t);if(e._uninitializedComponentsProvider)throw new O$(D$.FAILED_PRECONDITION,"SDK cache is already specified.");E$("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new S0;return g1(e,i,new k0(i,n.cacheSizeBytes))},!0),UC(function(t){return function(t){return t.asyncQueue.enqueue(Yg(function*(){const e=yield j0(t),n=yield z0(t);return e.setNetworkEnabled(!0),function(t){const e=R$(t);return e.du.delete(0),yX(e)}(n)}))}(f1(t=J0(t,p1)))},!0),UC(function(...t){return s2._create("endAt",t,!0)},!0),UC(function(...t){return s2._create("endBefore",t,!1)},!0),UC(function(t){t=J0(t,r1);const e=J0(t.firestore,p1);return G0(f1(e),t._key).then(n=>C2(e,t,n))},!0)),Z2=(UC(function(t){t=J0(t,r1);const e=J0(t.firestore,p1),n=f1(e),i=new v2(e);return function(t,e){const n=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return(i=Yg(function*(t,e,n){try{const i=yield function(t,e){const n=R$(t);return n.persistence.runTransaction("read document","readonly",t=>n.localDocuments.getDocument(t,e))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new O$(D$.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=sJ(t,`Failed to get document '${e} from cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield U0(t),e,n);var i})),n.promise}(n,t._key).then(n=>new m2(e,i,t._key,n,new f2(null!==n&&n.hasLocalMutations,!0),t.converter))},!0),UC(function(t){t=J0(t,r1);const e=J0(t.firestore,p1);return G0(f1(e),t._key,{source:"server"}).then(n=>C2(e,t,n))},!0),UC(function(t){t=J0(t,s1);const e=J0(t.firestore,p1),n=f1(e),i=new v2(e);return Z1(t._query),K0(n,t._query).then(n=>new y2(e,i,t,n))},!0)),X2=(UC(function(t){t=J0(t,s1);const e=J0(t.firestore,p1),n=f1(e),i=new v2(e);return function(t,e){const n=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return(i=Yg(function*(t,e,n){try{const i=yield LZ(t,e,!0),r=new xJ(e,i.Wi),s=r.zu(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const i=sJ(t,`Failed to execute query '${e} against cache`);n.reject(i)}}),function(t,e,n){return i.apply(this,arguments)})(yield U0(t),e,n);var i})),n.promise}(n,t._query).then(n=>new y2(e,i,t,n))},!0),UC(function(t){t=J0(t,s1);const e=J0(t.firestore,p1),n=f1(e),i=new v2(e);return K0(n,t._query,{source:"server"}).then(n=>new y2(e,i,t,n))},!0),UC(function(t,e){const n="string"==typeof t?t:e||"(default)",i=u_("object"==typeof t?t:m_(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=(t=>{const e=ry("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})();t&&i1(i,...t)}return i},!0)),J2=(UC(function(t){return new M1("increment",t)},!0),UC(function(t,e,n){n||(n="(default)");const i=u_(t,"firestore");if(i.isInitialized(n)){const t=i.getImmediate({identifier:n});if(my(i.getOptions(n),e))return t;throw new O$(D$.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&void 0!==e.localCache)throw new O$(D$.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O$(D$.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e,instanceIdentifier:n})},!0),UC(function(t){return t1("limit",t),i2._create("limit",t,"F")},!0),UC(function(t){return t1("limitToLast",t),i2._create("limitToLast",t,"L")},!0),UC(function(t,e){const n=f1(t=J0(t,p1)),i=new d1;return function(t,e,n,i){const r=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new I0(t,e)}(function(t,e){if(t instanceof Uint8Array)return x0(t,e);if(t instanceof ArrayBuffer)return x0(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,cX(e));t.asyncQueue.enqueueAndForget(Yg(function*(){!function(t,e,n){const i=R$(t);var r;(r=Yg(function*(t,e,n){try{const i=yield e.getMetadata();if(yield function(t,e){const n=R$(t),i=cQ(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.xs.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(i)>=0)}(t.localStore,i))return yield e.close(),n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(CJ(i));const r=new wJ(i,t.localStore,e.serializer);let s=yield e._c();for(;s;){const t=yield r.$u(s);t&&n._updateProgress(t),s=yield e._c()}const o=yield r.complete();return yield JJ(t,o.Bu,void 0),yield function(t,e){const n=R$(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.xs.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Fu)}catch(t){return E$("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t),Promise.resolve(new Set)}}),function(t,e,n){return r.apply(this,arguments)})(i,e,n).then(t=>{i.sharedClientState.notifyBundleLoaded(t)})}(yield q0(t),r,i)}))}(n,t._databaseId,e,i),i},!0),UC(function(t,e){return function(t,e){return t.asyncQueue.enqueue(Yg(function*(){return function(t,e){const n=R$(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.xs.getNamedQuery(t,e))}(yield U0(t),e)}))}(f1(t=J0(t,p1)),e).then(e=>e?new s1(t,null,e.query):null)},!0),UC(b2,!0),UC(function(t,e){return function(t,e){const n=new E0(e);return t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e){R$(t).Au.add(e),e.next()}(yield $0(t),n)})),()=>{n.yc(),t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e){R$(t).Au.delete(e)}(yield $0(t),n)}))}}(f1(t=J0(t,p1)),h1(e)?e:{next:e})},!0),UC(function(t,e="asc"){const n=e,i=Y1("orderBy",t);return n2._create(i,n)},!0),UC(function(t,e,...n){let i=[];e instanceof X1&&i.push(e),i=i.concat(n),function(t){const e=t.filter(t=>t instanceof e2).length,n=t.filter(t=>t instanceof t2).length;if(e>1||e>0&&n>0)throw new O$(D$.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t},!0)),t3=(UC(c1,!0),UC(l1,!0),UC(function(t,e,n){t=J0(t,p1);const i=Object.assign(Object.assign({},k2),n);return function(t){if(t.maxAttempts<1)throw new O$(D$.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(t,e,n){const i=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){const r=yield function(t){return V0(t).then(t=>t.datastore)}(t);new A0(t.asyncQueue,r,n,e,i).run()})),i.promise}(f1(t),n=>e(new E2(t,n)),i)},!0),UC(function(){return new O1("serverTimestamp")},!0),UC(function(t,e,n){t=J0(t,r1);const i=J0(t.firestore,p1),r=d2(t.converter,e,n);return w2(i,[A1(T1(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,CW.none())])},!0)),e3=(UC(function(t){C$.setLogLevel(t)},!0),UC(function(t,e){return t instanceof m2&&e instanceof m2?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof y2&&e instanceof y2&&t._firestore===e._firestore&&c1(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)},!0),UC(function(...t){return r2._create("startAfter",t,!1)},!0),UC(function(...t){return r2._create("startAt",t,!0)},!0),UC(function(t){return function(t,e,n="[DEFAULT]"){u_(t,"firestore").clearInstance(n)}(t.app,0,t._databaseId.database),t._delete()},!0),UC(function(t,e,n,...i){t=J0(t,r1);const r=J0(t.firestore,p1),s=T1(r);let o;return o="string"==typeof(e=Sy(e))||e instanceof v1?F1(s,"updateDoc",t._key,e,n,i):L1(s,"updateDoc",t._key,e),w2(r,[o.toMutation(t._key,CW.exists(!0))])},!0),UC(function(t){return function(t){const e=new P$;return t.asyncQueue.enqueueAndForget(Yg(function*(){return function(t,e){return HJ.apply(this,arguments)}(yield q0(t),e)})),e.promise}(f1(t=J0(t,p1)))},!0),UC(function(t,e,n){const i=e,r=Y1("where",t);return t2._create(r,i,n)},!0));UC(function(t){return f1(t=J0(t,p1)),new S2(t,e=>w2(t,e))},!0);let n3=(()=>{class t{constructor(t){this.firestore=t}addCar(t){return G2(this.getCollection(),t)}getAllCars(){return H2(J2(this.getCollection(),e3("status","==","ATIVO")),{idField:"id"})}getCollection(){return K2(this.firestore,"Veiculo","DIAS",this.dataAtual())}updateCar(t){const e=X2(),n=Q2(e,"Veiculo/DIAS/"+this.dataAtual(),t.id);return t3(n,t)}deleteCar(t){const e=X2(),n=Q2(e,"Veiculo/DIAS/"+this.dataAtual(),t);return W2(n)}dataAtual(){var t=new Date,e=t.getDate().toString(),n=t.getMonth().toString(),i=t.getFullYear().toString();return 1===(n=(parseInt(n)+1).toString()).length&&(n="0"+n),1===e.length&&(e="0"+e),e+"."+n+"."+i}returnDocument(t){return Yg(function*(){const e=X2();var n;n=Q2(e,"ValorEstacionamento","CARRO"===t?"Carro":"Moto");const i=yield Y2(n);return i.exists()?i.data():"ERROR"})()}returnMensal(){return Yg(function*(){var t=new Date;const e=X2();var n=Q2(e,"Mensal",t.getMonth()+1+t.getFullYear().toString());const i=yield Y2(n);return i.exists()?i.data():"ERROR"})()}updateRendimento(t){var e=new Date;const n=X2();var i=Q2(n,"Mensal",e.getMonth()+1+e.getFullYear().toString());return t3(i,t)}quantityCars(){var t=this;return Yg(function*(){X2();const e=J2(t.getCollection(),e3("status","==","ATIVO"));return(yield Z2(e)).size})()}}return t.\u0275fac=function(e){return new(e||t)(gi(F2))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const i3=["button"],r3=["*"],s3=new Xn("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),o3=new Xn("MatButtonToggleGroup"),a3={provide:Lm,useExisting:at(()=>u3),multi:!0};let l3=0;class c3{constructor(t,e){this.source=t,this.value=e}}let u3=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+l3++,this.valueChange=new Zl,this.change=new Zl,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=VA(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=VA(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=VA(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new bL(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new c3(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(No(wl),No(s3,8))},t.\u0275dir=Zt({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&hc(n,d3,5),2&t){let t;cc(t=dc())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("aria-disabled",e.disabled),ca("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[za([a3,{provide:o3,useExisting:t}])]}),t})();const h3=HP(class{});let d3=(()=>{class t extends h3{constructor(t,e,n,i,r,s){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Zl;const o=Number(r);this.tabIndex=o||0===o?o:null,this.buttonToggleGroup=t,this.appearance=s&&s.appearance?s.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=VA(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=VA(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+l3++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new c3(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(No(o3,8),No(wl),No(Qa),No(YR),Qn("tabindex"),No(s3,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&uc(i3,5),2&t){let t;cc(t=dc())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&Ko("focus",function(){return e.focus()}),2&t&&(Ro("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),ca("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[_o],ngContentSelectors:r3,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(ta(),Fo(0,"button",0,1),Ko("click",function(){return e._onButtonClick()}),Fo(2,"span",2),ea(3),Vo(),Vo(),Bo(4,"span",3),Bo(5,"span",4)),2&t){const t=Po(1);Mo("id",e.buttonId)("disabled",e.disabled||null),Ro("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),rs(5),Mo("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[oN],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),p3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP,aN],zP]}),t})();const f3=new Xn("ngx-mask config"),m3=new Xn("new ngx-mask config"),g3=new Xn("initial ngx-mask config"),y3={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new Zl,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},_3=["Hh:m0:s0","Hh:m0","m0:s0"],v3=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let b3=(()=>{class t{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,e,n,i)=>{let r=[],s="";if(Array.isArray(n)){const e=new RegExp(n.map(t=>"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t).join("|"));r=t.split(e),s=t.match(e)?.[0]??""}else r=t.split(n),s=n;const o=r.length>1?`${s}${r[1]}`:"";let a=r[0];const l=this.separatorLimit.replace(/\s/g,"");l&&+l&&(a="-"===a[0]?`-${a.slice(1,a.length).slice(0,l.length)}`:a.slice(0,l.length));const c=/(\d+)(\d{3})/;for(;e&&c.test(a);)a=a.replace(c,"$1"+e+"$2");return void 0===i?a+o:0===i?a:a+o.substr(0,i+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const e=t.split(".");return e.length>1?Number(e[e.length-1]):1/0},this.checkAndRemoveSuffix=t=>{for(let e=this.suffix?.length-1;e>=0;e--){const n=this.suffix.substr(e,this.suffix?.length);if(t.includes(n)&&(e-1<0||!t.includes(this.suffix.substr(e-1,this.suffix?.length))))return t.replace(n,"")}return t},this.checkInputPrecision=(t,e,n)=>{if(e<1/0){if(Array.isArray(n)){const t=n.find(t=>t!==this.thousandSeparator);n=t||n[0]}const i=new RegExp(this._charToRegExpExpression(n)+`\\d{${e}}.*$`),r=t.match(i);r&&r[0].length-1>e&&(t=t.substring(0,t.length-(r[0].length-1-e))),0===e&&this._compareOrIncludes(t[t.length-1],n,this.thousandSeparator)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,e){const[n,i]=e;return this.customPattern=i,this.applyMask(t,n)}applyMask(t,e,n=0,i=!1,r=!1,s=(()=>{})){if(!e||"string"!=typeof t)return"";let o=0,a="",l=!1,c=!1,u=1,h=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&t?.length>0&&(t=this.checkAndRemoveSuffix(t));const d=t.toString().split("");"IP"===e&&(this.ipError=d.filter(t=>"."===t).length<3&&d.length<7,e="099.099.099.099");const p=[];for(let _=0;_<t.length;_++)t[_]?.match("\\d")&&p.push(t[_]);if("CPF_CNPJ"===e&&(this.cpfCnpjError=11!==p.length&&14!==p.length,e=p.length>11?"00.000.000/0000-00":"000.000.000-00"),e.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const n=this.getPrecision(e);t=this.checkInputPrecision(t,n,this.decimalMarker)}if(t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))){const e=t.substring(0,t.indexOf(".")-1);t=`${e}${t.substring(t.indexOf("."),t.length)}`}a=this.percentage(t)?t:t.substring(0,t.length-1)}else if(e.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!r?t.slice(1,t.length):t,r&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const i=this._charToRegExpExpression(this.thousandSeparator);let s='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(i,"");if(Array.isArray(this.decimalMarker))for(const t of this.decimalMarker)s=s.replace(this._charToRegExpExpression(t),"");else s=s.replace(this._charToRegExpExpression(this.decimalMarker),"");const o=new RegExp("["+s+"]");(t.match(o)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const l=this.getPrecision(e),h=(t=this.checkInputPrecision(t,l,this.decimalMarker)).replace(new RegExp(i,"g"),"");a=this._formatWithSeparators(h,this.thousandSeparator,this.decimalMarker,l);const d=a.indexOf(",")-t.indexOf(","),p=a.length-t.length;if(p>0&&","!==a[n]){c=!0;let t=0;do{this._shift.add(n+t),t++}while(t<p)}else 0!==d&&n>0&&!(a.indexOf(",")>=n&&n>3)||!(a.indexOf(".")>=n&&n>3)&&p<=0?(this._shift.clear(),c=!0,u=p,this._shift.add(n+=p)):this._shift.clear()}else for(let _=0,v=d[0];_<d.length&&o!==e.length;_++,v=d[_])if(this._checkSymbolMask(v,e[o])&&"?"===e[o+1])a+=v,o+=2;else if("*"===e[o+1]&&l&&this._checkSymbolMask(v,e[o+2]))a+=v,o+=3,l=!1;else if(this._checkSymbolMask(v,e[o])&&"*"===e[o+1])a+=v,l=!0;else if("?"===e[o+1]&&this._checkSymbolMask(v,e[o+2]))a+=v,o+=3;else if(this._checkSymbolMask(v,e[o])){if("H"===e[o]&&Number(v)>2){o+=1,this._shiftStep(e,o,d.length),_--,this.leadZeroDateTime&&(a+="0");continue}if("h"===e[o]&&"2"===a&&Number(v)>3){o+=1,_--;continue}if("m"===e[o]&&Number(v)>5){o+=1,this._shiftStep(e,o,d.length),_--,this.leadZeroDateTime&&(a+="0");continue}if("s"===e[o]&&Number(v)>5){o+=1,this._shiftStep(e,o,d.length),_--,this.leadZeroDateTime&&(a+="0");continue}const n=31;if("d"===e[o]&&(Number(v)>3&&this.leadZeroDateTime||Number(t.slice(o,o+2))>n||"/"===t[o+1])){o+=1,this._shiftStep(e,o,d.length),_--,this.leadZeroDateTime&&(a+="0");continue}if("M"===e[o]){const i=12,r=0===o&&(Number(v)>2||Number(t.slice(o,o+2))>i||"/"===t[o+1]),s=t.slice(o-3,o-1).includes("/")&&("/"===t[o-2]&&Number(t.slice(o-1,o+1))>i&&"/"!==t[o]||"/"===t[o]||"/"===t[o-3]&&Number(t.slice(o-2,o))>i&&"/"!==t[o-1]||"/"===t[o-1]),l=Number(t.slice(o-3,o-1))<=n&&!t.slice(o-3,o-1).includes("/")&&"/"===t[o-1]&&(Number(t.slice(o,o+2))>i||"/"===t[o+1]),c=Number(t.slice(o-3,o-1))>n&&!t.slice(o-3,o-1).includes("/")&&!t.slice(o-2,o).includes("/")&&Number(t.slice(o-2,o))>i,u=Number(t.slice(o-3,o-1))<=n&&!t.slice(o-3,o-1).includes("/")&&"/"!==t[o-1]&&Number(t.slice(o-1,o+1))>i;if(Number(v)>1&&this.leadZeroDateTime||r||s||l||c||u){o+=1,this._shiftStep(e,o,d.length),_--,this.leadZeroDateTime&&(a+="0");continue}}a+=v,o++}else" "===v&&" "===e[o]?(a+=v,o++):-1!==this.maskSpecialCharacters.indexOf(e[o])?(a+=e[o],o++,this._shiftStep(e,o,d.length),_--):this.maskSpecialCharacters.indexOf(v)>-1&&this.maskAvailablePatterns[e[o]]&&this.maskAvailablePatterns[e[o]]?.optional?(d[o]&&"099.099.099.099"!==e&&"000.000.000-00"!==e&&"00.000.000/0000-00"!==e&&!e.match(/^9+\.0+$/)&&(a+=d[o]),o++,_--):"*"===this.maskExpression[o+1]&&this._findSpecialChar(this.maskExpression[o+2])&&this._findSpecialChar(v)===this.maskExpression[o+2]&&l||"?"===this.maskExpression[o+1]&&this._findSpecialChar(this.maskExpression[o+2])&&this._findSpecialChar(v)===this.maskExpression[o+2]&&l?(o+=3,a+=v):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(v)<0&&v!==this.placeHolderCharacter&&(h=!0);a.length+1===e.length&&-1!==this.maskSpecialCharacters.indexOf(e[e.length-1])&&(a+=e[e.length-1]);let f=n+1;for(;this._shift.has(f);)u++,f++;let m=i&&!e.startsWith("separator")?o:this._shift.has(n)?u:0;h&&m--,s(m,c),u<0&&this._shift.clear();let g=!1;r&&(g=d.every(t=>this.maskSpecialCharacters.includes(t)));let y=`${this.prefix}${g?"":a}${this.suffix}`;return 0===a.length&&(y=`${this.prefix}${a}`),y}_findSpecialChar(t){return this.maskSpecialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[e]&&this.maskAvailablePatterns[e].pattern&&this.maskAvailablePatterns[e].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((t,e)=>t.match("^-?\\d")||t.match("\\s")||"."===t||","===t||"-"===t&&0===e&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){if(t){const e="[\\^$.|?*+()";return" "===t?"\\s":e.indexOf(t)>=0?`\\${t}`:t}return t}_shiftStep(t,e,n){const i=/[*?]/g.test(t.slice(0,e))?n:e;this._shift.add(i+this.prefix.length||0)}_compareOrIncludes(t,e,n){return Array.isArray(e)?e.filter(t=>t!==n).includes(t):t===e}}return t.\u0275fac=function(e){return new(e||t)(gi(f3))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),w3=(()=>{class t extends b3{constructor(t,e,n,i){super(e),this.document=t,this._config=e,this._elementRef=n,this._renderer=i,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=t=>{}}applyMask(t,e,n=0,i=!1,r=!1,s=(()=>{})){if(!e)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const o=t&&"number"==typeof this.selStart?t[this.selStart]:"";let a="";if(this.hiddenInput&&!this.writingValue){let e=this.actualValue.split("");""!==t&&e.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>e.length?e.splice(this.selStart,0,o):t.length<e.length&&(e.length-t.length==1?e.splice(this.selStart-1,1):e.splice(this.selStart,this.selEnd-this.selStart))):e=[],this.showMaskTyped&&(t=this.removeMask(t)),a=this.actualValue.length&&e.length<=t.length?this.shiftTypedSymbols(e.join("")):t}a=Boolean(a)&&a.length?a:t;const l=super.applyMask(a,e,n,i,r,s);if(this.actualValue=this.getActualValue(l),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(t=>!this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))),this.formControlResult(l),!this.showMaskTyped)return this.hiddenInput&&l&&l.length?this.hideInput(l,this.maskExpression):l;const c=l.length,u=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const t=this._numberSkipedSymbols(l);return l+u.slice(c+t)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?l+u:l+u.slice(c)}_numberSkipedSymbols(t){const e=/(^|\D)(\d\D)/g;let n=e.exec(t),i=0;for(;null!=n;)i+=1,n=e.exec(t);return i}applyValueChanges(t,e,n,i=(()=>{})){const r=this._elementRef.nativeElement;r.value=this.applyMask(r.value,this.maskExpression,t,e,n,i),r!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(t,e){return t.split("").map((t,n)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[e[n]]&&this.maskAvailablePatterns[e[n]]?.symbol?this.maskAvailablePatterns[e[n]]?.symbol:t).join("")}getActualValue(t){const e=t.split("").filter((t,e)=>this._checkSymbolMask(t,this.maskExpression[e])||this.maskSpecialCharacters.includes(this.maskExpression[e])&&t===this.maskExpression[e]);return e.join("")===t?e.join(""):t}shiftTypedSymbols(t){let e="";return(t&&t.split("").map((n,i)=>{if(this.maskSpecialCharacters.includes(t[i+1])&&t[i+1]!==this.maskExpression[i+1])return e=n,t[i+1];if(e.length){const t=e;return e="",t}return n})||[]).join("")}numberToString(t){return t||0===t?Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(t)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const t=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(t.value,this.maskExpression))}set formElementProperty([t,e]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,t,e))}checkSpecialCharAmount(t){return t.split("").filter(t=>this._findSpecialChar(t)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const e=[];for(let n=0;n<t.length;n++)t[n]?.match("\\d")&&e.push(t[n]);return e.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>3&&e.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>6&&e.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){const e=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,n=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return e;const i=[];for(let r=0;r<t.length;r++)t[r]?.match("\\d")&&i.push(t[r]);return i.length<=3?e.slice(i.length,e.length):i.length>3&&i.length<=6?e.slice(i.length+1,e.length):i.length>6&&i.length<=9?e.slice(i.length+2,e.length):i.length>9&&i.length<11?e.slice(i.length+3,e.length):11===i.length?"":12===i.length?n.slice(17===t.length?16:15,n.length):i.length>12&&i.length<=14?n.slice(i.length+4,n.length):""}_getActiveElement(t=this.document){const e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}formControlResult(t){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(t)):this._removeSuffix(t))}_toNumber(t){if(!this.isNumberValue||""===t)return t;const e=Number(t);return Number.isNaN(e)?t:e}_removeMask(t,e){return t?t.replace(this._regExpForRemove(e),""):t}_removePrefix(t){return this.prefix&&t?t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix&&t?t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(t=>`\\${t}`).join("|"),"gi")}_checkSymbols(t){if(""===t)return t;const e=this._retrieveSeparatorPrecision(this.maskExpression);let n=this._retrieveSeparatorValue(t);return"."===this.decimalMarker||Array.isArray(this.decimalMarker)||(n=n.replace(this.decimalMarker,".")),this.isNumberValue?e?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,n):Number(n):n}_retrieveSeparatorPrecision(t){const e=t.match(new RegExp("^separator\\.([^d]*)"));return e?Number(e[1]):null}_checkPrecision(t,e){return t.indexOf("2")>0?Number(e).toFixed(2):Number(e)}}return t.\u0275fac=function(e){return new(e||t)(gi(gu),gi(f3),gi(Qa),gi(Xa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),C3=(()=>{class t{constructor(t,e,n){this.document=t,this._maskService=e,this._config=n,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new Zl,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=t=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:e,specialCharacters:n,patterns:i,prefix:r,suffix:s,thousandSeparator:o,decimalMarker:a,dropSpecialCharacters:l,hiddenInput:c,showMaskTyped:u,placeHolderCharacter:h,shownMaskExpression:d,showTemplate:p,clearIfNotMatch:f,validation:m,separatorLimit:g,allowNegativeNumbers:y,leadZeroDateTime:_,triggerOnMaskChange:v}=t;if(e&&(e.currentValue===e.previousValue||e.firstChange||(this._maskService.maskChanged=!0),e.currentValue&&e.currentValue.split("||").length>1?(this._maskExpressionArray=e.currentValue.split("||").sort((t,e)=>t.length-e.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=e.currentValue||"",this._maskService.maskExpression=this._maskValue)),n){if(!n.currentValue||!Array.isArray(n.currentValue))return;this._maskService.maskSpecialCharacters=n.currentValue||[]}i&&i.currentValue&&(this._maskService.maskAvailablePatterns=i.currentValue),r&&(this._maskService.prefix=r.currentValue),s&&(this._maskService.suffix=s.currentValue),o&&(this._maskService.thousandSeparator=o.currentValue),a&&(this._maskService.decimalMarker=a.currentValue),l&&(this._maskService.dropSpecialCharacters=l.currentValue),c&&(this._maskService.hiddenInput=c.currentValue),u&&(this._maskService.showMaskTyped=u.currentValue),h&&(this._maskService.placeHolderCharacter=h.currentValue),d&&(this._maskService.shownMaskExpression=d.currentValue),p&&(this._maskService.showTemplate=p.currentValue),f&&(this._maskService.clearIfNotMatch=f.currentValue),m&&(this._maskService.validation=m.currentValue),g&&(this._maskService.separatorLimit=g.currentValue),y&&(this._maskService.allowNegativeNumbers=y.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(t=>"-"!==t))),_&&(this._maskService.leadZeroDateTime=_.currentValue),v&&(this._maskService.triggerOnMaskChange=v.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(this._maskValue.startsWith("separator"))return null;if(v3.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(_3.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let e=0;for(const n in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[n].optional){if(this._maskValue.indexOf(n)!==this._maskValue.lastIndexOf(n)?e+=this._maskValue.split("").filter(t=>t===n).join("").length:-1!==this._maskValue.indexOf(n)&&e++,-1!==this._maskValue.indexOf(n)&&t.toString().length>=this._maskValue.indexOf(n))return null;if(e===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(t);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const n=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-e:this._maskValue.length-e;if(t.toString().length<n)return this._createValidationError(t)}}return t?(this.maskFilled.emit(),null):null}onPaste(){this._justPasted=!0}onModelChange(t){""!==t&&null!=t||!this._maskService.actualValue||(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(t){const e=t.target;if(this._inputValue=e.value,this._setMask(),!this._maskValue)return void this.onChange(e.value);const n=1===e.selectionStart?e.selectionStart+this._maskService.prefix.length:e.selectionStart;let i=0,r=!1;if(this._maskService.applyValueChanges(n,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(t,e)=>{this._justPasted=!1,i=t,r=e}),this._getActiveElement()!==e)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let s=this._position?this._inputValue.length+n+i:n+("Backspace"!==this._code||r?i:0);s>this._getActualInputLength()&&(s=this._getActualInputLength()),s<0&&(s=0),e.setSelectionRange(s,s),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(t){if(!this._maskValue)return;const e=t.target;null!==e&&null!==e.selectionStart&&e.selectionStart===e.selectionEnd&&e.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),e.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===e.value?(e.focus(),e.setSelectionRange(0,0)):e.selectionStart>this._maskService.actualValue.length&&e.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const n=e.value&&e.value!==this._maskService.prefix?e.value:this._maskService.prefix+this._maskService.maskIsShown;e.value!==n&&(e.value=n),(e.selectionStart||e.selectionEnd)<=this._maskService.prefix.length?e.selectionStart=this._maskService.prefix.length:e.selectionEnd>this._getActualInputLength()&&(e.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue)return;this._code=t.code?t.code:t.key;const e=t.target;if(this._inputValue=e.value,this._setMask(),38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===e.value.length&&(e.selectionStart=e.selectionEnd),8===t.keyCode&&0!==e.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&e.selectionStart<=this.prefix.length)e.setSelectionRange(this.prefix.length,e.selectionEnd);else if(this._inputValue.length!==e.selectionStart&&1!==e.selectionStart)for(;this.specialCharacters.includes(this._inputValue[e.selectionStart-1].toString())&&(this.prefix.length>=1&&e.selectionStart>this.prefix.length||0===this.prefix.length);)e.setSelectionRange(e.selectionStart-1,e.selectionEnd);this.checkSelectionOnDeletion(e),this._maskService.prefix.length&&e.selectionStart<=this._maskService.prefix.length&&e.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const n=e.selectionStart;8!==t.keyCode||e.readOnly||0!==n||e.selectionEnd!==e.value.length||0===e.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<e.selectionStart?e.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===t.keyCode&&t.ctrlKey||65===t.keyCode&&t.metaKey)&&(e.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=e.selectionStart,this._maskService.selEnd=e.selectionEnd}writeValue(t){var e=this;return Yg(function*(){"object"==typeof t&&null!==t&&"value"in t&&("disable"in t&&e.setDisabledState(Boolean(t.disable)),t=t.value),("number"==typeof t||e._maskValue.startsWith("separator"))&&(t=e._maskService.numberToString(t),Array.isArray(e.decimalMarker)||(t="."!==e.decimalMarker?t.replace(".",e.decimalMarker):t),e._maskService.isNumberValue=!0),"string"!=typeof t&&(t=""),e._inputValue=t,e._setMask(),t&&e._maskService.maskExpression||e._maskService.maskExpression&&(e._maskService.prefix||e._maskService.showMaskTyped)?(e._maskService.writingValue=!0,e._maskService.formElementProperty=["value",e._maskService.applyMask(t,e._maskService.maskExpression)],e._maskService.writingValue=!1):e._maskService.formElementProperty=["value",t],e._inputValue=t})()}registerOnChange(t){this.onChange=t,this._maskService.onChange=this.onChange}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){const e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}checkSelectionOnDeletion(t){t.selectionStart=Math.min(Math.max(this.prefix.length,t.selectionStart),this._inputValue.length-this.suffix.length),t.selectionEnd=Math.min(Math.max(this.prefix.length,t.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((e,n,i)=>{if(this._start="{"===n?i:this._start,"}"!==n)return this._maskService._findSpecialChar(n)?e+n:e;this._end=i;const r=Number(t.slice(this._start+1,this._end));return e+new Array(r+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const e=this._maskValue.split("").filter(t=>":"!==t).length;return t&&(0==+t[t.length-1]&&t.length<e||t.length<=e-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue,actualValue:t}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{const e=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(t)?.length;if(this._inputValue&&e)return this._maskValue=t,this.maskExpression=t,this._maskService.maskExpression=t,e;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return t.\u0275fac=function(e){return new(e||t)(No(gu),No(w3),No(f3))},t.\u0275dir=Zt({type:t,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,e){1&t&&Ko("paste",function(){return e.onPaste()})("ngModelChange",function(t){return e.onModelChange(t)})("input",function(t){return e.onInput(t)})("blur",function(){return e.onBlur()})("click",function(t){return e.onClick(t)})("keydown",function(t){return e.onKeyDown(t)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[za([{provide:Lm,useExisting:at(()=>t),multi:!0},{provide:zm,useExisting:at(()=>t),multi:!0},w3]),he]}),t})();function k3(t,e){return e instanceof Function?{...t,...e()}:{...t,...e}}let S3=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:m3,useValue:e},{provide:g3,useValue:y3},{provide:f3,useFactory:k3,deps:[g3,m3]},b3]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const x3="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};x3.KeyboardEvent||(x3.KeyboardEvent=function(t,e){});const E3=["input"],I3=function(t){return{enterDuration:t}},T3=["*"],A3=new Xn("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let R3=0;const D3={provide:Lm,useExisting:at(()=>M3),multi:!0};class O3{constructor(t,e){this.source=t,this.value=e}}const P3=new Xn("MatRadioGroup");let N3=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+R3++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Zl}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=VA(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=VA(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new O3(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(No(wl))},t.\u0275dir=Zt({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),M3=(()=>{class t extends N3{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Kn(t)))(n||t)}}(),t.\u0275dir=Zt({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){if(1&t&&hc(n,B3,5),2&t){let t;cc(t=dc())&&(e._radios=t)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[za([D3,{provide:P3,useExisting:t}]),_o]}),t})();class L3{constructor(t){this._elementRef=t}}const F3=HP(GP(L3));let V3=(()=>{class t extends F3{constructor(t,e,n,i,r,s,o,a){super(e),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=r,this._providerOverride=o,this._uniqueId="mat-radio-"+ ++R3,this.id=this._uniqueId,this.change=new Zl,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===s,a&&(this.tabIndex=BA(a,0)),this._removeUniqueSelectionListener=r.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=VA(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(VA(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=VA(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new O3(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(No(N3),No(Qa),No(wl),No(YR),No(wL),No(String),No(void 0),No(String))},t.\u0275dir=Zt({type:t,viewQuery:function(t,e){if(1&t&&uc(E3,5),2&t){let t;cc(t=dc())&&(e._inputElement=t.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[_o]}),t})(),B3=(()=>{class t extends V3{constructor(t,e,n,i,r,s,o,a){super(t,e,n,i,r,s,o,a)}}return t.\u0275fac=function(e){return new(e||t)(No(P3,8),No(Qa),No(wl),No(YR),No(wL),No(DP,8),No(A3,8),Qn("tabindex"))},t.\u0275cmp=Ht({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&Ko("focus",function(){return e._inputElement.nativeElement.focus()}),2&t&&(Ro("tabindex",null)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),ca("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable",e._noopAnimations)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[_o],ngContentSelectors:T3,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(ta(),Fo(0,"label",0,1),Fo(2,"span",2),Bo(3,"span",3),Bo(4,"span",4),Fo(5,"input",5,6),Ko("change",function(t){return e._onInputInteraction(t)})("click",function(t){return e._onInputClick(t)}),Vo(),Fo(7,"span",7),Bo(8,"span",8),Vo(),Vo(),Fo(9,"span",9),Fo(10,"span",10),Ca(11,"\xa0"),Vo(),ea(12),Vo(),Vo()),2&t){const t=Po(1);Ro("for",e.inputId),rs(5),Mo("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),Ro("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),rs(2),Mo("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Wl(18,I3,e._noopAnimations?0:150)),rs(2),ca("mat-radio-label-before","before"==e.labelPosition)}},directives:[oN],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),j3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[aN,zP],zP]}),t})();const U3=["input"],z3=function(t){return{enterDuration:t}},q3=["*"],$3=new Xn("mat-checkbox-default-options",{providedIn:"root",factory:H3});function H3(){return{color:"accent",clickAction:"check-indeterminate"}}let G3=0;const K3=H3(),W3={provide:Lm,useExisting:at(()=>Z3),multi:!0};class Q3{}const Y3=GP($P(HP(qP(class{constructor(t){this._elementRef=t}}))));let Z3=(()=>{class t extends Y3{constructor(t,e,n,i,r,s,o){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._animationMode=s,this._options=o,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++G3,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new Zl,this.indeterminateChange=new Zl,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||K3,this.color=this.defaultColor=this._options.color||K3.color,this.tabIndex=parseInt(r)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=VA(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=VA(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=VA(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new Q3;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,e){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(No(Qa),No(wl),No(YR),No(Fc),Qn("tabindex"),No(DP,8),No($3,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(uc(U3,5),uc(oN,5)),2&t){let t;cc(t=dc())&&(e._inputElement=t.first),cc(t=dc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(xa("id",e.id),Ro("tabindex",null),ca("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[za([W3]),_o],ngContentSelectors:q3,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(ta(),Fo(0,"label",0,1),Fo(2,"span",2),Fo(3,"input",3,4),Ko("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),Vo(),Fo(5,"span",5),Bo(6,"span",6),Vo(),Bo(7,"span",7),Fo(8,"span",8),un(),Fo(9,"svg",9),Bo(10,"path",10),Vo(),hn(),Bo(11,"span",11),Vo(),Vo(),Fo(12,"span",12,13),Ko("cdkObserveContent",function(){return e._onLabelTextChange()}),Fo(14,"span",14),Ca(15,"\xa0"),Vo(),ea(16),Vo(),Vo()),2&t){const t=Po(1),n=Po(13);Ro("for",e.inputId),rs(2),ca("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),rs(1),Mo("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),Ro("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),rs(2),Mo("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Wl(19,z3,"NoopAnimations"===e._animationMode?0:150))}},directives:[oN,ZA],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),t})(),X3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})(),J3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[aN,zP,XA,X3],zP,X3]}),t})(),t5=(()=>{class t{constructor(t,e,n){this.garagemService=t,this.dialogRef=e,this.toast=n,this.garagem={nome:"",telefone:"",modelo:"",veiculo:"",cliente:"",horaInicial:"",placa:"",status:"",lavagem:"",statusLavagem:""},this.nome=new Dg(null,Hm.minLength(3)),this.telefone=new Dg(null),this.modelo=new Dg(null,Hm.minLength(3)),this.placa=new Dg(null),this.checkButton=new Dg(null),this.radioButton=new Dg(null),this.checkLavagem=new Dg(null,Hm.required)}ngOnInit(){}cadastrar(){var t,e,n=new Date;e=n.getHours()<=9?"0"+n.getHours():n.getHours(),t=n.getMinutes()<=9?"0"+n.getMinutes():n.getMinutes(),this.checkLavagem.valid&&(this.garagem.lavagem="LAVAGEM",this.garagem.statusLavagem="PENDENTE"),this.garagem.horaInicial=e+":"+t,this.garagem.status="ATIVO",this.garagem.placa=this.garagem.placa.toUpperCase(),this.dialogRef.close(),this.garagemService.quantityCars().then(t=>{t<45?this.garagemService.addCar(this.garagem).then(()=>{this.toast.success("Adicionado com sucesso!")},t=>{this.toast.error("Erro ao adicionar o usuario!")}):this.toast.error("Erro estacionamento Cheio!")})}validaCampos(){return!!(this.nome.valid&&this.telefone.valid&&this.modelo.valid&&this.placa.valid&&this.checkButton.valid&&this.radioButton.valid)&&this.garagem.nome.trim().length>=3&&this.garagem.modelo.trim().length>=3}dialogClose(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(No(n3),No(hj),No(MA))},t.\u0275cmp=Ht({type:t,selectors:[["app-dialog-adicionar"]],decls:43,vars:14,consts:[[1,"form","mat-elevation-z2"],["src","assets/img/logo-minoruOld.png"],["required","","name","selectEstaci",3,"formControl","ngModel","ngModelChange"],["value","AVULSO"],["value","DIARIO"],["appearance","fill",1,"full-width"],["required","","name","nome","matInput","","placeholder","Ex. Matheus Andrade",3,"formControl","ngModel","ngModelChange"],["required","","name","placa","matInput","","placeholder","Ex. Padrao MERCOSUL/ANTIGOm","mask","SSS-0A00",3,"formControl","ngModel","ngModelChange"],["required","","name","telefone","matInput","","placeholder","Ex. (11) 94666635","mask","(00)  00000-0000",3,"formControl","ngModel","ngModelChange"],["required","","name","modelo","matInput","","placeholder","Ex. Toyota Corolla",3,"formControl","ngModel","ngModelChange"],["required","","required","",1,"radiobutton",3,"formControl","ngModel","ngModelChange"],["value","CARRO","true",""],["value","MOTO"],[3,"formControl"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"disabled","click"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"click"]],template:function(t,e){1&t&&(Fo(0,"form",0),Bo(1,"img",1),Fo(2,"h1"),Ca(3,"SELECIONE O TIPO DE SERVI\xc7O"),Vo(),Fo(4,"mat-button-toggle-group",2),Ko("ngModelChange",function(t){return e.garagem.cliente=t}),Fo(5,"mat-button-toggle",3),Ca(6,"AVULSO"),Vo(),Fo(7,"mat-button-toggle",4),Ca(8,"DIARIO"),Vo(),Vo(),Bo(9,"br"),Fo(10,"mat-form-field",5),Fo(11,"mat-label"),Ca(12,"Nome"),Vo(),Fo(13,"input",6),Ko("ngModelChange",function(t){return e.garagem.nome=t}),Vo(),Vo(),Fo(14,"mat-form-field",5),Fo(15,"mat-label"),Ca(16,"Placa"),Vo(),Fo(17,"input",7),Ko("ngModelChange",function(t){return e.garagem.placa=t}),Vo(),Vo(),Bo(18,"br"),Fo(19,"mat-form-field",5),Fo(20,"mat-label"),Ca(21,"Telefone"),Vo(),Fo(22,"input",8),Ko("ngModelChange",function(t){return e.garagem.telefone=t}),Vo(),Vo(),Fo(23,"mat-form-field",5),Fo(24,"mat-label"),Ca(25,"Modelo"),Vo(),Fo(26,"input",9),Ko("ngModelChange",function(t){return e.garagem.modelo=t}),Vo(),Vo(),Bo(27,"br"),Fo(28,"mat-radio-group",10),Ko("ngModelChange",function(t){return e.garagem.veiculo=t}),Fo(29,"mat-radio-button",11),Ca(30,"CARRO"),Vo(),Fo(31,"mat-radio-button",12),Ca(32,"MOTO"),Vo(),Vo(),Bo(33,"br"),Bo(34,"br"),Fo(35,"section"),Fo(36,"mat-checkbox",13),Ca(37,"Deseja realizar lavagem no veiculo!"),Vo(),Vo(),Bo(38,"br"),Fo(39,"button",14),Ko("click",function(){return e.cadastrar()}),Ca(40," CADASTRAR "),Vo(),Fo(41,"button",15),Ko("click",function(){return e.dialogClose()}),Ca(42," CANCELAR "),Vo(),Vo()),2&t&&(rs(4),Mo("formControl",e.checkButton)("ngModel",e.garagem.cliente),rs(9),Mo("formControl",e.nome)("ngModel",e.garagem.nome),rs(4),Mo("formControl",e.placa)("ngModel",e.garagem.placa),rs(5),Mo("formControl",e.telefone)("ngModel",e.garagem.telefone),rs(4),Mo("formControl",e.modelo)("ngModel",e.garagem.modelo),rs(2),Mo("formControl",e.radioButton)("ngModel",e.garagem.veiculo),rs(8),Mo("formControl",e.checkLavagem),rs(3),Mo("disabled",!e.validaCampos()))},directives:[Fg,hg,Lg,u3,Hg,ug,Ug,d3,eM,GN,pM,Bm,C3,M3,B3,Z3,vM],styles:[".form[_ngcontent-%COMP%]{width:auto;margin:auto;background-color:#ebebeb;padding:4rem 1rem;border-radius:1rem;align-items:center;text-align:center;justify-content:center}.full-width[_ngcontent-%COMP%]{width:30rem;padding:1rem}.radiobutton[_ngcontent-%COMP%]{padding:10rem}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:2px}"]}),t})(),e5=(()=>{class t{constructor(t,e,n,i){this.data=t,this.dialogRef=e,this.garaService=n,this.toast=i,this.garagem={nome:"",telefone:"",modelo:"",veiculo:"",cliente:"",horaInicial:"",placa:"",status:"",lavagem:"",statusLavagem:""},this.nome=new Dg(null,Hm.minLength(3)),this.telefone=new Dg(null),this.modelo=new Dg(null,Hm.minLength(3)),this.placa=new Dg(null),this.checkButton=new Dg(null),this.radioButton=new Dg(null),this.checkLavagem=new Dg(null)}ngOnInit(){this.garagem.nome=this.data.nome,this.garagem.placa=this.data.placa,this.garagem.telefone=this.data.telefone,this.garagem.modelo=this.data.modelo,this.garagem.veiculo=this.data.veiculo,this.garagem.cliente=this.data.cliente,this.garagem.id=this.data.id,this.garagem.horaInicial=this.data.horaInicial,this.garagem.lavagem=this.data.lavagem,this.garagem.statusLavagem=this.data.statusLavagem,this.garagem.status=this.data.status}update(){this.garaService.updateCar(this.garagem).then(()=>{this.toast.success("Alterado com sucesso!")},t=>{this.toast.error("Erro ao alterar!")}),this.dialogClose()}dialogClose(){this.dialogRef.close()}validaCampos(){return!!(this.nome.valid&&this.telefone.valid&&this.modelo.valid&&this.placa.valid&&this.checkButton.valid&&this.radioButton.valid)&&this.garagem.nome.trim().length>=3&&this.garagem.modelo.trim().length>=3}validaHorario(){var t,e,n=this.data.horaInicial.split(":"),i=new Date;t=i.getHours()<=9?"0"+i.getHours():i.getHours(),e=i.getMinutes()<=9?"0"+i.getMinutes():i.getMinutes();var r=this.converteSeconds(n[0],n[1])+300;return this.converteSeconds(t,e)<r}deletar(){this.garaService.deleteCar(this.data.id),this.dialogClose()}converteSeconds(t,e){return 60*t*60+60*e}validaLavagem(){return"LAVAGEM"===this.data.lavagem}}return t.\u0275fac=function(e){return new(e||t)(No(pj),No(hj),No(n3),No(MA))},t.\u0275cmp=Ht({type:t,selectors:[["app-dialog-finalizar"]],decls:46,vars:20,consts:[[1,"form","mat-elevation-z2"],["src","assets/img/logo-minoruOld.png"],["required","","name","selectEstaci",3,"formControl","ngModel","disabled","ngModelChange"],["value","AVULSO"],["value","DIARIO"],["appearance","fill",1,"full-width"],["required","","name","nome","matInput","","placeholder","Ex. Matheus Andrade",3,"formControl","ngModel","ngModelChange"],["required","","name","placa","matInput","","placeholder","Ex. Padrao MERCOSUL/ANTIGOm","mask","SSS-0A00",3,"formControl","ngModel","validation","ngModelChange"],["required","","name","telefone","matInput","","placeholder","Ex. (11) 94666635","mask","(00)  00000-0000",3,"formControl","ngModel","ngModelChange"],["required","","name","modelo","matInput","","placeholder","Ex. Toyota Corolla",3,"formControl","ngModel","ngModelChange"],["required","","required","",1,"radiobutton",3,"formControl","ngModel","disabled","ngModelChange"],["value","CARRO","true",""],["value","MOTO"],["required","",3,"formControl"],[3,"checked","disabled"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"disabled","click"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"click"],[1,"material-icons"]],template:function(t,e){1&t&&(Fo(0,"form",0),Bo(1,"img",1),Fo(2,"h1"),Ca(3,"SELECIONE O TIPO DE SERVI\xc7O"),Vo(),Fo(4,"mat-button-toggle-group",2),Ko("ngModelChange",function(t){return e.garagem.cliente=t}),Fo(5,"mat-button-toggle",3),Ca(6,"AVULSO"),Vo(),Fo(7,"mat-button-toggle",4),Ca(8,"DIARIO"),Vo(),Vo(),Bo(9,"br"),Fo(10,"mat-form-field",5),Fo(11,"mat-label"),Ca(12,"Nome"),Vo(),Fo(13,"input",6),Ko("ngModelChange",function(t){return e.garagem.nome=t}),Vo(),Vo(),Fo(14,"mat-form-field",5),Fo(15,"mat-label"),Ca(16,"Placa"),Vo(),Fo(17,"input",7),Ko("ngModelChange",function(t){return e.garagem.placa=t}),Vo(),Vo(),Bo(18,"br"),Fo(19,"mat-form-field",5),Fo(20,"mat-label"),Ca(21,"Telefone"),Vo(),Fo(22,"input",8),Ko("ngModelChange",function(t){return e.garagem.telefone=t}),Vo(),Vo(),Fo(23,"mat-form-field",5),Fo(24,"mat-label"),Ca(25,"Modelo"),Vo(),Fo(26,"input",9),Ko("ngModelChange",function(t){return e.garagem.modelo=t}),Vo(),Vo(),Bo(27,"br"),Fo(28,"mat-radio-group",10),Ko("ngModelChange",function(t){return e.garagem.veiculo=t}),Fo(29,"mat-radio-button",11),Ca(30,"CARRO"),Vo(),Fo(31,"mat-radio-button",12),Ca(32,"MOTO"),Vo(),Vo(),Bo(33,"br"),Bo(34,"br"),Fo(35,"section",13),Fo(36,"mat-checkbox",14),Ca(37,"Deseja realizar lavagem no veiculo!"),Vo(),Vo(),Bo(38,"br"),Fo(39,"button",15),Ko("click",function(){return e.update()}),Ca(40," ATUALIZAR "),Vo(),Fo(41,"button",16),Ko("click",function(){return e.dialogClose()}),Ca(42," CANCELAR "),Vo(),Fo(43,"button",15),Ko("click",function(){return e.deletar()}),Fo(44,"i",17),Ca(45,"delete"),Vo(),Vo(),Vo()),2&t&&(rs(4),Mo("formControl",e.checkButton)("ngModel",e.garagem.cliente)("disabled",!0),rs(9),Mo("formControl",e.nome)("ngModel",e.garagem.nome),rs(4),Mo("formControl",e.placa)("ngModel",e.garagem.placa)("validation",!0),rs(5),Mo("formControl",e.telefone)("ngModel",e.garagem.telefone),rs(4),Mo("formControl",e.modelo)("ngModel",e.garagem.modelo),rs(2),Mo("formControl",e.radioButton)("ngModel",e.garagem.veiculo)("disabled",!0),rs(7),Mo("formControl",e.checkLavagem),rs(1),Mo("checked",e.validaLavagem())("disabled",!0),rs(3),Mo("disabled",!e.validaCampos()),rs(4),Mo("disabled",!e.validaHorario()))},directives:[Fg,hg,Lg,u3,Hg,ug,Ug,d3,eM,GN,pM,Bm,C3,M3,B3,Z3,vM],styles:[".form[_ngcontent-%COMP%]{width:auto;margin:auto;background-color:#ebebeb;padding:4rem 1rem;border-radius:1rem;align-items:center;text-align:center;justify-content:center}.full-width[_ngcontent-%COMP%]{width:30rem;padding:1rem}.radiobutton[_ngcontent-%COMP%]{padding:10rem}.material-icons[_ngcontent-%COMP%]{padding:1rem;color:red}"]}),t})(),n5=(()=>{class t{constructor(t,e,n,i){this.data=t,this.dialogRef=e,this.garagemservice=n,this.toast=i,this.garagem={nome:"",telefone:"",modelo:"",veiculo:"",cliente:"",horaInicial:"",placa:"",status:"",lavagem:"",statusLavagem:""}}ngOnInit(){this.garagem.nome=this.data.nome,this.garagem.placa=this.data.placa,this.garagem.telefone=this.data.telefone,this.garagem.modelo=this.data.modelo,this.garagem.veiculo=this.data.veiculo,this.garagem.cliente=this.data.cliente,this.garagem.id=this.data.id,this.garagem.horaInicial=this.data.horaInicial,this.garagem.lavagem=this.data.lavagem,this.garagem.statusLavagem=this.data.statusLavagem,this.garagem.status=this.data.status,this.calcularValor();var t,e,n=new Date;t=n.getHours()<10?"0"+n.getHours():n.getHours(),e=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),this.dataFormat=t+":"+e}dialogClose(){this.dialogRef.close()}calcularValor(){var t=this;return Yg(function*(){let e,n=0,i=0,r=0;t.garagemservice.returnDocument(t.garagem.veiculo).then(s=>{if(e=s,i=e.lavagem,r=e.diario,n=e.avulso,"DIARIO"===t.garagem.cliente)t.valorPagar="LAVAGEM"===t.garagem.lavagem?r+i:r;else{var o=t.garagem.horaInicial.split(":"),a=t.converteMin(o[0],o[1]),l=new Date,c=t.converteMin(l.getHours(),l.getMinutes());if(c-a>=60)if("LAVAGEM"===t.garagem.lavagem){var u=Math.floor((c-a)/60);t.valorPagar=1==u?n*(u+1)+i:n*u+i}else u=Math.floor((c-a)/60),t.valorPagar=n*(u+1);else t.valorPagar="LAVAGEM"===t.garagem.lavagem?n+i:n}})})()}converteMin(t,e){return 60*(t=parseInt(t))+parseInt(e)}finalizar(t){let e;this.garagemservice.returnMensal().then(n=>{e=n;var i=n.valorRendimento;e.valorRendimento=i+=t,this.garagemservice.updateRendimento(e).then(t=>{this.garagem.status="FINALIZADO",this.garagemservice.updateCar(this.garagem),this.dialogRef.close(),this.toast.success("Finalizado com Sucesso")},t=>{this.toast.error("ERRO")})})}}return t.\u0275fac=function(e){return new(e||t)(No(pj),No(hj),No(n3),No(MA))},t.\u0275cmp=Ht({type:t,selectors:[["app-dialog-editar"]],decls:35,vars:7,consts:[[1,"form","mat-elevation-z2"],["src","assets/img/erfil2.png"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"click"]],template:function(t,e){1&t&&(Fo(0,"form",0),Bo(1,"img",1),Bo(2,"br"),Bo(3,"br"),Fo(4,"h1"),Fo(5,"strong"),Ca(6,"Nome:"),Vo(),Ca(7),Vo(),Bo(8,"br"),Fo(9,"h1"),Fo(10,"strong"),Ca(11,"Modelo:"),Vo(),Ca(12),Fo(13,"strong"),Ca(14,"Placa:"),Vo(),Ca(15),Fo(16,"strong"),Ca(17,"Veiculo:"),Vo(),Ca(18),Vo(),Fo(19,"h1"),Fo(20,"strong"),Ca(21,"Horario de entrada:"),Vo(),Ca(22),Fo(23,"strong"),Ca(24,"Horario de saida:"),Vo(),Ca(25),Vo(),Fo(26,"h1"),Fo(27,"strong"),Ca(28,"Valor a pagar:"),Vo(),Fo(29,"strong"),Ca(30),Vo(),Vo(),Fo(31,"button",2),Ko("click",function(){return e.finalizar(e.valorPagar)}),Ca(32," FINALIZAR "),Vo(),Fo(33,"button",2),Ko("click",function(){return e.dialogClose()}),Ca(34," CANCELAR "),Vo(),Vo()),2&t&&(rs(7),Sa(" ",e.garagem.nome,""),rs(5),Sa(" ",e.garagem.modelo," \xa0 \xa0 \xa0 "),rs(3),Sa(" ",e.garagem.placa," \xa0 \xa0 "),rs(3),Sa("",e.garagem.veiculo," "),rs(4),Sa(" ",e.garagem.horaInicial," \xa0 \xa0 \xa0 "),rs(3),Sa(" ",e.dataFormat," "),rs(5),Sa(" ",e.valorPagar,""))},directives:[Fg,hg,Lg,vM],styles:[".form[_ngcontent-%COMP%]{width:auto;margin:auto;background-color:#ebebeb;padding:4rem 1rem;border-radius:1rem;align-items:center;text-align:center;justify-content:center}"]}),t})();function i5(t,e){1&t&&(Fo(0,"th",11),Ca(1,"Nome"),Vo())}function r5(t,e){if(1&t&&(Fo(0,"td",12),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.nome)}}function s5(t,e){1&t&&(Fo(0,"th",11),Ca(1,"Placa"),Vo())}function o5(t,e){if(1&t&&(Fo(0,"td",12),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.placa)}}function a5(t,e){1&t&&(Fo(0,"th",11),Ca(1,"Hora"),Vo())}function l5(t,e){if(1&t&&(Fo(0,"td",12),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.horaInicial)}}function c5(t,e){1&t&&(Fo(0,"th",11),Ca(1,"A\xe7oes"),Vo())}function u5(t,e){if(1&t){const t=qo();Fo(0,"td",12),Fo(1,"button",13),Ko("click",function(){const e=Le(t).$implicit;return Xo().editUser(e)}),Ca(2,"edit"),Vo(),Fo(3,"button",13),Ko("click",function(){const e=Le(t).$implicit;return Xo().finalizar(e)}),Ca(4," check "),Vo(),Vo()}}function h5(t,e){1&t&&Bo(0,"tr",14)}function d5(t,e){1&t&&Bo(0,"tr",15)}let p5=(()=>{class t{constructor(t,e){this.garagemService=t,this.dialog=e,this.ELEMENT_DATA=[],this.displayedColumns=["position","name","weight","acoes"],this.dataSource=new rj(this.ELEMENT_DATA)}ngOnInit(){this.garagemService.getAllCars().subscribe(t=>{this.ELEMENT_DATA=t,this.dataSource=new rj(t)})}onCreate(){const t=new oj;t.disableClose=!0,t.autoFocus=!0,t.width="60%",this.dialog.open(t5,t)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}editUser(t){const e=new oj;e.disableClose=!0,e.autoFocus=!0,e.width="60%",e.data=t,this.dialog.open(e5,e)}finalizar(t){const e=new oj;e.disableClose=!0,e.autoFocus=!0,e.width="60%",e.data=t,this.dialog.open(n5,e)}}return t.\u0275fac=function(e){return new(e||t)(No(n3),No(_j))},t.\u0275cmp=Ht({type:t,selectors:[["app-garagem"]],viewQuery:function(t,e){if(1&t&&uc(sB,5),2&t){let t;cc(t=dc())&&(e.paginator=t.first)}},decls:19,vars:3,consts:[[1,"container"],["mat-button","","color","primary",3,"click"],["mat-table","",1,"tabela","mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"p"),Fo(2,"button",1),Ko("click",function(){return e.onCreate()}),Ca(3,"Adicionar"),Vo(),Vo(),Fo(4,"table",2),jo(5,3),Oo(6,i5,2,0,"th",4),Oo(7,r5,2,1,"td",5),Uo(),jo(8,6),Oo(9,s5,2,0,"th",4),Oo(10,o5,2,1,"td",5),Uo(),jo(11,7),Oo(12,a5,2,0,"th",4),Oo(13,l5,2,1,"td",5),Uo(),jo(14,8),Oo(15,c5,2,0,"th",4),Oo(16,u5,5,0,"td",5),Uo(),Oo(17,h5,1,0,"tr",9),Oo(18,d5,1,0,"tr",10),Vo(),Vo()),2&t&&(rs(4),Mo("dataSource",e.dataSource),rs(13),Mo("matHeaderRowDef",e.displayedColumns),rs(1),Mo("matRowDefColumns",e.displayedColumns))},directives:[vM,KB,YB,QB,WB,JB,tj,ZB,XB,ej,nj],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 98px);margin:16px 16px 16px 32px;display:flex;justify-content:center;align-items:center;font-size:2rem;color:#d3d3d3;background:#d3d3d3;border-radius:10px}.tabela[_ngcontent-%COMP%]{width:70%;height:auto;background-color:#fff}"]}),t})(),f5=(()=>{class t{constructor(t){this.firestore=t}getAllMensalistas(){return H2(J2(K2(this.firestore,"Mensalistas"),e3("contrato","==",!0)),{idField:"id"})}getCollection(){}addCar(t){return G2(K2(this.firestore,"Mensalistas"),t)}}return t.\u0275fac=function(e){return new(e||t)(gi(F2))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m5=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.mensalService=e,this.toast=n,this.garagem=i,this.mensalistas={nome:"",InicioContrato:"",VencimentoContrato:"",contrato:!1,cpf:"",dataNascimento:"",email:"",endereco:"",modelo:"",placa:"",tel:"",veiculo:""},this.nome=new Dg(null,Hm.minLength(3)),this.telefone=new Dg(null),this.modelo=new Dg(null,Hm.minLength(3)),this.placa=new Dg(null),this.checkButton=new Dg(null),this.radioButton=new Dg(null),this.dataNascimento=new Dg(null),this.cpf=new Dg(null),this.endereco=new Dg(null,Hm.minLength(3)),this.email=new Dg(null,Hm.email),this.checkAcessSistem=new Dg(null,Hm.required)}ngOnInit(){let t;this.garagem.returnDocument("CARRO").then(e=>{t=e,this.valorCar=t.mensal}),this.garagem.returnDocument("Moto").then(e=>{t=e,this.valorMoto=t.mensal}),this.valorPagar="R$ 0"}dialogClose(){this.dialogRef.close()}cadastrar(){let t=this.mensalistas.cpf;if(t=t.replace(".",""),t=t.replace(".",""),t=t.replace("-",""),this.testaCPF(t))if(this.getIdade(this.mensalistas.dataNascimento))this.mensalistas.dataNascimento="",this.toast.error("ERRO: Menor de 18 anos ou ano superior a 2023");else{let t=new Date;this.mensalistas.InicioContrato=t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear();let n=new Date,i=this.addDays(n,30);if(this.mensalistas.VencimentoContrato=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),this.mensalistas.contrato=!0,this.checkAcessSistem.valid){const t=nA(),n=this.mensalistas.email;var e=this.mensalistas.dataNascimento.replace("/","");const i=e=e.replace("/","");console.log("ACESSO EMAIL"),eA(t,n,i).then(t=>{this.cadastrarBd(this.mensalistas).then(t=>{this.dialogRef.close(),this.toast.success("SUCESSO AO CADASTRAR!")})},t=>{})}else this.cadastrarBd(this.mensalistas).then(t=>{this.dialogRef.close(),this.toast.success("SUCESSO AO CADASTRAR!")},t=>{console.log("failed")})}else this.mensalistas.cpf="",this.toast.error("Cpf invalido! por favor digite um cpf valido!")}carMoto(){this.valorPagar=this.formatNumber(this.valorMoto)}carValor(){this.valorPagar=this.formatNumber(this.valorCar)}getIdade(t){let e=t.split("/"),n=new Date;return new Date(parseInt(e[2])+18,parseInt(e[1]),parseInt(e[0]))>=new Date(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate())}cadastrarBd(t){return this.mensalService.addCar(t)}validaCampos(){return!!(this.nome.valid&&this.telefone.valid&&this.modelo.valid&&this.placa.valid&&this.checkButton.valid&&this.radioButton.valid&&this.dataNascimento.valid&&this.cpf.valid&&this.endereco.valid)&&this.mensalistas.nome.trim().length>=3&&this.mensalistas.modelo.trim().length>=3&&this.mensalistas.endereco.trim().length>=3&&(!this.validaEmail()||!!this.email.valid)}validaEmail(){return!!this.validEmail(this.mensalistas.email)}testaCPF(t){var e,n;if(e=0,"00000000000"==t)return!1;if("11111111111"==t)return!1;if("22222222222"==t)return!1;if("33333333333"==t)return!1;if("44444444444"==t)return!1;if("55555555555"==t)return!1;if("66666666666"==t)return!1;if("77777777777"==t)return!1;if("88888888888"==t)return!1;if("99999999999"==t)return!1;for(var i=1;i<=9;i++)e+=parseInt(t.substring(i-1,i))*(11-i);if(10!=(n=10*e%11)&&11!=n||(n=0),n!=parseInt(t.substring(9,10)))return!1;for(e=0,i=1;i<=10;i++)e+=parseInt(t.substring(i-1,i))*(12-i);return 10!=(n=10*e%11)&&11!=n||(n=0),n==parseInt(t.substring(10,11))}addDays(t,e){return t.setDate(t.getDate()+e),t}formatNumber(t){return t.toLocaleString("pt-br",{currency:"BRL",style:"currency",minimumFractionDigits:2})}validEmail(t){return/^[\w+.]+@\w+\.\w{2,}(?:\.\w{2})?$/.test(t)}}return t.\u0275fac=function(e){return new(e||t)(No(hj),No(f5),No(MA),No(n3))},t.\u0275cmp=Ht({type:t,selectors:[["app-dialog-add-mensal"]],decls:71,vars:24,consts:[[1,"form"],["src","assets/img/logo-minoruOld.png","width","200px","height","100px"],["appearance","outline",1,"full-width"],["name","nome","matInput","","placeholder","Ex. Matheus Andrade","required","",3,"formControl","ngModel","ngModelChange"],["required","","name","placa","matInput","","placeholder","Ex. Padrao MERCOSUL/ANTIGOm","mask","SSS-0A00",3,"formControl","ngModel","ngModelChange"],["required","","name","telefone","matInput","","placeholder","Ex. (11) 94696-6635","mask","(00)  00000-0000",3,"formControl","ngModel","ngModelChange"],["required","","name","dataNascimento","matInput","","placeholder","Ex. 06/02/2003","mask","00/00/0000",3,"formControl","ngModel","hiddenInput","ngModelChange"],["required","","name","cpf","matInput","","placeholder","Ex. 234.234.231-23","mask","000.000.000-00",3,"formControl","ngModel","hiddenInput","ngModelChange"],["required","","name","modelo","matInput","","placeholder","Ex. Toyota Corolla",3,"formControl","ngModel","ngModelChange"],["required","","name","endereco","matInput","","placeholder","Ex. Avenida Tiradents ,32",3,"formControl","ngModel","ngModelChange"],["name","email","matInput","","placeholder","Ex. matheus@fatec.com",3,"formControl","ngModel","ngModelChange"],["required","",1,"radiobutton",3,"formControl","ngModel","ngModelChange"],["value","CARRO",3,"click"],["value","MOTO",3,"click"],[3,"formControl","disabled"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"disabled","click"],["mat-stroked-button","","color","primary",1,"full-width","mat-elevation-z5",3,"click"]],template:function(t,e){1&t&&(Fo(0,"form",0),Bo(1,"img",1),Fo(2,"h1"),Ca(3,"CADASTRO DE MENSALISTAS"),Vo(),Bo(4,"br"),Fo(5,"mat-form-field",2),Fo(6,"mat-label"),Ca(7,"Nome"),Vo(),Fo(8,"input",3),Ko("ngModelChange",function(t){return e.mensalistas.nome=t}),Vo(),Fo(9,"mat-error"),Ca(10,"Digite o nome com no minimo 3 caracteres"),Vo(),Vo(),Fo(11,"mat-form-field",2),Fo(12,"mat-label"),Ca(13,"Placa"),Vo(),Fo(14,"input",4),Ko("ngModelChange",function(t){return e.mensalistas.placa=t}),Vo(),Fo(15,"mat-error"),Ca(16,"Placa no padrao mercosul ou padrao antigo"),Vo(),Vo(),Bo(17,"br"),Fo(18,"mat-form-field",2),Fo(19,"mat-label"),Ca(20,"Telefone"),Vo(),Fo(21,"input",5),Ko("ngModelChange",function(t){return e.mensalistas.tel=t}),Vo(),Fo(22,"mat-error"),Ca(23,"Complete o campo corretamente o telefone"),Vo(),Vo(),Fo(24,"mat-form-field",2),Fo(25,"mat-label"),Ca(26,"Data de nascimento"),Vo(),Fo(27,"input",6),Ko("ngModelChange",function(t){return e.mensalistas.dataNascimento=t}),Vo(),Fo(28,"mat-error"),Ca(29,"Complete o campo data de nascimento"),Vo(),Vo(),Bo(30,"br"),Fo(31,"mat-form-field",2),Fo(32,"mat-label"),Ca(33,"CPF"),Vo(),Fo(34,"input",7),Ko("ngModelChange",function(t){return e.mensalistas.cpf=t}),Vo(),Fo(35,"mat-error"),Ca(36,"Digite corretamente o CPF"),Vo(),Vo(),Fo(37,"mat-form-field",2),Fo(38,"mat-label"),Ca(39,"Modelo"),Vo(),Fo(40,"input",8),Ko("ngModelChange",function(t){return e.mensalistas.modelo=t}),Vo(),Fo(41,"mat-error"),Ca(42,"Digite o modelo do veiculo com no minimo 3 Caracteres"),Vo(),Vo(),Bo(43,"br"),Fo(44,"mat-form-field",2),Fo(45,"mat-label"),Ca(46,"Endere\xe7o"),Vo(),Fo(47,"input",9),Ko("ngModelChange",function(t){return e.mensalistas.endereco=t}),Vo(),Fo(48,"mat-error"),Ca(49,"Digite o endereco com no minimo 3 caracteres"),Vo(),Vo(),Fo(50,"mat-form-field",2),Fo(51,"mat-label"),Ca(52,"Email - (OPCIONAL)"),Vo(),Fo(53,"input",10),Ko("ngModelChange",function(t){return e.mensalistas.email=t}),Vo(),Vo(),Bo(54,"br"),Fo(55,"mat-radio-group",11),Ko("ngModelChange",function(t){return e.mensalistas.veiculo=t}),Fo(56,"mat-radio-button",12),Ko("click",function(){return e.carValor()}),Ca(57,"CARRO"),Vo(),Fo(58,"mat-radio-button",13),Ko("click",function(){return e.carMoto()}),Ca(59,"MOTO"),Vo(),Vo(),Bo(60,"br"),Fo(61,"section"),Fo(62,"mat-checkbox",14),Ca(63,"Deseja criar uma conta no sistema?"),Vo(),Vo(),Bo(64,"br"),Fo(65,"h1"),Ca(66),Vo(),Fo(67,"button",15),Ko("click",function(){return e.cadastrar()}),Ca(68," CADASTRAR "),Vo(),Fo(69,"button",16),Ko("click",function(){return e.dialogClose()}),Ca(70," CANCELAR "),Vo(),Vo()),2&t&&(rs(8),Mo("formControl",e.nome)("ngModel",e.mensalistas.nome),rs(6),Mo("formControl",e.placa)("ngModel",e.mensalistas.placa),rs(7),Mo("formControl",e.telefone)("ngModel",e.mensalistas.tel),rs(6),Mo("formControl",e.dataNascimento)("ngModel",e.mensalistas.dataNascimento)("hiddenInput",!0),rs(7),Mo("formControl",e.cpf)("ngModel",e.mensalistas.cpf)("hiddenInput",!0),rs(6),Mo("formControl",e.modelo)("ngModel",e.mensalistas.modelo),rs(7),Mo("formControl",e.endereco)("ngModel",e.mensalistas.endereco),rs(6),Mo("formControl",e.email)("ngModel",e.mensalistas.email),rs(2),Mo("formControl",e.radioButton)("ngModel",e.mensalistas.veiculo),rs(7),Mo("formControl",e.checkAcessSistem)("disabled",!e.validaEmail()),rs(4),Sa("VALOR A PAGAR:",e.valorPagar,""),rs(1),Mo("disabled",!e.validaCampos()))},directives:[Fg,hg,Lg,eM,GN,pM,Bm,Hg,ug,Ug,zN,C3,M3,B3,Z3,vM],styles:[".form[_ngcontent-%COMP%]{width:auto;margin:auto;align-items:center;text-align:center;justify-content:center}.full-width[_ngcontent-%COMP%]{width:30rem;padding:1rem}.radiobutton[_ngcontent-%COMP%]{padding:10rem}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:2px}mat-radio-button[_ngcontent-%COMP%]{padding:1rem}"]}),t})();function g5(t,e){1&t&&(Fo(0,"th",14),Ca(1,"Nome"),Vo())}function y5(t,e){if(1&t&&(Fo(0,"td",15),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.nome)}}function _5(t,e){1&t&&(Fo(0,"th",14),Ca(1,"Placa"),Vo())}function v5(t,e){if(1&t&&(Fo(0,"td",15),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.placa)}}function b5(t,e){1&t&&(Fo(0,"th",14),Ca(1,"Hora"),Vo())}function w5(t,e){if(1&t&&(Fo(0,"td",15),Ca(1),Vo()),2&t){const t=e.$implicit;rs(1),ka(t.horaInicial)}}function C5(t,e){1&t&&(Fo(0,"th",14),Ca(1,"A\xe7oes"),Vo())}function k5(t,e){1&t&&(Fo(0,"td",15),Fo(1,"button",16),Ca(2,"edit"),Vo(),Fo(3,"button",16),Ca(4,"check"),Vo(),Vo())}function S5(t,e){1&t&&Bo(0,"tr",17)}function x5(t,e){1&t&&Bo(0,"tr",18)}const E5=function(){return[5,10,20]};let I5=(()=>{class t{constructor(t,e){this.mensalistasServices=t,this.dialog=e,this.ELEMENT_DATA=[],this.displayedColumns=["position","name","weight","acoes"],this.dataSource=new rj(this.ELEMENT_DATA)}ngOnInit(){this.mensalistasServices.getAllMensalistas().subscribe(t=>{this.ELEMENT_DATA=t,this.dataSource=new rj(t)})}abrirDialog(){const t=new oj;t.disableClose=!0,t.autoFocus=!0,t.width="60%",this.dialog.open(m5,t)}}return t.\u0275fac=function(e){return new(e||t)(No(f5),No(_j))},t.\u0275cmp=Ht({type:t,selectors:[["app-mensalistas"]],viewQuery:function(t,e){if(1&t&&uc(sB,5),2&t){let t;cc(t=dc())&&(e.paginator=t.first)}},decls:21,vars:5,consts:[[1,"container"],[1,"button"],["mat-button","","color","primary",1,"buttonadd",3,"click"],[1,"table"],["mat-table","",1,"tabela","mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"material-icons"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(Fo(0,"div",0),Fo(1,"div",1),Fo(2,"button",2),Ko("click",function(){return e.abrirDialog()}),Ca(3," Adicionar "),Vo(),Vo(),Fo(4,"div",3),Fo(5,"table",4),jo(6,5),Oo(7,g5,2,0,"th",6),Oo(8,y5,2,1,"td",7),Uo(),jo(9,8),Oo(10,_5,2,0,"th",6),Oo(11,v5,2,1,"td",7),Uo(),jo(12,9),Oo(13,b5,2,0,"th",6),Oo(14,w5,2,1,"td",7),Uo(),jo(15,10),Oo(16,C5,2,0,"th",6),Oo(17,k5,5,0,"td",7),Uo(),Oo(18,S5,1,0,"tr",11),Oo(19,x5,1,0,"tr",12),Vo(),Bo(20,"mat-paginator",13),Vo(),Vo()),2&t&&(rs(5),Mo("dataSource",e.dataSource),rs(13),Mo("matHeaderRowDef",e.displayedColumns),rs(1),Mo("matRowDefColumns",e.displayedColumns),rs(1),Mo("pageSizeOptions",function(t,e,n){const i=$e()+4,r=Ne();return r[i]===is?To(r,i,e()):function(t,e){return t[e]}(r,i)}(0,E5)))},directives:[vM,KB,YB,QB,WB,JB,tj,sB,ZB,XB,ej,nj],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 98px);margin:16px 16px 16px 32px;display:flex;justify-content:center;align-items:center;font-size:2rem;color:#d3d3d3;background:#d3d3d3;border-radius:10px}.tabela[_ngcontent-%COMP%]{margin:auto;max-height:calc(100vh - 98px);height:50%;width:500px}.button[_ngcontent-%COMP%], .tabela[_ngcontent-%COMP%]{text-align:right}"]}),t})(),T5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-sobre"]],decls:2,vars:0,template:function(t,e){1&t&&(Fo(0,"p"),Ca(1,"sobre works!"),Vo())},styles:[""]}),t})();const A5=T(t=>!!t);let R5=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>A5);return tA(this.auth).pipe(nd(1),n(t,e),T(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(gi(um),gi(HT))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();T(t=>!!t&&!t.isAnonymous);const D5=Xh(t=>t?t.getIdTokenResult():Vh(null));T(t=>!!t&&t.emailVerified),_(D5,T(t=>t?t.claims:[]));const O5=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:fL,canActivate:[R5],data:{authGuardPipe:()=>{return t=["home"],_(A5,T(e=>e&&t||!0));var t}}},{path:"",component:EF,children:[{path:"home",component:mL},{path:"garagem",component:p5},{path:"mensalistas",component:I5},{path:"sobre",component:T5}],canActivate:[R5],data:{authGuardPipe:t=>_(A5,T(e=>e||t))}}];let P5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[km.forRoot(O5)],km]}),t})(),N5=(()=>{class t{constructor(){this.title="MinoruWeb"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Bo(0,"router-outlet")},directives:[pm],encapsulation:2}),t})(),M5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[gV,NF,th,bM,zP],zP]}),t})(),L5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[zP],zP]}),t})(),F5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[XP,zP],XP,zP]}),t})();const V5={projectId:"minoru-fe017",appId:"1:929592114740:web:d7491e475aa429525d1461",storageBucket:"minoru-fe017.appspot.com",locationId:"us-central",apiKey:"AIzaSyC3-Xzkg2ROWEvWFsJ-RmbOVvzruB0Scds",authDomain:"minoru-fe017.firebaseapp.com",messagingSenderId:"929592114740"};let B5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t,bootstrap:[N5]}),t.\u0275inj=mt({providers:[],imports:[[Fh,P5,MP,Kg,Wg,XM,nM,oB,J3,M5,lF,YL,bM,FV,fM,j3,ij,pL,CF,L5,vj,p3,F5,tk(()=>ek(V5)),XT(()=>nA()),$2(()=>X2()),S3.forRoot({dropSpecialCharacters:!1}),FA.forRoot({timeOut:4e3,closeButton:!0,progressBar:!0})]]}),t})();(function(){if(Yc)throw new Error("Cannot enable prod mode after platform setup.");Qc=!1})(),Mh().bootstrapModule(B5).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=360)}]);